const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./status-tap-nrozFgTC.js","./index8-Dfm50aR0.js","./input-shims-DTajyfS1.js"])))=>i.map(i=>d[i]);
function SF(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function wk(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var uw={exports:{}},zd={},dw={exports:{}},ht={};var dI;function IF(){if(dI)return ht;dI=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),a=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),g=Symbol.iterator;function y(q){return q===null||typeof q!="object"?null:(q=g&&q[g]||q["@@iterator"],typeof q=="function"?q:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},I=Object.assign,E={};function S(q,re,Ce){this.props=q,this.context=re,this.refs=E,this.updater=Ce||x}S.prototype.isReactComponent={},S.prototype.setState=function(q,re){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,re,"setState")},S.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function k(){}k.prototype=S.prototype;function A(q,re,Ce){this.props=q,this.context=re,this.refs=E,this.updater=Ce||x}var N=A.prototype=new k;N.constructor=A,I(N,S.prototype),N.isPureReactComponent=!0;var B=Array.isArray,j=Object.prototype.hasOwnProperty,G={current:null},O={key:!0,ref:!0,__self:!0,__source:!0};function P(q,re,Ce){var Re,qe={},et=null,xe=null;if(re!=null)for(Re in re.ref!==void 0&&(xe=re.ref),re.key!==void 0&&(et=""+re.key),re)j.call(re,Re)&&!O.hasOwnProperty(Re)&&(qe[Re]=re[Re]);var Ve=arguments.length-2;if(Ve===1)qe.children=Ce;else if(1<Ve){for(var Ke=Array(Ve),Ge=0;Ge<Ve;Ge++)Ke[Ge]=arguments[Ge+2];qe.children=Ke}if(q&&q.defaultProps)for(Re in Ve=q.defaultProps,Ve)qe[Re]===void 0&&(qe[Re]=Ve[Re]);return{$$typeof:t,type:q,key:et,ref:xe,props:qe,_owner:G.current}}function D(q,re){return{$$typeof:t,type:q.type,key:re,ref:q.ref,props:q.props,_owner:q._owner}}function M(q){return typeof q=="object"&&q!==null&&q.$$typeof===t}function F(q){var re={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(Ce){return re[Ce]})}var $=/\/+/g;function V(q,re){return typeof q=="object"&&q!==null&&q.key!=null?F(""+q.key):re.toString(36)}function ne(q,re,Ce,Re,qe){var et=typeof q;(et==="undefined"||et==="boolean")&&(q=null);var xe=!1;if(q===null)xe=!0;else switch(et){case"string":case"number":xe=!0;break;case"object":switch(q.$$typeof){case t:case e:xe=!0}}if(xe)return xe=q,qe=qe(xe),q=Re===""?"."+V(xe,0):Re,B(qe)?(Ce="",q!=null&&(Ce=q.replace($,"$&/")+"/"),ne(qe,re,Ce,"",function(Ge){return Ge})):qe!=null&&(M(qe)&&(qe=D(qe,Ce+(!qe.key||xe&&xe.key===qe.key?"":(""+qe.key).replace($,"$&/")+"/")+q)),re.push(qe)),1;if(xe=0,Re=Re===""?".":Re+":",B(q))for(var Ve=0;Ve<q.length;Ve++){et=q[Ve];var Ke=Re+V(et,Ve);xe+=ne(et,re,Ce,Ke,qe)}else if(Ke=y(q),typeof Ke=="function")for(q=Ke.call(q),Ve=0;!(et=q.next()).done;)et=et.value,Ke=Re+V(et,Ve++),xe+=ne(et,re,Ce,Ke,qe);else if(et==="object")throw re=String(q),Error("Objects are not valid as a React child (found: "+(re==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":re)+"). If you meant to render a collection of children, use an array instead.");return xe}function ve(q,re,Ce){if(q==null)return q;var Re=[],qe=0;return ne(q,Re,"","",function(et){return re.call(Ce,et,qe++)}),Re}function de(q){if(q._status===-1){var re=q._result;re=re(),re.then(function(Ce){(q._status===0||q._status===-1)&&(q._status=1,q._result=Ce)},function(Ce){(q._status===0||q._status===-1)&&(q._status=2,q._result=Ce)}),q._status===-1&&(q._status=0,q._result=re)}if(q._status===1)return q._result.default;throw q._result}var me={current:null},Z={transition:null},ce={ReactCurrentDispatcher:me,ReactCurrentBatchConfig:Z,ReactCurrentOwner:G};function ue(){throw Error("act(...) is not supported in production builds of React.")}return ht.Children={map:ve,forEach:function(q,re,Ce){ve(q,function(){re.apply(this,arguments)},Ce)},count:function(q){var re=0;return ve(q,function(){re++}),re},toArray:function(q){return ve(q,function(re){return re})||[]},only:function(q){if(!M(q))throw Error("React.Children.only expected to receive a single React element child.");return q}},ht.Component=S,ht.Fragment=n,ht.Profiler=s,ht.PureComponent=A,ht.StrictMode=r,ht.Suspense=u,ht.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ce,ht.act=ue,ht.cloneElement=function(q,re,Ce){if(q==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+q+".");var Re=I({},q.props),qe=q.key,et=q.ref,xe=q._owner;if(re!=null){if(re.ref!==void 0&&(et=re.ref,xe=G.current),re.key!==void 0&&(qe=""+re.key),q.type&&q.type.defaultProps)var Ve=q.type.defaultProps;for(Ke in re)j.call(re,Ke)&&!O.hasOwnProperty(Ke)&&(Re[Ke]=re[Ke]===void 0&&Ve!==void 0?Ve[Ke]:re[Ke])}var Ke=arguments.length-2;if(Ke===1)Re.children=Ce;else if(1<Ke){Ve=Array(Ke);for(var Ge=0;Ge<Ke;Ge++)Ve[Ge]=arguments[Ge+2];Re.children=Ve}return{$$typeof:t,type:q.type,key:qe,ref:et,props:Re,_owner:xe}},ht.createContext=function(q){return q={$$typeof:a,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},q.Provider={$$typeof:i,_context:q},q.Consumer=q},ht.createElement=P,ht.createFactory=function(q){var re=P.bind(null,q);return re.type=q,re},ht.createRef=function(){return{current:null}},ht.forwardRef=function(q){return{$$typeof:l,render:q}},ht.isValidElement=M,ht.lazy=function(q){return{$$typeof:f,_payload:{_status:-1,_result:q},_init:de}},ht.memo=function(q,re){return{$$typeof:d,type:q,compare:re===void 0?null:re}},ht.startTransition=function(q){var re=Z.transition;Z.transition={};try{q()}finally{Z.transition=re}},ht.unstable_act=ue,ht.useCallback=function(q,re){return me.current.useCallback(q,re)},ht.useContext=function(q){return me.current.useContext(q)},ht.useDebugValue=function(){},ht.useDeferredValue=function(q){return me.current.useDeferredValue(q)},ht.useEffect=function(q,re){return me.current.useEffect(q,re)},ht.useId=function(){return me.current.useId()},ht.useImperativeHandle=function(q,re,Ce){return me.current.useImperativeHandle(q,re,Ce)},ht.useInsertionEffect=function(q,re){return me.current.useInsertionEffect(q,re)},ht.useLayoutEffect=function(q,re){return me.current.useLayoutEffect(q,re)},ht.useMemo=function(q,re){return me.current.useMemo(q,re)},ht.useReducer=function(q,re,Ce){return me.current.useReducer(q,re,Ce)},ht.useRef=function(q){return me.current.useRef(q)},ht.useState=function(q){return me.current.useState(q)},ht.useSyncExternalStore=function(q,re,Ce){return me.current.useSyncExternalStore(q,re,Ce)},ht.useTransition=function(){return me.current.useTransition()},ht.version="18.3.1",ht}var hI;function Bg(){return hI||(hI=1,dw.exports=IF()),dw.exports}var fI;function CF(){if(fI)return zd;fI=1;var t=Bg(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function a(l,u,d){var f,g={},y=null,x=null;d!==void 0&&(y=""+d),u.key!==void 0&&(y=""+u.key),u.ref!==void 0&&(x=u.ref);for(f in u)r.call(u,f)&&!i.hasOwnProperty(f)&&(g[f]=u[f]);if(l&&l.defaultProps)for(f in u=l.defaultProps,u)g[f]===void 0&&(g[f]=u[f]);return{$$typeof:e,type:l,key:y,ref:x,props:g,_owner:s.current}}return zd.Fragment=n,zd.jsx=a,zd.jsxs=a,zd}var pI;function AF(){return pI||(pI=1,uw.exports=CF()),uw.exports}var v=AF(),Bp={},hw={exports:{}},Pr={},fw={exports:{}},pw={};var mI;function PF(){return mI||(mI=1,(function(t){function e(Z,ce){var ue=Z.length;Z.push(ce);e:for(;0<ue;){var q=ue-1>>>1,re=Z[q];if(0<s(re,ce))Z[q]=ce,Z[ue]=re,ue=q;else break e}}function n(Z){return Z.length===0?null:Z[0]}function r(Z){if(Z.length===0)return null;var ce=Z[0],ue=Z.pop();if(ue!==ce){Z[0]=ue;e:for(var q=0,re=Z.length,Ce=re>>>1;q<Ce;){var Re=2*(q+1)-1,qe=Z[Re],et=Re+1,xe=Z[et];if(0>s(qe,ue))et<re&&0>s(xe,qe)?(Z[q]=xe,Z[et]=ue,q=et):(Z[q]=qe,Z[Re]=ue,q=Re);else if(et<re&&0>s(xe,ue))Z[q]=xe,Z[et]=ue,q=et;else break e}}return ce}function s(Z,ce){var ue=Z.sortIndex-ce.sortIndex;return ue!==0?ue:Z.id-ce.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var u=[],d=[],f=1,g=null,y=3,x=!1,I=!1,E=!1,S=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function N(Z){for(var ce=n(d);ce!==null;){if(ce.callback===null)r(d);else if(ce.startTime<=Z)r(d),ce.sortIndex=ce.expirationTime,e(u,ce);else break;ce=n(d)}}function B(Z){if(E=!1,N(Z),!I)if(n(u)!==null)I=!0,de(j);else{var ce=n(d);ce!==null&&me(B,ce.startTime-Z)}}function j(Z,ce){I=!1,E&&(E=!1,k(P),P=-1),x=!0;var ue=y;try{for(N(ce),g=n(u);g!==null&&(!(g.expirationTime>ce)||Z&&!F());){var q=g.callback;if(typeof q=="function"){g.callback=null,y=g.priorityLevel;var re=q(g.expirationTime<=ce);ce=t.unstable_now(),typeof re=="function"?g.callback=re:g===n(u)&&r(u),N(ce)}else r(u);g=n(u)}if(g!==null)var Ce=!0;else{var Re=n(d);Re!==null&&me(B,Re.startTime-ce),Ce=!1}return Ce}finally{g=null,y=ue,x=!1}}var G=!1,O=null,P=-1,D=5,M=-1;function F(){return!(t.unstable_now()-M<D)}function $(){if(O!==null){var Z=t.unstable_now();M=Z;var ce=!0;try{ce=O(!0,Z)}finally{ce?V():(G=!1,O=null)}}else G=!1}var V;if(typeof A=="function")V=function(){A($)};else if(typeof MessageChannel<"u"){var ne=new MessageChannel,ve=ne.port2;ne.port1.onmessage=$,V=function(){ve.postMessage(null)}}else V=function(){S($,0)};function de(Z){O=Z,G||(G=!0,V())}function me(Z,ce){P=S(function(){Z(t.unstable_now())},ce)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Z){Z.callback=null},t.unstable_continueExecution=function(){I||x||(I=!0,de(j))},t.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<Z?Math.floor(1e3/Z):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(Z){switch(y){case 1:case 2:case 3:var ce=3;break;default:ce=y}var ue=y;y=ce;try{return Z()}finally{y=ue}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Z,ce){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var ue=y;y=Z;try{return ce()}finally{y=ue}},t.unstable_scheduleCallback=function(Z,ce,ue){var q=t.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?q+ue:q):ue=q,Z){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=ue+re,Z={id:f++,callback:ce,priorityLevel:Z,startTime:ue,expirationTime:re,sortIndex:-1},ue>q?(Z.sortIndex=ue,e(d,Z),n(u)===null&&Z===n(d)&&(E?(k(P),P=-1):E=!0,me(B,ue-q))):(Z.sortIndex=re,e(u,Z),I||x||(I=!0,de(j))),Z},t.unstable_shouldYield=F,t.unstable_wrapCallback=function(Z){var ce=y;return function(){var ue=y;y=ce;try{return Z.apply(this,arguments)}finally{y=ue}}}})(pw)),pw}var gI;function RF(){return gI||(gI=1,fw.exports=PF()),fw.exports}var yI;function kF(){if(yI)return Pr;yI=1;var t=Bg(),e=RF();function n(o){for(var c="https://reactjs.org/docs/error-decoder.html?invariant="+o,h=1;h<arguments.length;h++)c+="&args[]="+encodeURIComponent(arguments[h]);return"Minified React error #"+o+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function i(o,c){a(o,c),a(o+"Capture",c)}function a(o,c){for(s[o]=c,o=0;o<c.length;o++)r.add(c[o])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),u=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},g={};function y(o){return u.call(g,o)?!0:u.call(f,o)?!1:d.test(o)?g[o]=!0:(f[o]=!0,!1)}function x(o,c,h,m){if(h!==null&&h.type===0)return!1;switch(typeof c){case"function":case"symbol":return!0;case"boolean":return m?!1:h!==null?!h.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function I(o,c,h,m){if(c===null||typeof c>"u"||x(o,c,h,m))return!0;if(m)return!1;if(h!==null)switch(h.type){case 3:return!c;case 4:return c===!1;case 5:return isNaN(c);case 6:return isNaN(c)||1>c}return!1}function E(o,c,h,m,w,b,R){this.acceptsBooleans=c===2||c===3||c===4,this.attributeName=m,this.attributeNamespace=w,this.mustUseProperty=h,this.propertyName=o,this.type=c,this.sanitizeURL=b,this.removeEmptyString=R}var S={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){S[o]=new E(o,0,!1,o,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var c=o[0];S[c]=new E(c,1,!1,o[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(o){S[o]=new E(o,2,!1,o.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){S[o]=new E(o,2,!1,o,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){S[o]=new E(o,3,!1,o.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(o){S[o]=new E(o,3,!0,o,null,!1,!1)}),["capture","download"].forEach(function(o){S[o]=new E(o,4,!1,o,null,!1,!1)}),["cols","rows","size","span"].forEach(function(o){S[o]=new E(o,6,!1,o,null,!1,!1)}),["rowSpan","start"].forEach(function(o){S[o]=new E(o,5,!1,o.toLowerCase(),null,!1,!1)});var k=/[\-:]([a-z])/g;function A(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var c=o.replace(k,A);S[c]=new E(c,1,!1,o,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var c=o.replace(k,A);S[c]=new E(c,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(o){var c=o.replace(k,A);S[c]=new E(c,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(o){S[o]=new E(o,1,!1,o.toLowerCase(),null,!1,!1)}),S.xlinkHref=new E("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(o){S[o]=new E(o,1,!1,o.toLowerCase(),null,!0,!0)});function N(o,c,h,m){var w=S.hasOwnProperty(c)?S[c]:null;(w!==null?w.type!==0:m||!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(I(c,h,w,m)&&(h=null),m||w===null?y(c)&&(h===null?o.removeAttribute(c):o.setAttribute(c,""+h)):w.mustUseProperty?o[w.propertyName]=h===null?w.type===3?!1:"":h:(c=w.attributeName,m=w.attributeNamespace,h===null?o.removeAttribute(c):(w=w.type,h=w===3||w===4&&h===!0?"":""+h,m?o.setAttributeNS(m,c,h):o.setAttribute(c,h))))}var B=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,j=Symbol.for("react.element"),G=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),M=Symbol.for("react.provider"),F=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),V=Symbol.for("react.suspense"),ne=Symbol.for("react.suspense_list"),ve=Symbol.for("react.memo"),de=Symbol.for("react.lazy"),me=Symbol.for("react.offscreen"),Z=Symbol.iterator;function ce(o){return o===null||typeof o!="object"?null:(o=Z&&o[Z]||o["@@iterator"],typeof o=="function"?o:null)}var ue=Object.assign,q;function re(o){if(q===void 0)try{throw Error()}catch(h){var c=h.stack.trim().match(/\n( *(at )?)/);q=c&&c[1]||""}return`
`+q+o}var Ce=!1;function Re(o,c){if(!o||Ce)return"";Ce=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(c)if(c=function(){throw Error()},Object.defineProperty(c.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(c,[])}catch(te){var m=te}Reflect.construct(o,[],c)}else{try{c.call()}catch(te){m=te}o.call(c.prototype)}else{try{throw Error()}catch(te){m=te}o()}}catch(te){if(te&&m&&typeof te.stack=="string"){for(var w=te.stack.split(`
`),b=m.stack.split(`
`),R=w.length-1,U=b.length-1;1<=R&&0<=U&&w[R]!==b[U];)U--;for(;1<=R&&0<=U;R--,U--)if(w[R]!==b[U]){if(R!==1||U!==1)do if(R--,U--,0>U||w[R]!==b[U]){var H=`
`+w[R].replace(" at new "," at ");return o.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",o.displayName)),H}while(1<=R&&0<=U);break}}}finally{Ce=!1,Error.prepareStackTrace=h}return(o=o?o.displayName||o.name:"")?re(o):""}function qe(o){switch(o.tag){case 5:return re(o.type);case 16:return re("Lazy");case 13:return re("Suspense");case 19:return re("SuspenseList");case 0:case 2:case 15:return o=Re(o.type,!1),o;case 11:return o=Re(o.type.render,!1),o;case 1:return o=Re(o.type,!0),o;default:return""}}function et(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case O:return"Fragment";case G:return"Portal";case D:return"Profiler";case P:return"StrictMode";case V:return"Suspense";case ne:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case F:return(o.displayName||"Context")+".Consumer";case M:return(o._context.displayName||"Context")+".Provider";case $:var c=o.render;return o=o.displayName,o||(o=c.displayName||c.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case ve:return c=o.displayName||null,c!==null?c:et(o.type)||"Memo";case de:c=o._payload,o=o._init;try{return et(o(c))}catch{}}return null}function xe(o){var c=o.type;switch(o.tag){case 24:return"Cache";case 9:return(c.displayName||"Context")+".Consumer";case 10:return(c._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=c.render,o=o.displayName||o.name||"",c.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return c;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return et(c);case 8:return c===P?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c}return null}function Ve(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function Ke(o){var c=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function Ge(o){var c=Ke(o)?"checked":"value",h=Object.getOwnPropertyDescriptor(o.constructor.prototype,c),m=""+o[c];if(!o.hasOwnProperty(c)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var w=h.get,b=h.set;return Object.defineProperty(o,c,{configurable:!0,get:function(){return w.call(this)},set:function(R){m=""+R,b.call(this,R)}}),Object.defineProperty(o,c,{enumerable:h.enumerable}),{getValue:function(){return m},setValue:function(R){m=""+R},stopTracking:function(){o._valueTracker=null,delete o[c]}}}}function lt(o){o._valueTracker||(o._valueTracker=Ge(o))}function pt(o){if(!o)return!1;var c=o._valueTracker;if(!c)return!0;var h=c.getValue(),m="";return o&&(m=Ke(o)?o.checked?"true":"false":o.value),o=m,o!==h?(c.setValue(o),!0):!1}function Vt(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}function Lt(o,c){var h=c.checked;return ue({},c,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:h??o._wrapperState.initialChecked})}function Kn(o,c){var h=c.defaultValue==null?"":c.defaultValue,m=c.checked!=null?c.checked:c.defaultChecked;h=Ve(c.value!=null?c.value:h),o._wrapperState={initialChecked:m,initialValue:h,controlled:c.type==="checkbox"||c.type==="radio"?c.checked!=null:c.value!=null}}function Gn(o,c){c=c.checked,c!=null&&N(o,"checked",c,!1)}function Qn(o,c){Gn(o,c);var h=Ve(c.value),m=c.type;if(h!=null)m==="number"?(h===0&&o.value===""||o.value!=h)&&(o.value=""+h):o.value!==""+h&&(o.value=""+h);else if(m==="submit"||m==="reset"){o.removeAttribute("value");return}c.hasOwnProperty("value")?Zr(o,c.type,h):c.hasOwnProperty("defaultValue")&&Zr(o,c.type,Ve(c.defaultValue)),c.checked==null&&c.defaultChecked!=null&&(o.defaultChecked=!!c.defaultChecked)}function qs(o,c,h){if(c.hasOwnProperty("value")||c.hasOwnProperty("defaultValue")){var m=c.type;if(!(m!=="submit"&&m!=="reset"||c.value!==void 0&&c.value!==null))return;c=""+o._wrapperState.initialValue,h||c===o.value||(o.value=c),o.defaultValue=c}h=o.name,h!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,h!==""&&(o.name=h)}function Zr(o,c,h){(c!=="number"||Vt(o.ownerDocument)!==o)&&(h==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+h&&(o.defaultValue=""+h))}var yr=Array.isArray;function _n(o,c,h,m){if(o=o.options,c){c={};for(var w=0;w<h.length;w++)c["$"+h[w]]=!0;for(h=0;h<o.length;h++)w=c.hasOwnProperty("$"+o[h].value),o[h].selected!==w&&(o[h].selected=w),w&&m&&(o[h].defaultSelected=!0)}else{for(h=""+Ve(h),c=null,w=0;w<o.length;w++){if(o[w].value===h){o[w].selected=!0,m&&(o[w].defaultSelected=!0);return}c!==null||o[w].disabled||(c=o[w])}c!==null&&(c.selected=!0)}}function z(o,c){if(c.dangerouslySetInnerHTML!=null)throw Error(n(91));return ue({},c,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function X(o,c){var h=c.value;if(h==null){if(h=c.children,c=c.defaultValue,h!=null){if(c!=null)throw Error(n(92));if(yr(h)){if(1<h.length)throw Error(n(93));h=h[0]}c=h}c==null&&(c=""),h=c}o._wrapperState={initialValue:Ve(h)}}function oe(o,c){var h=Ve(c.value),m=Ve(c.defaultValue);h!=null&&(h=""+h,h!==o.value&&(o.value=h),c.defaultValue==null&&o.defaultValue!==h&&(o.defaultValue=h)),m!=null&&(o.defaultValue=""+m)}function Ie(o){var c=o.textContent;c===o._wrapperState.initialValue&&c!==""&&c!==null&&(o.value=c)}function fe(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function W(o,c){return o==null||o==="http://www.w3.org/1999/xhtml"?fe(c):o==="http://www.w3.org/2000/svg"&&c==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var ae,we=(function(o){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(c,h,m,w){MSApp.execUnsafeLocalFunction(function(){return o(c,h,m,w)})}:o})(function(o,c){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=c;else{for(ae=ae||document.createElement("div"),ae.innerHTML="<svg>"+c.valueOf().toString()+"</svg>",c=ae.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;c.firstChild;)o.appendChild(c.firstChild)}});function ze(o,c){if(c){var h=o.firstChild;if(h&&h===o.lastChild&&h.nodeType===3){h.nodeValue=c;return}}o.textContent=c}var yt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Pn=["Webkit","ms","Moz","O"];Object.keys(yt).forEach(function(o){Pn.forEach(function(c){c=c+o.charAt(0).toUpperCase()+o.substring(1),yt[c]=yt[o]})});function Ze(o,c,h){return c==null||typeof c=="boolean"||c===""?"":h||typeof c!="number"||c===0||yt.hasOwnProperty(o)&&yt[o]?(""+c).trim():c+"px"}function vr(o,c){o=o.style;for(var h in c)if(c.hasOwnProperty(h)){var m=h.indexOf("--")===0,w=Ze(h,c[h],m);h==="float"&&(h="cssFloat"),m?o.setProperty(h,w):o[h]=w}}var Ti=ue({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ks(o,c){if(c){if(Ti[o]&&(c.children!=null||c.dangerouslySetInnerHTML!=null))throw Error(n(137,o));if(c.dangerouslySetInnerHTML!=null){if(c.children!=null)throw Error(n(60));if(typeof c.dangerouslySetInnerHTML!="object"||!("__html"in c.dangerouslySetInnerHTML))throw Error(n(61))}if(c.style!=null&&typeof c.style!="object")throw Error(n(62))}}function Si(o,c){if(o.indexOf("-")===-1)return typeof c.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Jr=null;function lo(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var co=null,wr=null,es=null;function uo(o){if(o=Ad(o)){if(typeof co!="function")throw Error(n(280));var c=o.stateNode;c&&(c=np(c),co(o.stateNode,o.type,c))}}function ts(o){wr?es?es.push(o):es=[o]:wr=o}function ka(){if(wr){var o=wr,c=es;if(es=wr=null,uo(o),c)for(o=0;o<c.length;o++)uo(c[o])}}function Ii(o,c){return o(c)}function Da(){}var _r=!1;function Na(o,c,h){if(_r)return o(c,h);_r=!0;try{return Ii(o,c,h)}finally{_r=!1,(wr!==null||es!==null)&&(Da(),ka())}}function Wt(o,c){var h=o.stateNode;if(h===null)return null;var m=np(h);if(m===null)return null;h=m[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(o=o.type,m=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!m;break e;default:o=!1}if(o)return null;if(h&&typeof h!="function")throw Error(n(231,c,typeof h));return h}var ns=!1;if(l)try{var br={};Object.defineProperty(br,"passive",{get:function(){ns=!0}}),window.addEventListener("test",br,br),window.removeEventListener("test",br,br)}catch{ns=!1}function hn(o,c,h,m,w,b,R,U,H){var te=Array.prototype.slice.call(arguments,3);try{c.apply(h,te)}catch(pe){this.onError(pe)}}var Ci=!1,ho=null,Or=!1,fo=null,ud={onError:function(o){Ci=!0,ho=o}};function po(o,c,h,m,w,b,R,U,H){Ci=!1,ho=null,hn.apply(ud,arguments)}function Xl(o,c,h,m,w,b,R,U,H){if(po.apply(this,arguments),Ci){if(Ci){var te=ho;Ci=!1,ho=null}else throw Error(n(198));Or||(Or=!0,fo=te)}}function Vr(o){var c=o,h=o;if(o.alternate)for(;c.return;)c=c.return;else{o=c;do c=o,(c.flags&4098)!==0&&(h=c.return),o=c.return;while(o)}return c.tag===3?h:null}function Gs(o){if(o.tag===13){var c=o.memoizedState;if(c===null&&(o=o.alternate,o!==null&&(c=o.memoizedState)),c!==null)return c.dehydrated}return null}function Lr(o){if(Vr(o)!==o)throw Error(n(188))}function Oa(o){var c=o.alternate;if(!c){if(c=Vr(o),c===null)throw Error(n(188));return c!==o?null:o}for(var h=o,m=c;;){var w=h.return;if(w===null)break;var b=w.alternate;if(b===null){if(m=w.return,m!==null){h=m;continue}break}if(w.child===b.child){for(b=w.child;b;){if(b===h)return Lr(w),o;if(b===m)return Lr(w),c;b=b.sibling}throw Error(n(188))}if(h.return!==m.return)h=w,m=b;else{for(var R=!1,U=w.child;U;){if(U===h){R=!0,h=w,m=b;break}if(U===m){R=!0,m=w,h=b;break}U=U.sibling}if(!R){for(U=b.child;U;){if(U===h){R=!0,h=b,m=w;break}if(U===m){R=!0,m=b,h=w;break}U=U.sibling}if(!R)throw Error(n(189))}}if(h.alternate!==m)throw Error(n(190))}if(h.tag!==3)throw Error(n(188));return h.stateNode.current===h?o:c}function Zl(o){return o=Oa(o),o!==null?Va(o):null}function Va(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var c=Va(o);if(c!==null)return c;o=o.sibling}return null}var se=e.unstable_scheduleCallback,ke=e.unstable_cancelCallback,ot=e.unstable_shouldYield,jt=e.unstable_requestPaint,ct=e.unstable_now,ir=e.unstable_getCurrentPriorityLevel,or=e.unstable_ImmediatePriority,mo=e.unstable_UserBlockingPriority,rs=e.unstable_NormalPriority,dd=e.unstable_LowPriority,kf=e.unstable_IdlePriority,La=null,Mr=null;function Df(o){if(Mr&&typeof Mr.onCommitFiberRoot=="function")try{Mr.onCommitFiberRoot(La,o,void 0,(o.current.flags&128)===128)}catch{}}var ar=Math.clz32?Math.clz32:Of,hd=Math.log,Nf=Math.LN2;function Of(o){return o>>>=0,o===0?32:31-(hd(o)/Nf|0)|0}var Jl=64,ec=4194304;function go(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function Ma(o,c){var h=o.pendingLanes;if(h===0)return 0;var m=0,w=o.suspendedLanes,b=o.pingedLanes,R=h&268435455;if(R!==0){var U=R&~w;U!==0?m=go(U):(b&=R,b!==0&&(m=go(b)))}else R=h&~w,R!==0?m=go(R):b!==0&&(m=go(b));if(m===0)return 0;if(c!==0&&c!==m&&(c&w)===0&&(w=m&-m,b=c&-c,w>=b||w===16&&(b&4194240)!==0))return c;if((m&4)!==0&&(m|=h&16),c=o.entangledLanes,c!==0)for(o=o.entanglements,c&=m;0<c;)h=31-ar(c),w=1<<h,m|=o[h],c&=~w;return m}function Fy(o,c){switch(o){case 1:case 2:case 4:return c+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ai(o,c){for(var h=o.suspendedLanes,m=o.pingedLanes,w=o.expirationTimes,b=o.pendingLanes;0<b;){var R=31-ar(b),U=1<<R,H=w[R];H===-1?((U&h)===0||(U&m)!==0)&&(w[R]=Fy(U,c)):H<=c&&(o.expiredLanes|=U),b&=~U}}function $r(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function $a(){var o=Jl;return Jl<<=1,(Jl&4194240)===0&&(Jl=64),o}function yo(o){for(var c=[],h=0;31>h;h++)c.push(o);return c}function vo(o,c,h){o.pendingLanes|=c,c!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,c=31-ar(c),o[c]=h}function Mt(o,c){var h=o.pendingLanes&~c;o.pendingLanes=c,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=c,o.mutableReadLanes&=c,o.entangledLanes&=c,c=o.entanglements;var m=o.eventTimes;for(o=o.expirationTimes;0<h;){var w=31-ar(h),b=1<<w;c[w]=0,m[w]=-1,o[w]=-1,h&=~b}}function wo(o,c){var h=o.entangledLanes|=c;for(o=o.entanglements;h;){var m=31-ar(h),w=1<<m;w&c|o[m]&c&&(o[m]|=c),h&=~w}}var vt=0;function _o(o){return o&=-o,1<o?4<o?(o&268435455)!==0?16:536870912:4:1}var Vf,tc,Lf,Mf,$f,fd=!1,Qs=[],Ln=null,Es=null,Ts=null,bo=new Map,ss=new Map,Ys=[],By="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function jf(o,c){switch(o){case"focusin":case"focusout":Ln=null;break;case"dragenter":case"dragleave":Es=null;break;case"mouseover":case"mouseout":Ts=null;break;case"pointerover":case"pointerout":bo.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":ss.delete(c.pointerId)}}function xr(o,c,h,m,w,b){return o===null||o.nativeEvent!==b?(o={blockedOn:c,domEventName:h,eventSystemFlags:m,nativeEvent:b,targetContainers:[w]},c!==null&&(c=Ad(c),c!==null&&tc(c)),o):(o.eventSystemFlags|=m,c=o.targetContainers,w!==null&&c.indexOf(w)===-1&&c.push(w),o)}function Uy(o,c,h,m,w){switch(c){case"focusin":return Ln=xr(Ln,o,c,h,m,w),!0;case"dragenter":return Es=xr(Es,o,c,h,m,w),!0;case"mouseover":return Ts=xr(Ts,o,c,h,m,w),!0;case"pointerover":var b=w.pointerId;return bo.set(b,xr(bo.get(b)||null,o,c,h,m,w)),!0;case"gotpointercapture":return b=w.pointerId,ss.set(b,xr(ss.get(b)||null,o,c,h,m,w)),!0}return!1}function Ff(o){var c=za(o.target);if(c!==null){var h=Vr(c);if(h!==null){if(c=h.tag,c===13){if(c=Gs(h),c!==null){o.blockedOn=c,$f(o.priority,function(){Lf(h)});return}}else if(c===3&&h.stateNode.current.memoizedState.isDehydrated){o.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}o.blockedOn=null}function Pi(o){if(o.blockedOn!==null)return!1;for(var c=o.targetContainers;0<c.length;){var h=nc(o.domEventName,o.eventSystemFlags,c[0],o.nativeEvent);if(h===null){h=o.nativeEvent;var m=new h.constructor(h.type,h);Jr=m,h.target.dispatchEvent(m),Jr=null}else return c=Ad(h),c!==null&&tc(c),o.blockedOn=h,!1;c.shift()}return!0}function ja(o,c,h){Pi(o)&&h.delete(c)}function Bf(){fd=!1,Ln!==null&&Pi(Ln)&&(Ln=null),Es!==null&&Pi(Es)&&(Es=null),Ts!==null&&Pi(Ts)&&(Ts=null),bo.forEach(ja),ss.forEach(ja)}function Ss(o,c){o.blockedOn===c&&(o.blockedOn=null,fd||(fd=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Bf)))}function Is(o){function c(w){return Ss(w,o)}if(0<Qs.length){Ss(Qs[0],o);for(var h=1;h<Qs.length;h++){var m=Qs[h];m.blockedOn===o&&(m.blockedOn=null)}}for(Ln!==null&&Ss(Ln,o),Es!==null&&Ss(Es,o),Ts!==null&&Ss(Ts,o),bo.forEach(c),ss.forEach(c),h=0;h<Ys.length;h++)m=Ys[h],m.blockedOn===o&&(m.blockedOn=null);for(;0<Ys.length&&(h=Ys[0],h.blockedOn===null);)Ff(h),h.blockedOn===null&&Ys.shift()}var Ri=B.ReactCurrentBatchConfig,xo=!0;function Ht(o,c,h,m){var w=vt,b=Ri.transition;Ri.transition=null;try{vt=1,pd(o,c,h,m)}finally{vt=w,Ri.transition=b}}function zy(o,c,h,m){var w=vt,b=Ri.transition;Ri.transition=null;try{vt=4,pd(o,c,h,m)}finally{vt=w,Ri.transition=b}}function pd(o,c,h,m){if(xo){var w=nc(o,c,h,m);if(w===null)ev(o,c,m,Fa,h),jf(o,m);else if(Uy(w,o,c,h,m))m.stopPropagation();else if(jf(o,m),c&4&&-1<By.indexOf(o)){for(;w!==null;){var b=Ad(w);if(b!==null&&Vf(b),b=nc(o,c,h,m),b===null&&ev(o,c,m,Fa,h),b===w)break;w=b}w!==null&&m.stopPropagation()}else ev(o,c,m,null,h)}}var Fa=null;function nc(o,c,h,m){if(Fa=null,o=lo(m),o=za(o),o!==null)if(c=Vr(o),c===null)o=null;else if(h=c.tag,h===13){if(o=Gs(c),o!==null)return o;o=null}else if(h===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;o=null}else c!==o&&(o=null);return Fa=o,null}function md(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ir()){case or:return 1;case mo:return 4;case rs:case dd:return 16;case kf:return 536870912;default:return 16}default:return 16}}var jr=null,rc=null,Er=null;function gd(){if(Er)return Er;var o,c=rc,h=c.length,m,w="value"in jr?jr.value:jr.textContent,b=w.length;for(o=0;o<h&&c[o]===w[o];o++);var R=h-o;for(m=1;m<=R&&c[h-m]===w[b-m];m++);return Er=w.slice(o,1<m?1-m:void 0)}function sc(o){var c=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&c===13&&(o=13)):o=c,o===10&&(o=13),32<=o||o===13?o:0}function Xs(){return!0}function yd(){return!1}function Mn(o){function c(h,m,w,b,R){this._reactName=h,this._targetInst=w,this.type=m,this.nativeEvent=b,this.target=R,this.currentTarget=null;for(var U in o)o.hasOwnProperty(U)&&(h=o[U],this[U]=h?h(b):b[U]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?Xs:yd,this.isPropagationStopped=yd,this}return ue(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=Xs)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=Xs)},persist:function(){},isPersistent:Xs}),c}var Cs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ic=Mn(Cs),Zs=ue({},Cs,{view:0,detail:0}),Wy=Mn(Zs),oc,ki,Eo,Ba=ue({},Zs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Js,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==Eo&&(Eo&&o.type==="mousemove"?(oc=o.screenX-Eo.screenX,ki=o.screenY-Eo.screenY):ki=oc=0,Eo=o),oc)},movementY:function(o){return"movementY"in o?o.movementY:ki}}),ac=Mn(Ba),vd=ue({},Ba,{dataTransfer:0}),Uf=Mn(vd),lc=ue({},Zs,{relatedTarget:0}),cc=Mn(lc),zf=ue({},Cs,{animationName:0,elapsedTime:0,pseudoElement:0}),Di=Mn(zf),Wf=ue({},Cs,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),Hf=Mn(Wf),qf=ue({},Cs,{data:0}),wd=Mn(qf),uc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},lr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Kf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Gf(o){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(o):(o=Kf[o])?!!c[o]:!1}function Js(){return Gf}var p=ue({},Zs,{key:function(o){if(o.key){var c=uc[o.key]||o.key;if(c!=="Unidentified")return c}return o.type==="keypress"?(o=sc(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?lr[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Js,charCode:function(o){return o.type==="keypress"?sc(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?sc(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),_=Mn(p),C=ue({},Ba,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),L=Mn(C),Q=ue({},Zs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Js}),ie=Mn(Q),Ee=ue({},Cs,{propertyName:0,elapsedTime:0,pseudoElement:0}),kt=Mn(Ee),bn=ue({},Ba,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),_t=Mn(bn),Rn=[9,13,27,32],fn=l&&"CompositionEvent"in window,is=null;l&&"documentMode"in document&&(is=document.documentMode);var Fr=l&&"TextEvent"in window&&!is,Ua=l&&(!fn||is&&8<is&&11>=is),dc=" ",iT=!1;function oT(o,c){switch(o){case"keyup":return Rn.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function aT(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var hc=!1;function xj(o,c){switch(o){case"compositionend":return aT(c);case"keypress":return c.which!==32?null:(iT=!0,dc);case"textInput":return o=c.data,o===dc&&iT?null:o;default:return null}}function Ej(o,c){if(hc)return o==="compositionend"||!fn&&oT(o,c)?(o=gd(),Er=rc=jr=null,hc=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return Ua&&c.locale!=="ko"?null:c.data;default:return null}}var Tj={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function lT(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c==="input"?!!Tj[o.type]:c==="textarea"}function cT(o,c,h,m){ts(m),c=Jf(c,"onChange"),0<c.length&&(h=new ic("onChange","change",null,h,m),o.push({event:h,listeners:c}))}var _d=null,bd=null;function Sj(o){CT(o,0)}function Qf(o){var c=yc(o);if(pt(c))return o}function Ij(o,c){if(o==="change")return c}var uT=!1;if(l){var Hy;if(l){var qy="oninput"in document;if(!qy){var dT=document.createElement("div");dT.setAttribute("oninput","return;"),qy=typeof dT.oninput=="function"}Hy=qy}else Hy=!1;uT=Hy&&(!document.documentMode||9<document.documentMode)}function hT(){_d&&(_d.detachEvent("onpropertychange",fT),bd=_d=null)}function fT(o){if(o.propertyName==="value"&&Qf(bd)){var c=[];cT(c,bd,o,lo(o)),Na(Sj,c)}}function Cj(o,c,h){o==="focusin"?(hT(),_d=c,bd=h,_d.attachEvent("onpropertychange",fT)):o==="focusout"&&hT()}function Aj(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return Qf(bd)}function Pj(o,c){if(o==="click")return Qf(c)}function Rj(o,c){if(o==="input"||o==="change")return Qf(c)}function kj(o,c){return o===c&&(o!==0||1/o===1/c)||o!==o&&c!==c}var As=typeof Object.is=="function"?Object.is:kj;function xd(o,c){if(As(o,c))return!0;if(typeof o!="object"||o===null||typeof c!="object"||c===null)return!1;var h=Object.keys(o),m=Object.keys(c);if(h.length!==m.length)return!1;for(m=0;m<h.length;m++){var w=h[m];if(!u.call(c,w)||!As(o[w],c[w]))return!1}return!0}function pT(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function mT(o,c){var h=pT(o);o=0;for(var m;h;){if(h.nodeType===3){if(m=o+h.textContent.length,o<=c&&m>=c)return{node:h,offset:c-o};o=m}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=pT(h)}}function gT(o,c){return o&&c?o===c?!0:o&&o.nodeType===3?!1:c&&c.nodeType===3?gT(o,c.parentNode):"contains"in o?o.contains(c):o.compareDocumentPosition?!!(o.compareDocumentPosition(c)&16):!1:!1}function yT(){for(var o=window,c=Vt();c instanceof o.HTMLIFrameElement;){try{var h=typeof c.contentWindow.location.href=="string"}catch{h=!1}if(h)o=c.contentWindow;else break;c=Vt(o.document)}return c}function Ky(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c&&(c==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||c==="textarea"||o.contentEditable==="true")}function Dj(o){var c=yT(),h=o.focusedElem,m=o.selectionRange;if(c!==h&&h&&h.ownerDocument&&gT(h.ownerDocument.documentElement,h)){if(m!==null&&Ky(h)){if(c=m.start,o=m.end,o===void 0&&(o=c),"selectionStart"in h)h.selectionStart=c,h.selectionEnd=Math.min(o,h.value.length);else if(o=(c=h.ownerDocument||document)&&c.defaultView||window,o.getSelection){o=o.getSelection();var w=h.textContent.length,b=Math.min(m.start,w);m=m.end===void 0?b:Math.min(m.end,w),!o.extend&&b>m&&(w=m,m=b,b=w),w=mT(h,b);var R=mT(h,m);w&&R&&(o.rangeCount!==1||o.anchorNode!==w.node||o.anchorOffset!==w.offset||o.focusNode!==R.node||o.focusOffset!==R.offset)&&(c=c.createRange(),c.setStart(w.node,w.offset),o.removeAllRanges(),b>m?(o.addRange(c),o.extend(R.node,R.offset)):(c.setEnd(R.node,R.offset),o.addRange(c)))}}for(c=[],o=h;o=o.parentNode;)o.nodeType===1&&c.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof h.focus=="function"&&h.focus(),h=0;h<c.length;h++)o=c[h],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var Nj=l&&"documentMode"in document&&11>=document.documentMode,fc=null,Gy=null,Ed=null,Qy=!1;function vT(o,c,h){var m=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;Qy||fc==null||fc!==Vt(m)||(m=fc,"selectionStart"in m&&Ky(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),Ed&&xd(Ed,m)||(Ed=m,m=Jf(Gy,"onSelect"),0<m.length&&(c=new ic("onSelect","select",null,c,h),o.push({event:c,listeners:m}),c.target=fc)))}function Yf(o,c){var h={};return h[o.toLowerCase()]=c.toLowerCase(),h["Webkit"+o]="webkit"+c,h["Moz"+o]="moz"+c,h}var pc={animationend:Yf("Animation","AnimationEnd"),animationiteration:Yf("Animation","AnimationIteration"),animationstart:Yf("Animation","AnimationStart"),transitionend:Yf("Transition","TransitionEnd")},Yy={},wT={};l&&(wT=document.createElement("div").style,"AnimationEvent"in window||(delete pc.animationend.animation,delete pc.animationiteration.animation,delete pc.animationstart.animation),"TransitionEvent"in window||delete pc.transitionend.transition);function Xf(o){if(Yy[o])return Yy[o];if(!pc[o])return o;var c=pc[o],h;for(h in c)if(c.hasOwnProperty(h)&&h in wT)return Yy[o]=c[h];return o}var _T=Xf("animationend"),bT=Xf("animationiteration"),xT=Xf("animationstart"),ET=Xf("transitionend"),TT=new Map,ST="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function To(o,c){TT.set(o,c),i(c,[o])}for(var Xy=0;Xy<ST.length;Xy++){var Zy=ST[Xy],Oj=Zy.toLowerCase(),Vj=Zy[0].toUpperCase()+Zy.slice(1);To(Oj,"on"+Vj)}To(_T,"onAnimationEnd"),To(bT,"onAnimationIteration"),To(xT,"onAnimationStart"),To("dblclick","onDoubleClick"),To("focusin","onFocus"),To("focusout","onBlur"),To(ET,"onTransitionEnd"),a("onMouseEnter",["mouseout","mouseover"]),a("onMouseLeave",["mouseout","mouseover"]),a("onPointerEnter",["pointerout","pointerover"]),a("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Td="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lj=new Set("cancel close invalid load scroll toggle".split(" ").concat(Td));function IT(o,c,h){var m=o.type||"unknown-event";o.currentTarget=h,Xl(m,c,void 0,o),o.currentTarget=null}function CT(o,c){c=(c&4)!==0;for(var h=0;h<o.length;h++){var m=o[h],w=m.event;m=m.listeners;e:{var b=void 0;if(c)for(var R=m.length-1;0<=R;R--){var U=m[R],H=U.instance,te=U.currentTarget;if(U=U.listener,H!==b&&w.isPropagationStopped())break e;IT(w,U,te),b=H}else for(R=0;R<m.length;R++){if(U=m[R],H=U.instance,te=U.currentTarget,U=U.listener,H!==b&&w.isPropagationStopped())break e;IT(w,U,te),b=H}}}if(Or)throw o=fo,Or=!1,fo=null,o}function Ft(o,c){var h=c[ov];h===void 0&&(h=c[ov]=new Set);var m=o+"__bubble";h.has(m)||(AT(c,o,2,!1),h.add(m))}function Jy(o,c,h){var m=0;c&&(m|=4),AT(h,o,m,c)}var Zf="_reactListening"+Math.random().toString(36).slice(2);function Sd(o){if(!o[Zf]){o[Zf]=!0,r.forEach(function(h){h!=="selectionchange"&&(Lj.has(h)||Jy(h,!1,o),Jy(h,!0,o))});var c=o.nodeType===9?o:o.ownerDocument;c===null||c[Zf]||(c[Zf]=!0,Jy("selectionchange",!1,c))}}function AT(o,c,h,m){switch(md(c)){case 1:var w=Ht;break;case 4:w=zy;break;default:w=pd}h=w.bind(null,c,h,o),w=void 0,!ns||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(w=!0),m?w!==void 0?o.addEventListener(c,h,{capture:!0,passive:w}):o.addEventListener(c,h,!0):w!==void 0?o.addEventListener(c,h,{passive:w}):o.addEventListener(c,h,!1)}function ev(o,c,h,m,w){var b=m;if((c&1)===0&&(c&2)===0&&m!==null)e:for(;;){if(m===null)return;var R=m.tag;if(R===3||R===4){var U=m.stateNode.containerInfo;if(U===w||U.nodeType===8&&U.parentNode===w)break;if(R===4)for(R=m.return;R!==null;){var H=R.tag;if((H===3||H===4)&&(H=R.stateNode.containerInfo,H===w||H.nodeType===8&&H.parentNode===w))return;R=R.return}for(;U!==null;){if(R=za(U),R===null)return;if(H=R.tag,H===5||H===6){m=b=R;continue e}U=U.parentNode}}m=m.return}Na(function(){var te=b,pe=lo(h),ge=[];e:{var he=TT.get(o);if(he!==void 0){var De=ic,Me=o;switch(o){case"keypress":if(sc(h)===0)break e;case"keydown":case"keyup":De=_;break;case"focusin":Me="focus",De=cc;break;case"focusout":Me="blur",De=cc;break;case"beforeblur":case"afterblur":De=cc;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":De=ac;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":De=Uf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":De=ie;break;case _T:case bT:case xT:De=Di;break;case ET:De=kt;break;case"scroll":De=Wy;break;case"wheel":De=_t;break;case"copy":case"cut":case"paste":De=Hf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":De=L}var $e=(c&4)!==0,an=!$e&&o==="scroll",Y=$e?he!==null?he+"Capture":null:he;$e=[];for(var K=te,ee;K!==null;){ee=K;var _e=ee.stateNode;if(ee.tag===5&&_e!==null&&(ee=_e,Y!==null&&(_e=Wt(K,Y),_e!=null&&$e.push(Id(K,_e,ee)))),an)break;K=K.return}0<$e.length&&(he=new De(he,Me,null,h,pe),ge.push({event:he,listeners:$e}))}}if((c&7)===0){e:{if(he=o==="mouseover"||o==="pointerover",De=o==="mouseout"||o==="pointerout",he&&h!==Jr&&(Me=h.relatedTarget||h.fromElement)&&(za(Me)||Me[Ni]))break e;if((De||he)&&(he=pe.window===pe?pe:(he=pe.ownerDocument)?he.defaultView||he.parentWindow:window,De?(Me=h.relatedTarget||h.toElement,De=te,Me=Me?za(Me):null,Me!==null&&(an=Vr(Me),Me!==an||Me.tag!==5&&Me.tag!==6)&&(Me=null)):(De=null,Me=te),De!==Me)){if($e=ac,_e="onMouseLeave",Y="onMouseEnter",K="mouse",(o==="pointerout"||o==="pointerover")&&($e=L,_e="onPointerLeave",Y="onPointerEnter",K="pointer"),an=De==null?he:yc(De),ee=Me==null?he:yc(Me),he=new $e(_e,K+"leave",De,h,pe),he.target=an,he.relatedTarget=ee,_e=null,za(pe)===te&&($e=new $e(Y,K+"enter",Me,h,pe),$e.target=ee,$e.relatedTarget=an,_e=$e),an=_e,De&&Me)t:{for($e=De,Y=Me,K=0,ee=$e;ee;ee=mc(ee))K++;for(ee=0,_e=Y;_e;_e=mc(_e))ee++;for(;0<K-ee;)$e=mc($e),K--;for(;0<ee-K;)Y=mc(Y),ee--;for(;K--;){if($e===Y||Y!==null&&$e===Y.alternate)break t;$e=mc($e),Y=mc(Y)}$e=null}else $e=null;De!==null&&PT(ge,he,De,$e,!1),Me!==null&&an!==null&&PT(ge,an,Me,$e,!0)}}e:{if(he=te?yc(te):window,De=he.nodeName&&he.nodeName.toLowerCase(),De==="select"||De==="input"&&he.type==="file")var Be=Ij;else if(lT(he))if(uT)Be=Rj;else{Be=Aj;var Qe=Cj}else(De=he.nodeName)&&De.toLowerCase()==="input"&&(he.type==="checkbox"||he.type==="radio")&&(Be=Pj);if(Be&&(Be=Be(o,te))){cT(ge,Be,h,pe);break e}Qe&&Qe(o,he,te),o==="focusout"&&(Qe=he._wrapperState)&&Qe.controlled&&he.type==="number"&&Zr(he,"number",he.value)}switch(Qe=te?yc(te):window,o){case"focusin":(lT(Qe)||Qe.contentEditable==="true")&&(fc=Qe,Gy=te,Ed=null);break;case"focusout":Ed=Gy=fc=null;break;case"mousedown":Qy=!0;break;case"contextmenu":case"mouseup":case"dragend":Qy=!1,vT(ge,h,pe);break;case"selectionchange":if(Nj)break;case"keydown":case"keyup":vT(ge,h,pe)}var Ye;if(fn)e:{switch(o){case"compositionstart":var nt="onCompositionStart";break e;case"compositionend":nt="onCompositionEnd";break e;case"compositionupdate":nt="onCompositionUpdate";break e}nt=void 0}else hc?oT(o,h)&&(nt="onCompositionEnd"):o==="keydown"&&h.keyCode===229&&(nt="onCompositionStart");nt&&(Ua&&h.locale!=="ko"&&(hc||nt!=="onCompositionStart"?nt==="onCompositionEnd"&&hc&&(Ye=gd()):(jr=pe,rc="value"in jr?jr.value:jr.textContent,hc=!0)),Qe=Jf(te,nt),0<Qe.length&&(nt=new wd(nt,o,null,h,pe),ge.push({event:nt,listeners:Qe}),Ye?nt.data=Ye:(Ye=aT(h),Ye!==null&&(nt.data=Ye)))),(Ye=Fr?xj(o,h):Ej(o,h))&&(te=Jf(te,"onBeforeInput"),0<te.length&&(pe=new wd("onBeforeInput","beforeinput",null,h,pe),ge.push({event:pe,listeners:te}),pe.data=Ye))}CT(ge,c)})}function Id(o,c,h){return{instance:o,listener:c,currentTarget:h}}function Jf(o,c){for(var h=c+"Capture",m=[];o!==null;){var w=o,b=w.stateNode;w.tag===5&&b!==null&&(w=b,b=Wt(o,h),b!=null&&m.unshift(Id(o,b,w)),b=Wt(o,c),b!=null&&m.push(Id(o,b,w))),o=o.return}return m}function mc(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function PT(o,c,h,m,w){for(var b=c._reactName,R=[];h!==null&&h!==m;){var U=h,H=U.alternate,te=U.stateNode;if(H!==null&&H===m)break;U.tag===5&&te!==null&&(U=te,w?(H=Wt(h,b),H!=null&&R.unshift(Id(h,H,U))):w||(H=Wt(h,b),H!=null&&R.push(Id(h,H,U)))),h=h.return}R.length!==0&&o.push({event:c,listeners:R})}var Mj=/\r\n?/g,$j=/\u0000|\uFFFD/g;function RT(o){return(typeof o=="string"?o:""+o).replace(Mj,`
`).replace($j,"")}function ep(o,c,h){if(c=RT(c),RT(o)!==c&&h)throw Error(n(425))}function tp(){}var tv=null,nv=null;function rv(o,c){return o==="textarea"||o==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var sv=typeof setTimeout=="function"?setTimeout:void 0,jj=typeof clearTimeout=="function"?clearTimeout:void 0,kT=typeof Promise=="function"?Promise:void 0,Fj=typeof queueMicrotask=="function"?queueMicrotask:typeof kT<"u"?function(o){return kT.resolve(null).then(o).catch(Bj)}:sv;function Bj(o){setTimeout(function(){throw o})}function iv(o,c){var h=c,m=0;do{var w=h.nextSibling;if(o.removeChild(h),w&&w.nodeType===8)if(h=w.data,h==="/$"){if(m===0){o.removeChild(w),Is(c);return}m--}else h!=="$"&&h!=="$?"&&h!=="$!"||m++;h=w}while(h);Is(c)}function So(o){for(;o!=null;o=o.nextSibling){var c=o.nodeType;if(c===1||c===3)break;if(c===8){if(c=o.data,c==="$"||c==="$!"||c==="$?")break;if(c==="/$")return null}}return o}function DT(o){o=o.previousSibling;for(var c=0;o;){if(o.nodeType===8){var h=o.data;if(h==="$"||h==="$!"||h==="$?"){if(c===0)return o;c--}else h==="/$"&&c++}o=o.previousSibling}return null}var gc=Math.random().toString(36).slice(2),ei="__reactFiber$"+gc,Cd="__reactProps$"+gc,Ni="__reactContainer$"+gc,ov="__reactEvents$"+gc,Uj="__reactListeners$"+gc,zj="__reactHandles$"+gc;function za(o){var c=o[ei];if(c)return c;for(var h=o.parentNode;h;){if(c=h[Ni]||h[ei]){if(h=c.alternate,c.child!==null||h!==null&&h.child!==null)for(o=DT(o);o!==null;){if(h=o[ei])return h;o=DT(o)}return c}o=h,h=o.parentNode}return null}function Ad(o){return o=o[ei]||o[Ni],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function yc(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(n(33))}function np(o){return o[Cd]||null}var av=[],vc=-1;function Io(o){return{current:o}}function Bt(o){0>vc||(o.current=av[vc],av[vc]=null,vc--)}function $t(o,c){vc++,av[vc]=o.current,o.current=c}var Co={},Yn=Io(Co),Tr=Io(!1),Wa=Co;function wc(o,c){var h=o.type.contextTypes;if(!h)return Co;var m=o.stateNode;if(m&&m.__reactInternalMemoizedUnmaskedChildContext===c)return m.__reactInternalMemoizedMaskedChildContext;var w={},b;for(b in h)w[b]=c[b];return m&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=c,o.__reactInternalMemoizedMaskedChildContext=w),w}function Sr(o){return o=o.childContextTypes,o!=null}function rp(){Bt(Tr),Bt(Yn)}function NT(o,c,h){if(Yn.current!==Co)throw Error(n(168));$t(Yn,c),$t(Tr,h)}function OT(o,c,h){var m=o.stateNode;if(c=c.childContextTypes,typeof m.getChildContext!="function")return h;m=m.getChildContext();for(var w in m)if(!(w in c))throw Error(n(108,xe(o)||"Unknown",w));return ue({},h,m)}function sp(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||Co,Wa=Yn.current,$t(Yn,o),$t(Tr,Tr.current),!0}function VT(o,c,h){var m=o.stateNode;if(!m)throw Error(n(169));h?(o=OT(o,c,Wa),m.__reactInternalMemoizedMergedChildContext=o,Bt(Tr),Bt(Yn),$t(Yn,o)):Bt(Tr),$t(Tr,h)}var Oi=null,ip=!1,lv=!1;function LT(o){Oi===null?Oi=[o]:Oi.push(o)}function Wj(o){ip=!0,LT(o)}function Ao(){if(!lv&&Oi!==null){lv=!0;var o=0,c=vt;try{var h=Oi;for(vt=1;o<h.length;o++){var m=h[o];do m=m(!0);while(m!==null)}Oi=null,ip=!1}catch(w){throw Oi!==null&&(Oi=Oi.slice(o+1)),se(or,Ao),w}finally{vt=c,lv=!1}}return null}var _c=[],bc=0,op=null,ap=0,os=[],as=0,Ha=null,Vi=1,Li="";function qa(o,c){_c[bc++]=ap,_c[bc++]=op,op=o,ap=c}function MT(o,c,h){os[as++]=Vi,os[as++]=Li,os[as++]=Ha,Ha=o;var m=Vi;o=Li;var w=32-ar(m)-1;m&=~(1<<w),h+=1;var b=32-ar(c)+w;if(30<b){var R=w-w%5;b=(m&(1<<R)-1).toString(32),m>>=R,w-=R,Vi=1<<32-ar(c)+w|h<<w|m,Li=b+o}else Vi=1<<b|h<<w|m,Li=o}function cv(o){o.return!==null&&(qa(o,1),MT(o,1,0))}function uv(o){for(;o===op;)op=_c[--bc],_c[bc]=null,ap=_c[--bc],_c[bc]=null;for(;o===Ha;)Ha=os[--as],os[as]=null,Li=os[--as],os[as]=null,Vi=os[--as],os[as]=null}var Br=null,Ur=null,qt=!1,Ps=null;function $T(o,c){var h=ds(5,null,null,0);h.elementType="DELETED",h.stateNode=c,h.return=o,c=o.deletions,c===null?(o.deletions=[h],o.flags|=16):c.push(h)}function jT(o,c){switch(o.tag){case 5:var h=o.type;return c=c.nodeType!==1||h.toLowerCase()!==c.nodeName.toLowerCase()?null:c,c!==null?(o.stateNode=c,Br=o,Ur=So(c.firstChild),!0):!1;case 6:return c=o.pendingProps===""||c.nodeType!==3?null:c,c!==null?(o.stateNode=c,Br=o,Ur=null,!0):!1;case 13:return c=c.nodeType!==8?null:c,c!==null?(h=Ha!==null?{id:Vi,overflow:Li}:null,o.memoizedState={dehydrated:c,treeContext:h,retryLane:1073741824},h=ds(18,null,null,0),h.stateNode=c,h.return=o,o.child=h,Br=o,Ur=null,!0):!1;default:return!1}}function dv(o){return(o.mode&1)!==0&&(o.flags&128)===0}function hv(o){if(qt){var c=Ur;if(c){var h=c;if(!jT(o,c)){if(dv(o))throw Error(n(418));c=So(h.nextSibling);var m=Br;c&&jT(o,c)?$T(m,h):(o.flags=o.flags&-4097|2,qt=!1,Br=o)}}else{if(dv(o))throw Error(n(418));o.flags=o.flags&-4097|2,qt=!1,Br=o}}}function FT(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;Br=o}function lp(o){if(o!==Br)return!1;if(!qt)return FT(o),qt=!0,!1;var c;if((c=o.tag!==3)&&!(c=o.tag!==5)&&(c=o.type,c=c!=="head"&&c!=="body"&&!rv(o.type,o.memoizedProps)),c&&(c=Ur)){if(dv(o))throw BT(),Error(n(418));for(;c;)$T(o,c),c=So(c.nextSibling)}if(FT(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(n(317));e:{for(o=o.nextSibling,c=0;o;){if(o.nodeType===8){var h=o.data;if(h==="/$"){if(c===0){Ur=So(o.nextSibling);break e}c--}else h!=="$"&&h!=="$!"&&h!=="$?"||c++}o=o.nextSibling}Ur=null}}else Ur=Br?So(o.stateNode.nextSibling):null;return!0}function BT(){for(var o=Ur;o;)o=So(o.nextSibling)}function xc(){Ur=Br=null,qt=!1}function fv(o){Ps===null?Ps=[o]:Ps.push(o)}var Hj=B.ReactCurrentBatchConfig;function Pd(o,c,h){if(o=h.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(h._owner){if(h=h._owner,h){if(h.tag!==1)throw Error(n(309));var m=h.stateNode}if(!m)throw Error(n(147,o));var w=m,b=""+o;return c!==null&&c.ref!==null&&typeof c.ref=="function"&&c.ref._stringRef===b?c.ref:(c=function(R){var U=w.refs;R===null?delete U[b]:U[b]=R},c._stringRef=b,c)}if(typeof o!="string")throw Error(n(284));if(!h._owner)throw Error(n(290,o))}return o}function cp(o,c){throw o=Object.prototype.toString.call(c),Error(n(31,o==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":o))}function UT(o){var c=o._init;return c(o._payload)}function zT(o){function c(Y,K){if(o){var ee=Y.deletions;ee===null?(Y.deletions=[K],Y.flags|=16):ee.push(K)}}function h(Y,K){if(!o)return null;for(;K!==null;)c(Y,K),K=K.sibling;return null}function m(Y,K){for(Y=new Map;K!==null;)K.key!==null?Y.set(K.key,K):Y.set(K.index,K),K=K.sibling;return Y}function w(Y,K){return Y=Lo(Y,K),Y.index=0,Y.sibling=null,Y}function b(Y,K,ee){return Y.index=ee,o?(ee=Y.alternate,ee!==null?(ee=ee.index,ee<K?(Y.flags|=2,K):ee):(Y.flags|=2,K)):(Y.flags|=1048576,K)}function R(Y){return o&&Y.alternate===null&&(Y.flags|=2),Y}function U(Y,K,ee,_e){return K===null||K.tag!==6?(K=sw(ee,Y.mode,_e),K.return=Y,K):(K=w(K,ee),K.return=Y,K)}function H(Y,K,ee,_e){var Be=ee.type;return Be===O?pe(Y,K,ee.props.children,_e,ee.key):K!==null&&(K.elementType===Be||typeof Be=="object"&&Be!==null&&Be.$$typeof===de&&UT(Be)===K.type)?(_e=w(K,ee.props),_e.ref=Pd(Y,K,ee),_e.return=Y,_e):(_e=Np(ee.type,ee.key,ee.props,null,Y.mode,_e),_e.ref=Pd(Y,K,ee),_e.return=Y,_e)}function te(Y,K,ee,_e){return K===null||K.tag!==4||K.stateNode.containerInfo!==ee.containerInfo||K.stateNode.implementation!==ee.implementation?(K=iw(ee,Y.mode,_e),K.return=Y,K):(K=w(K,ee.children||[]),K.return=Y,K)}function pe(Y,K,ee,_e,Be){return K===null||K.tag!==7?(K=el(ee,Y.mode,_e,Be),K.return=Y,K):(K=w(K,ee),K.return=Y,K)}function ge(Y,K,ee){if(typeof K=="string"&&K!==""||typeof K=="number")return K=sw(""+K,Y.mode,ee),K.return=Y,K;if(typeof K=="object"&&K!==null){switch(K.$$typeof){case j:return ee=Np(K.type,K.key,K.props,null,Y.mode,ee),ee.ref=Pd(Y,null,K),ee.return=Y,ee;case G:return K=iw(K,Y.mode,ee),K.return=Y,K;case de:var _e=K._init;return ge(Y,_e(K._payload),ee)}if(yr(K)||ce(K))return K=el(K,Y.mode,ee,null),K.return=Y,K;cp(Y,K)}return null}function he(Y,K,ee,_e){var Be=K!==null?K.key:null;if(typeof ee=="string"&&ee!==""||typeof ee=="number")return Be!==null?null:U(Y,K,""+ee,_e);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case j:return ee.key===Be?H(Y,K,ee,_e):null;case G:return ee.key===Be?te(Y,K,ee,_e):null;case de:return Be=ee._init,he(Y,K,Be(ee._payload),_e)}if(yr(ee)||ce(ee))return Be!==null?null:pe(Y,K,ee,_e,null);cp(Y,ee)}return null}function De(Y,K,ee,_e,Be){if(typeof _e=="string"&&_e!==""||typeof _e=="number")return Y=Y.get(ee)||null,U(K,Y,""+_e,Be);if(typeof _e=="object"&&_e!==null){switch(_e.$$typeof){case j:return Y=Y.get(_e.key===null?ee:_e.key)||null,H(K,Y,_e,Be);case G:return Y=Y.get(_e.key===null?ee:_e.key)||null,te(K,Y,_e,Be);case de:var Qe=_e._init;return De(Y,K,ee,Qe(_e._payload),Be)}if(yr(_e)||ce(_e))return Y=Y.get(ee)||null,pe(K,Y,_e,Be,null);cp(K,_e)}return null}function Me(Y,K,ee,_e){for(var Be=null,Qe=null,Ye=K,nt=K=0,Nn=null;Ye!==null&&nt<ee.length;nt++){Ye.index>nt?(Nn=Ye,Ye=null):Nn=Ye.sibling;var It=he(Y,Ye,ee[nt],_e);if(It===null){Ye===null&&(Ye=Nn);break}o&&Ye&&It.alternate===null&&c(Y,Ye),K=b(It,K,nt),Qe===null?Be=It:Qe.sibling=It,Qe=It,Ye=Nn}if(nt===ee.length)return h(Y,Ye),qt&&qa(Y,nt),Be;if(Ye===null){for(;nt<ee.length;nt++)Ye=ge(Y,ee[nt],_e),Ye!==null&&(K=b(Ye,K,nt),Qe===null?Be=Ye:Qe.sibling=Ye,Qe=Ye);return qt&&qa(Y,nt),Be}for(Ye=m(Y,Ye);nt<ee.length;nt++)Nn=De(Ye,Y,nt,ee[nt],_e),Nn!==null&&(o&&Nn.alternate!==null&&Ye.delete(Nn.key===null?nt:Nn.key),K=b(Nn,K,nt),Qe===null?Be=Nn:Qe.sibling=Nn,Qe=Nn);return o&&Ye.forEach(function(Mo){return c(Y,Mo)}),qt&&qa(Y,nt),Be}function $e(Y,K,ee,_e){var Be=ce(ee);if(typeof Be!="function")throw Error(n(150));if(ee=Be.call(ee),ee==null)throw Error(n(151));for(var Qe=Be=null,Ye=K,nt=K=0,Nn=null,It=ee.next();Ye!==null&&!It.done;nt++,It=ee.next()){Ye.index>nt?(Nn=Ye,Ye=null):Nn=Ye.sibling;var Mo=he(Y,Ye,It.value,_e);if(Mo===null){Ye===null&&(Ye=Nn);break}o&&Ye&&Mo.alternate===null&&c(Y,Ye),K=b(Mo,K,nt),Qe===null?Be=Mo:Qe.sibling=Mo,Qe=Mo,Ye=Nn}if(It.done)return h(Y,Ye),qt&&qa(Y,nt),Be;if(Ye===null){for(;!It.done;nt++,It=ee.next())It=ge(Y,It.value,_e),It!==null&&(K=b(It,K,nt),Qe===null?Be=It:Qe.sibling=It,Qe=It);return qt&&qa(Y,nt),Be}for(Ye=m(Y,Ye);!It.done;nt++,It=ee.next())It=De(Ye,Y,nt,It.value,_e),It!==null&&(o&&It.alternate!==null&&Ye.delete(It.key===null?nt:It.key),K=b(It,K,nt),Qe===null?Be=It:Qe.sibling=It,Qe=It);return o&&Ye.forEach(function(TF){return c(Y,TF)}),qt&&qa(Y,nt),Be}function an(Y,K,ee,_e){if(typeof ee=="object"&&ee!==null&&ee.type===O&&ee.key===null&&(ee=ee.props.children),typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case j:e:{for(var Be=ee.key,Qe=K;Qe!==null;){if(Qe.key===Be){if(Be=ee.type,Be===O){if(Qe.tag===7){h(Y,Qe.sibling),K=w(Qe,ee.props.children),K.return=Y,Y=K;break e}}else if(Qe.elementType===Be||typeof Be=="object"&&Be!==null&&Be.$$typeof===de&&UT(Be)===Qe.type){h(Y,Qe.sibling),K=w(Qe,ee.props),K.ref=Pd(Y,Qe,ee),K.return=Y,Y=K;break e}h(Y,Qe);break}else c(Y,Qe);Qe=Qe.sibling}ee.type===O?(K=el(ee.props.children,Y.mode,_e,ee.key),K.return=Y,Y=K):(_e=Np(ee.type,ee.key,ee.props,null,Y.mode,_e),_e.ref=Pd(Y,K,ee),_e.return=Y,Y=_e)}return R(Y);case G:e:{for(Qe=ee.key;K!==null;){if(K.key===Qe)if(K.tag===4&&K.stateNode.containerInfo===ee.containerInfo&&K.stateNode.implementation===ee.implementation){h(Y,K.sibling),K=w(K,ee.children||[]),K.return=Y,Y=K;break e}else{h(Y,K);break}else c(Y,K);K=K.sibling}K=iw(ee,Y.mode,_e),K.return=Y,Y=K}return R(Y);case de:return Qe=ee._init,an(Y,K,Qe(ee._payload),_e)}if(yr(ee))return Me(Y,K,ee,_e);if(ce(ee))return $e(Y,K,ee,_e);cp(Y,ee)}return typeof ee=="string"&&ee!==""||typeof ee=="number"?(ee=""+ee,K!==null&&K.tag===6?(h(Y,K.sibling),K=w(K,ee),K.return=Y,Y=K):(h(Y,K),K=sw(ee,Y.mode,_e),K.return=Y,Y=K),R(Y)):h(Y,K)}return an}var Ec=zT(!0),WT=zT(!1),up=Io(null),dp=null,Tc=null,pv=null;function mv(){pv=Tc=dp=null}function gv(o){var c=up.current;Bt(up),o._currentValue=c}function yv(o,c,h){for(;o!==null;){var m=o.alternate;if((o.childLanes&c)!==c?(o.childLanes|=c,m!==null&&(m.childLanes|=c)):m!==null&&(m.childLanes&c)!==c&&(m.childLanes|=c),o===h)break;o=o.return}}function Sc(o,c){dp=o,pv=Tc=null,o=o.dependencies,o!==null&&o.firstContext!==null&&((o.lanes&c)!==0&&(Ir=!0),o.firstContext=null)}function ls(o){var c=o._currentValue;if(pv!==o)if(o={context:o,memoizedValue:c,next:null},Tc===null){if(dp===null)throw Error(n(308));Tc=o,dp.dependencies={lanes:0,firstContext:o}}else Tc=Tc.next=o;return c}var Ka=null;function vv(o){Ka===null?Ka=[o]:Ka.push(o)}function HT(o,c,h,m){var w=c.interleaved;return w===null?(h.next=h,vv(c)):(h.next=w.next,w.next=h),c.interleaved=h,Mi(o,m)}function Mi(o,c){o.lanes|=c;var h=o.alternate;for(h!==null&&(h.lanes|=c),h=o,o=o.return;o!==null;)o.childLanes|=c,h=o.alternate,h!==null&&(h.childLanes|=c),h=o,o=o.return;return h.tag===3?h.stateNode:null}var Po=!1;function wv(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function qT(o,c){o=o.updateQueue,c.updateQueue===o&&(c.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function $i(o,c){return{eventTime:o,lane:c,tag:0,payload:null,callback:null,next:null}}function Ro(o,c,h){var m=o.updateQueue;if(m===null)return null;if(m=m.shared,(xt&2)!==0){var w=m.pending;return w===null?c.next=c:(c.next=w.next,w.next=c),m.pending=c,Mi(o,h)}return w=m.interleaved,w===null?(c.next=c,vv(m)):(c.next=w.next,w.next=c),m.interleaved=c,Mi(o,h)}function hp(o,c,h){if(c=c.updateQueue,c!==null&&(c=c.shared,(h&4194240)!==0)){var m=c.lanes;m&=o.pendingLanes,h|=m,c.lanes=h,wo(o,h)}}function KT(o,c){var h=o.updateQueue,m=o.alternate;if(m!==null&&(m=m.updateQueue,h===m)){var w=null,b=null;if(h=h.firstBaseUpdate,h!==null){do{var R={eventTime:h.eventTime,lane:h.lane,tag:h.tag,payload:h.payload,callback:h.callback,next:null};b===null?w=b=R:b=b.next=R,h=h.next}while(h!==null);b===null?w=b=c:b=b.next=c}else w=b=c;h={baseState:m.baseState,firstBaseUpdate:w,lastBaseUpdate:b,shared:m.shared,effects:m.effects},o.updateQueue=h;return}o=h.lastBaseUpdate,o===null?h.firstBaseUpdate=c:o.next=c,h.lastBaseUpdate=c}function fp(o,c,h,m){var w=o.updateQueue;Po=!1;var b=w.firstBaseUpdate,R=w.lastBaseUpdate,U=w.shared.pending;if(U!==null){w.shared.pending=null;var H=U,te=H.next;H.next=null,R===null?b=te:R.next=te,R=H;var pe=o.alternate;pe!==null&&(pe=pe.updateQueue,U=pe.lastBaseUpdate,U!==R&&(U===null?pe.firstBaseUpdate=te:U.next=te,pe.lastBaseUpdate=H))}if(b!==null){var ge=w.baseState;R=0,pe=te=H=null,U=b;do{var he=U.lane,De=U.eventTime;if((m&he)===he){pe!==null&&(pe=pe.next={eventTime:De,lane:0,tag:U.tag,payload:U.payload,callback:U.callback,next:null});e:{var Me=o,$e=U;switch(he=c,De=h,$e.tag){case 1:if(Me=$e.payload,typeof Me=="function"){ge=Me.call(De,ge,he);break e}ge=Me;break e;case 3:Me.flags=Me.flags&-65537|128;case 0:if(Me=$e.payload,he=typeof Me=="function"?Me.call(De,ge,he):Me,he==null)break e;ge=ue({},ge,he);break e;case 2:Po=!0}}U.callback!==null&&U.lane!==0&&(o.flags|=64,he=w.effects,he===null?w.effects=[U]:he.push(U))}else De={eventTime:De,lane:he,tag:U.tag,payload:U.payload,callback:U.callback,next:null},pe===null?(te=pe=De,H=ge):pe=pe.next=De,R|=he;if(U=U.next,U===null){if(U=w.shared.pending,U===null)break;he=U,U=he.next,he.next=null,w.lastBaseUpdate=he,w.shared.pending=null}}while(!0);if(pe===null&&(H=ge),w.baseState=H,w.firstBaseUpdate=te,w.lastBaseUpdate=pe,c=w.shared.interleaved,c!==null){w=c;do R|=w.lane,w=w.next;while(w!==c)}else b===null&&(w.shared.lanes=0);Ya|=R,o.lanes=R,o.memoizedState=ge}}function GT(o,c,h){if(o=c.effects,c.effects=null,o!==null)for(c=0;c<o.length;c++){var m=o[c],w=m.callback;if(w!==null){if(m.callback=null,m=h,typeof w!="function")throw Error(n(191,w));w.call(m)}}}var Rd={},ti=Io(Rd),kd=Io(Rd),Dd=Io(Rd);function Ga(o){if(o===Rd)throw Error(n(174));return o}function _v(o,c){switch($t(Dd,c),$t(kd,o),$t(ti,Rd),o=c.nodeType,o){case 9:case 11:c=(c=c.documentElement)?c.namespaceURI:W(null,"");break;default:o=o===8?c.parentNode:c,c=o.namespaceURI||null,o=o.tagName,c=W(c,o)}Bt(ti),$t(ti,c)}function Ic(){Bt(ti),Bt(kd),Bt(Dd)}function QT(o){Ga(Dd.current);var c=Ga(ti.current),h=W(c,o.type);c!==h&&($t(kd,o),$t(ti,h))}function bv(o){kd.current===o&&(Bt(ti),Bt(kd))}var Xt=Io(0);function pp(o){for(var c=o;c!==null;){if(c.tag===13){var h=c.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||h.data==="$?"||h.data==="$!"))return c}else if(c.tag===19&&c.memoizedProps.revealOrder!==void 0){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var xv=[];function Ev(){for(var o=0;o<xv.length;o++)xv[o]._workInProgressVersionPrimary=null;xv.length=0}var mp=B.ReactCurrentDispatcher,Tv=B.ReactCurrentBatchConfig,Qa=0,Zt=null,xn=null,kn=null,gp=!1,Nd=!1,Od=0,qj=0;function Xn(){throw Error(n(321))}function Sv(o,c){if(c===null)return!1;for(var h=0;h<c.length&&h<o.length;h++)if(!As(o[h],c[h]))return!1;return!0}function Iv(o,c,h,m,w,b){if(Qa=b,Zt=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,mp.current=o===null||o.memoizedState===null?Yj:Xj,o=h(m,w),Nd){b=0;do{if(Nd=!1,Od=0,25<=b)throw Error(n(301));b+=1,kn=xn=null,c.updateQueue=null,mp.current=Zj,o=h(m,w)}while(Nd)}if(mp.current=wp,c=xn!==null&&xn.next!==null,Qa=0,kn=xn=Zt=null,gp=!1,c)throw Error(n(300));return o}function Cv(){var o=Od!==0;return Od=0,o}function ni(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kn===null?Zt.memoizedState=kn=o:kn=kn.next=o,kn}function cs(){if(xn===null){var o=Zt.alternate;o=o!==null?o.memoizedState:null}else o=xn.next;var c=kn===null?Zt.memoizedState:kn.next;if(c!==null)kn=c,xn=o;else{if(o===null)throw Error(n(310));xn=o,o={memoizedState:xn.memoizedState,baseState:xn.baseState,baseQueue:xn.baseQueue,queue:xn.queue,next:null},kn===null?Zt.memoizedState=kn=o:kn=kn.next=o}return kn}function Vd(o,c){return typeof c=="function"?c(o):c}function Av(o){var c=cs(),h=c.queue;if(h===null)throw Error(n(311));h.lastRenderedReducer=o;var m=xn,w=m.baseQueue,b=h.pending;if(b!==null){if(w!==null){var R=w.next;w.next=b.next,b.next=R}m.baseQueue=w=b,h.pending=null}if(w!==null){b=w.next,m=m.baseState;var U=R=null,H=null,te=b;do{var pe=te.lane;if((Qa&pe)===pe)H!==null&&(H=H.next={lane:0,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null}),m=te.hasEagerState?te.eagerState:o(m,te.action);else{var ge={lane:pe,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null};H===null?(U=H=ge,R=m):H=H.next=ge,Zt.lanes|=pe,Ya|=pe}te=te.next}while(te!==null&&te!==b);H===null?R=m:H.next=U,As(m,c.memoizedState)||(Ir=!0),c.memoizedState=m,c.baseState=R,c.baseQueue=H,h.lastRenderedState=m}if(o=h.interleaved,o!==null){w=o;do b=w.lane,Zt.lanes|=b,Ya|=b,w=w.next;while(w!==o)}else w===null&&(h.lanes=0);return[c.memoizedState,h.dispatch]}function Pv(o){var c=cs(),h=c.queue;if(h===null)throw Error(n(311));h.lastRenderedReducer=o;var m=h.dispatch,w=h.pending,b=c.memoizedState;if(w!==null){h.pending=null;var R=w=w.next;do b=o(b,R.action),R=R.next;while(R!==w);As(b,c.memoizedState)||(Ir=!0),c.memoizedState=b,c.baseQueue===null&&(c.baseState=b),h.lastRenderedState=b}return[b,m]}function YT(){}function XT(o,c){var h=Zt,m=cs(),w=c(),b=!As(m.memoizedState,w);if(b&&(m.memoizedState=w,Ir=!0),m=m.queue,Rv(eS.bind(null,h,m,o),[o]),m.getSnapshot!==c||b||kn!==null&&kn.memoizedState.tag&1){if(h.flags|=2048,Ld(9,JT.bind(null,h,m,w,c),void 0,null),Dn===null)throw Error(n(349));(Qa&30)!==0||ZT(h,c,w)}return w}function ZT(o,c,h){o.flags|=16384,o={getSnapshot:c,value:h},c=Zt.updateQueue,c===null?(c={lastEffect:null,stores:null},Zt.updateQueue=c,c.stores=[o]):(h=c.stores,h===null?c.stores=[o]:h.push(o))}function JT(o,c,h,m){c.value=h,c.getSnapshot=m,tS(c)&&nS(o)}function eS(o,c,h){return h(function(){tS(c)&&nS(o)})}function tS(o){var c=o.getSnapshot;o=o.value;try{var h=c();return!As(o,h)}catch{return!0}}function nS(o){var c=Mi(o,1);c!==null&&Ns(c,o,1,-1)}function rS(o){var c=ni();return typeof o=="function"&&(o=o()),c.memoizedState=c.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vd,lastRenderedState:o},c.queue=o,o=o.dispatch=Qj.bind(null,Zt,o),[c.memoizedState,o]}function Ld(o,c,h,m){return o={tag:o,create:c,destroy:h,deps:m,next:null},c=Zt.updateQueue,c===null?(c={lastEffect:null,stores:null},Zt.updateQueue=c,c.lastEffect=o.next=o):(h=c.lastEffect,h===null?c.lastEffect=o.next=o:(m=h.next,h.next=o,o.next=m,c.lastEffect=o)),o}function sS(){return cs().memoizedState}function yp(o,c,h,m){var w=ni();Zt.flags|=o,w.memoizedState=Ld(1|c,h,void 0,m===void 0?null:m)}function vp(o,c,h,m){var w=cs();m=m===void 0?null:m;var b=void 0;if(xn!==null){var R=xn.memoizedState;if(b=R.destroy,m!==null&&Sv(m,R.deps)){w.memoizedState=Ld(c,h,b,m);return}}Zt.flags|=o,w.memoizedState=Ld(1|c,h,b,m)}function iS(o,c){return yp(8390656,8,o,c)}function Rv(o,c){return vp(2048,8,o,c)}function oS(o,c){return vp(4,2,o,c)}function aS(o,c){return vp(4,4,o,c)}function lS(o,c){if(typeof c=="function")return o=o(),c(o),function(){c(null)};if(c!=null)return o=o(),c.current=o,function(){c.current=null}}function cS(o,c,h){return h=h!=null?h.concat([o]):null,vp(4,4,lS.bind(null,c,o),h)}function kv(){}function uS(o,c){var h=cs();c=c===void 0?null:c;var m=h.memoizedState;return m!==null&&c!==null&&Sv(c,m[1])?m[0]:(h.memoizedState=[o,c],o)}function dS(o,c){var h=cs();c=c===void 0?null:c;var m=h.memoizedState;return m!==null&&c!==null&&Sv(c,m[1])?m[0]:(o=o(),h.memoizedState=[o,c],o)}function hS(o,c,h){return(Qa&21)===0?(o.baseState&&(o.baseState=!1,Ir=!0),o.memoizedState=h):(As(h,c)||(h=$a(),Zt.lanes|=h,Ya|=h,o.baseState=!0),c)}function Kj(o,c){var h=vt;vt=h!==0&&4>h?h:4,o(!0);var m=Tv.transition;Tv.transition={};try{o(!1),c()}finally{vt=h,Tv.transition=m}}function fS(){return cs().memoizedState}function Gj(o,c,h){var m=Oo(o);if(h={lane:m,action:h,hasEagerState:!1,eagerState:null,next:null},pS(o))mS(c,h);else if(h=HT(o,c,h,m),h!==null){var w=ur();Ns(h,o,m,w),gS(h,c,m)}}function Qj(o,c,h){var m=Oo(o),w={lane:m,action:h,hasEagerState:!1,eagerState:null,next:null};if(pS(o))mS(c,w);else{var b=o.alternate;if(o.lanes===0&&(b===null||b.lanes===0)&&(b=c.lastRenderedReducer,b!==null))try{var R=c.lastRenderedState,U=b(R,h);if(w.hasEagerState=!0,w.eagerState=U,As(U,R)){var H=c.interleaved;H===null?(w.next=w,vv(c)):(w.next=H.next,H.next=w),c.interleaved=w;return}}catch{}h=HT(o,c,w,m),h!==null&&(w=ur(),Ns(h,o,m,w),gS(h,c,m))}}function pS(o){var c=o.alternate;return o===Zt||c!==null&&c===Zt}function mS(o,c){Nd=gp=!0;var h=o.pending;h===null?c.next=c:(c.next=h.next,h.next=c),o.pending=c}function gS(o,c,h){if((h&4194240)!==0){var m=c.lanes;m&=o.pendingLanes,h|=m,c.lanes=h,wo(o,h)}}var wp={readContext:ls,useCallback:Xn,useContext:Xn,useEffect:Xn,useImperativeHandle:Xn,useInsertionEffect:Xn,useLayoutEffect:Xn,useMemo:Xn,useReducer:Xn,useRef:Xn,useState:Xn,useDebugValue:Xn,useDeferredValue:Xn,useTransition:Xn,useMutableSource:Xn,useSyncExternalStore:Xn,useId:Xn,unstable_isNewReconciler:!1},Yj={readContext:ls,useCallback:function(o,c){return ni().memoizedState=[o,c===void 0?null:c],o},useContext:ls,useEffect:iS,useImperativeHandle:function(o,c,h){return h=h!=null?h.concat([o]):null,yp(4194308,4,lS.bind(null,c,o),h)},useLayoutEffect:function(o,c){return yp(4194308,4,o,c)},useInsertionEffect:function(o,c){return yp(4,2,o,c)},useMemo:function(o,c){var h=ni();return c=c===void 0?null:c,o=o(),h.memoizedState=[o,c],o},useReducer:function(o,c,h){var m=ni();return c=h!==void 0?h(c):c,m.memoizedState=m.baseState=c,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:c},m.queue=o,o=o.dispatch=Gj.bind(null,Zt,o),[m.memoizedState,o]},useRef:function(o){var c=ni();return o={current:o},c.memoizedState=o},useState:rS,useDebugValue:kv,useDeferredValue:function(o){return ni().memoizedState=o},useTransition:function(){var o=rS(!1),c=o[0];return o=Kj.bind(null,o[1]),ni().memoizedState=o,[c,o]},useMutableSource:function(){},useSyncExternalStore:function(o,c,h){var m=Zt,w=ni();if(qt){if(h===void 0)throw Error(n(407));h=h()}else{if(h=c(),Dn===null)throw Error(n(349));(Qa&30)!==0||ZT(m,c,h)}w.memoizedState=h;var b={value:h,getSnapshot:c};return w.queue=b,iS(eS.bind(null,m,b,o),[o]),m.flags|=2048,Ld(9,JT.bind(null,m,b,h,c),void 0,null),h},useId:function(){var o=ni(),c=Dn.identifierPrefix;if(qt){var h=Li,m=Vi;h=(m&~(1<<32-ar(m)-1)).toString(32)+h,c=":"+c+"R"+h,h=Od++,0<h&&(c+="H"+h.toString(32)),c+=":"}else h=qj++,c=":"+c+"r"+h.toString(32)+":";return o.memoizedState=c},unstable_isNewReconciler:!1},Xj={readContext:ls,useCallback:uS,useContext:ls,useEffect:Rv,useImperativeHandle:cS,useInsertionEffect:oS,useLayoutEffect:aS,useMemo:dS,useReducer:Av,useRef:sS,useState:function(){return Av(Vd)},useDebugValue:kv,useDeferredValue:function(o){var c=cs();return hS(c,xn.memoizedState,o)},useTransition:function(){var o=Av(Vd)[0],c=cs().memoizedState;return[o,c]},useMutableSource:YT,useSyncExternalStore:XT,useId:fS,unstable_isNewReconciler:!1},Zj={readContext:ls,useCallback:uS,useContext:ls,useEffect:Rv,useImperativeHandle:cS,useInsertionEffect:oS,useLayoutEffect:aS,useMemo:dS,useReducer:Pv,useRef:sS,useState:function(){return Pv(Vd)},useDebugValue:kv,useDeferredValue:function(o){var c=cs();return xn===null?c.memoizedState=o:hS(c,xn.memoizedState,o)},useTransition:function(){var o=Pv(Vd)[0],c=cs().memoizedState;return[o,c]},useMutableSource:YT,useSyncExternalStore:XT,useId:fS,unstable_isNewReconciler:!1};function Rs(o,c){if(o&&o.defaultProps){c=ue({},c),o=o.defaultProps;for(var h in o)c[h]===void 0&&(c[h]=o[h]);return c}return c}function Dv(o,c,h,m){c=o.memoizedState,h=h(m,c),h=h==null?c:ue({},c,h),o.memoizedState=h,o.lanes===0&&(o.updateQueue.baseState=h)}var _p={isMounted:function(o){return(o=o._reactInternals)?Vr(o)===o:!1},enqueueSetState:function(o,c,h){o=o._reactInternals;var m=ur(),w=Oo(o),b=$i(m,w);b.payload=c,h!=null&&(b.callback=h),c=Ro(o,b,w),c!==null&&(Ns(c,o,w,m),hp(c,o,w))},enqueueReplaceState:function(o,c,h){o=o._reactInternals;var m=ur(),w=Oo(o),b=$i(m,w);b.tag=1,b.payload=c,h!=null&&(b.callback=h),c=Ro(o,b,w),c!==null&&(Ns(c,o,w,m),hp(c,o,w))},enqueueForceUpdate:function(o,c){o=o._reactInternals;var h=ur(),m=Oo(o),w=$i(h,m);w.tag=2,c!=null&&(w.callback=c),c=Ro(o,w,m),c!==null&&(Ns(c,o,m,h),hp(c,o,m))}};function yS(o,c,h,m,w,b,R){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(m,b,R):c.prototype&&c.prototype.isPureReactComponent?!xd(h,m)||!xd(w,b):!0}function vS(o,c,h){var m=!1,w=Co,b=c.contextType;return typeof b=="object"&&b!==null?b=ls(b):(w=Sr(c)?Wa:Yn.current,m=c.contextTypes,b=(m=m!=null)?wc(o,w):Co),c=new c(h,b),o.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=_p,o.stateNode=c,c._reactInternals=o,m&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=w,o.__reactInternalMemoizedMaskedChildContext=b),c}function wS(o,c,h,m){o=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(h,m),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(h,m),c.state!==o&&_p.enqueueReplaceState(c,c.state,null)}function Nv(o,c,h,m){var w=o.stateNode;w.props=h,w.state=o.memoizedState,w.refs={},wv(o);var b=c.contextType;typeof b=="object"&&b!==null?w.context=ls(b):(b=Sr(c)?Wa:Yn.current,w.context=wc(o,b)),w.state=o.memoizedState,b=c.getDerivedStateFromProps,typeof b=="function"&&(Dv(o,c,b,h),w.state=o.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(c=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),c!==w.state&&_p.enqueueReplaceState(w,w.state,null),fp(o,h,w,m),w.state=o.memoizedState),typeof w.componentDidMount=="function"&&(o.flags|=4194308)}function Cc(o,c){try{var h="",m=c;do h+=qe(m),m=m.return;while(m);var w=h}catch(b){w=`
Error generating stack: `+b.message+`
`+b.stack}return{value:o,source:c,stack:w,digest:null}}function Ov(o,c,h){return{value:o,source:null,stack:h??null,digest:c??null}}function Vv(o,c){try{console.error(c.value)}catch(h){setTimeout(function(){throw h})}}var Jj=typeof WeakMap=="function"?WeakMap:Map;function _S(o,c,h){h=$i(-1,h),h.tag=3,h.payload={element:null};var m=c.value;return h.callback=function(){Cp||(Cp=!0,Yv=m),Vv(o,c)},h}function bS(o,c,h){h=$i(-1,h),h.tag=3;var m=o.type.getDerivedStateFromError;if(typeof m=="function"){var w=c.value;h.payload=function(){return m(w)},h.callback=function(){Vv(o,c)}}var b=o.stateNode;return b!==null&&typeof b.componentDidCatch=="function"&&(h.callback=function(){Vv(o,c),typeof m!="function"&&(Do===null?Do=new Set([this]):Do.add(this));var R=c.stack;this.componentDidCatch(c.value,{componentStack:R!==null?R:""})}),h}function xS(o,c,h){var m=o.pingCache;if(m===null){m=o.pingCache=new Jj;var w=new Set;m.set(c,w)}else w=m.get(c),w===void 0&&(w=new Set,m.set(c,w));w.has(h)||(w.add(h),o=fF.bind(null,o,c,h),c.then(o,o))}function ES(o){do{var c;if((c=o.tag===13)&&(c=o.memoizedState,c=c!==null?c.dehydrated!==null:!0),c)return o;o=o.return}while(o!==null);return null}function TS(o,c,h,m,w){return(o.mode&1)===0?(o===c?o.flags|=65536:(o.flags|=128,h.flags|=131072,h.flags&=-52805,h.tag===1&&(h.alternate===null?h.tag=17:(c=$i(-1,1),c.tag=2,Ro(h,c,1))),h.lanes|=1),o):(o.flags|=65536,o.lanes=w,o)}var eF=B.ReactCurrentOwner,Ir=!1;function cr(o,c,h,m){c.child=o===null?WT(c,null,h,m):Ec(c,o.child,h,m)}function SS(o,c,h,m,w){h=h.render;var b=c.ref;return Sc(c,w),m=Iv(o,c,h,m,b,w),h=Cv(),o!==null&&!Ir?(c.updateQueue=o.updateQueue,c.flags&=-2053,o.lanes&=~w,ji(o,c,w)):(qt&&h&&cv(c),c.flags|=1,cr(o,c,m,w),c.child)}function IS(o,c,h,m,w){if(o===null){var b=h.type;return typeof b=="function"&&!rw(b)&&b.defaultProps===void 0&&h.compare===null&&h.defaultProps===void 0?(c.tag=15,c.type=b,CS(o,c,b,m,w)):(o=Np(h.type,null,m,c,c.mode,w),o.ref=c.ref,o.return=c,c.child=o)}if(b=o.child,(o.lanes&w)===0){var R=b.memoizedProps;if(h=h.compare,h=h!==null?h:xd,h(R,m)&&o.ref===c.ref)return ji(o,c,w)}return c.flags|=1,o=Lo(b,m),o.ref=c.ref,o.return=c,c.child=o}function CS(o,c,h,m,w){if(o!==null){var b=o.memoizedProps;if(xd(b,m)&&o.ref===c.ref)if(Ir=!1,c.pendingProps=m=b,(o.lanes&w)!==0)(o.flags&131072)!==0&&(Ir=!0);else return c.lanes=o.lanes,ji(o,c,w)}return Lv(o,c,h,m,w)}function AS(o,c,h){var m=c.pendingProps,w=m.children,b=o!==null?o.memoizedState:null;if(m.mode==="hidden")if((c.mode&1)===0)c.memoizedState={baseLanes:0,cachePool:null,transitions:null},$t(Pc,zr),zr|=h;else{if((h&1073741824)===0)return o=b!==null?b.baseLanes|h:h,c.lanes=c.childLanes=1073741824,c.memoizedState={baseLanes:o,cachePool:null,transitions:null},c.updateQueue=null,$t(Pc,zr),zr|=o,null;c.memoizedState={baseLanes:0,cachePool:null,transitions:null},m=b!==null?b.baseLanes:h,$t(Pc,zr),zr|=m}else b!==null?(m=b.baseLanes|h,c.memoizedState=null):m=h,$t(Pc,zr),zr|=m;return cr(o,c,w,h),c.child}function PS(o,c){var h=c.ref;(o===null&&h!==null||o!==null&&o.ref!==h)&&(c.flags|=512,c.flags|=2097152)}function Lv(o,c,h,m,w){var b=Sr(h)?Wa:Yn.current;return b=wc(c,b),Sc(c,w),h=Iv(o,c,h,m,b,w),m=Cv(),o!==null&&!Ir?(c.updateQueue=o.updateQueue,c.flags&=-2053,o.lanes&=~w,ji(o,c,w)):(qt&&m&&cv(c),c.flags|=1,cr(o,c,h,w),c.child)}function RS(o,c,h,m,w){if(Sr(h)){var b=!0;sp(c)}else b=!1;if(Sc(c,w),c.stateNode===null)xp(o,c),vS(c,h,m),Nv(c,h,m,w),m=!0;else if(o===null){var R=c.stateNode,U=c.memoizedProps;R.props=U;var H=R.context,te=h.contextType;typeof te=="object"&&te!==null?te=ls(te):(te=Sr(h)?Wa:Yn.current,te=wc(c,te));var pe=h.getDerivedStateFromProps,ge=typeof pe=="function"||typeof R.getSnapshotBeforeUpdate=="function";ge||typeof R.UNSAFE_componentWillReceiveProps!="function"&&typeof R.componentWillReceiveProps!="function"||(U!==m||H!==te)&&wS(c,R,m,te),Po=!1;var he=c.memoizedState;R.state=he,fp(c,m,R,w),H=c.memoizedState,U!==m||he!==H||Tr.current||Po?(typeof pe=="function"&&(Dv(c,h,pe,m),H=c.memoizedState),(U=Po||yS(c,h,U,m,he,H,te))?(ge||typeof R.UNSAFE_componentWillMount!="function"&&typeof R.componentWillMount!="function"||(typeof R.componentWillMount=="function"&&R.componentWillMount(),typeof R.UNSAFE_componentWillMount=="function"&&R.UNSAFE_componentWillMount()),typeof R.componentDidMount=="function"&&(c.flags|=4194308)):(typeof R.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=m,c.memoizedState=H),R.props=m,R.state=H,R.context=te,m=U):(typeof R.componentDidMount=="function"&&(c.flags|=4194308),m=!1)}else{R=c.stateNode,qT(o,c),U=c.memoizedProps,te=c.type===c.elementType?U:Rs(c.type,U),R.props=te,ge=c.pendingProps,he=R.context,H=h.contextType,typeof H=="object"&&H!==null?H=ls(H):(H=Sr(h)?Wa:Yn.current,H=wc(c,H));var De=h.getDerivedStateFromProps;(pe=typeof De=="function"||typeof R.getSnapshotBeforeUpdate=="function")||typeof R.UNSAFE_componentWillReceiveProps!="function"&&typeof R.componentWillReceiveProps!="function"||(U!==ge||he!==H)&&wS(c,R,m,H),Po=!1,he=c.memoizedState,R.state=he,fp(c,m,R,w);var Me=c.memoizedState;U!==ge||he!==Me||Tr.current||Po?(typeof De=="function"&&(Dv(c,h,De,m),Me=c.memoizedState),(te=Po||yS(c,h,te,m,he,Me,H)||!1)?(pe||typeof R.UNSAFE_componentWillUpdate!="function"&&typeof R.componentWillUpdate!="function"||(typeof R.componentWillUpdate=="function"&&R.componentWillUpdate(m,Me,H),typeof R.UNSAFE_componentWillUpdate=="function"&&R.UNSAFE_componentWillUpdate(m,Me,H)),typeof R.componentDidUpdate=="function"&&(c.flags|=4),typeof R.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof R.componentDidUpdate!="function"||U===o.memoizedProps&&he===o.memoizedState||(c.flags|=4),typeof R.getSnapshotBeforeUpdate!="function"||U===o.memoizedProps&&he===o.memoizedState||(c.flags|=1024),c.memoizedProps=m,c.memoizedState=Me),R.props=m,R.state=Me,R.context=H,m=te):(typeof R.componentDidUpdate!="function"||U===o.memoizedProps&&he===o.memoizedState||(c.flags|=4),typeof R.getSnapshotBeforeUpdate!="function"||U===o.memoizedProps&&he===o.memoizedState||(c.flags|=1024),m=!1)}return Mv(o,c,h,m,b,w)}function Mv(o,c,h,m,w,b){PS(o,c);var R=(c.flags&128)!==0;if(!m&&!R)return w&&VT(c,h,!1),ji(o,c,b);m=c.stateNode,eF.current=c;var U=R&&typeof h.getDerivedStateFromError!="function"?null:m.render();return c.flags|=1,o!==null&&R?(c.child=Ec(c,o.child,null,b),c.child=Ec(c,null,U,b)):cr(o,c,U,b),c.memoizedState=m.state,w&&VT(c,h,!0),c.child}function kS(o){var c=o.stateNode;c.pendingContext?NT(o,c.pendingContext,c.pendingContext!==c.context):c.context&&NT(o,c.context,!1),_v(o,c.containerInfo)}function DS(o,c,h,m,w){return xc(),fv(w),c.flags|=256,cr(o,c,h,m),c.child}var $v={dehydrated:null,treeContext:null,retryLane:0};function jv(o){return{baseLanes:o,cachePool:null,transitions:null}}function NS(o,c,h){var m=c.pendingProps,w=Xt.current,b=!1,R=(c.flags&128)!==0,U;if((U=R)||(U=o!==null&&o.memoizedState===null?!1:(w&2)!==0),U?(b=!0,c.flags&=-129):(o===null||o.memoizedState!==null)&&(w|=1),$t(Xt,w&1),o===null)return hv(c),o=c.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?((c.mode&1)===0?c.lanes=1:o.data==="$!"?c.lanes=8:c.lanes=1073741824,null):(R=m.children,o=m.fallback,b?(m=c.mode,b=c.child,R={mode:"hidden",children:R},(m&1)===0&&b!==null?(b.childLanes=0,b.pendingProps=R):b=Op(R,m,0,null),o=el(o,m,h,null),b.return=c,o.return=c,b.sibling=o,c.child=b,c.child.memoizedState=jv(h),c.memoizedState=$v,o):Fv(c,R));if(w=o.memoizedState,w!==null&&(U=w.dehydrated,U!==null))return tF(o,c,R,m,U,w,h);if(b){b=m.fallback,R=c.mode,w=o.child,U=w.sibling;var H={mode:"hidden",children:m.children};return(R&1)===0&&c.child!==w?(m=c.child,m.childLanes=0,m.pendingProps=H,c.deletions=null):(m=Lo(w,H),m.subtreeFlags=w.subtreeFlags&14680064),U!==null?b=Lo(U,b):(b=el(b,R,h,null),b.flags|=2),b.return=c,m.return=c,m.sibling=b,c.child=m,m=b,b=c.child,R=o.child.memoizedState,R=R===null?jv(h):{baseLanes:R.baseLanes|h,cachePool:null,transitions:R.transitions},b.memoizedState=R,b.childLanes=o.childLanes&~h,c.memoizedState=$v,m}return b=o.child,o=b.sibling,m=Lo(b,{mode:"visible",children:m.children}),(c.mode&1)===0&&(m.lanes=h),m.return=c,m.sibling=null,o!==null&&(h=c.deletions,h===null?(c.deletions=[o],c.flags|=16):h.push(o)),c.child=m,c.memoizedState=null,m}function Fv(o,c){return c=Op({mode:"visible",children:c},o.mode,0,null),c.return=o,o.child=c}function bp(o,c,h,m){return m!==null&&fv(m),Ec(c,o.child,null,h),o=Fv(c,c.pendingProps.children),o.flags|=2,c.memoizedState=null,o}function tF(o,c,h,m,w,b,R){if(h)return c.flags&256?(c.flags&=-257,m=Ov(Error(n(422))),bp(o,c,R,m)):c.memoizedState!==null?(c.child=o.child,c.flags|=128,null):(b=m.fallback,w=c.mode,m=Op({mode:"visible",children:m.children},w,0,null),b=el(b,w,R,null),b.flags|=2,m.return=c,b.return=c,m.sibling=b,c.child=m,(c.mode&1)!==0&&Ec(c,o.child,null,R),c.child.memoizedState=jv(R),c.memoizedState=$v,b);if((c.mode&1)===0)return bp(o,c,R,null);if(w.data==="$!"){if(m=w.nextSibling&&w.nextSibling.dataset,m)var U=m.dgst;return m=U,b=Error(n(419)),m=Ov(b,m,void 0),bp(o,c,R,m)}if(U=(R&o.childLanes)!==0,Ir||U){if(m=Dn,m!==null){switch(R&-R){case 4:w=2;break;case 16:w=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:w=32;break;case 536870912:w=268435456;break;default:w=0}w=(w&(m.suspendedLanes|R))!==0?0:w,w!==0&&w!==b.retryLane&&(b.retryLane=w,Mi(o,w),Ns(m,o,w,-1))}return nw(),m=Ov(Error(n(421))),bp(o,c,R,m)}return w.data==="$?"?(c.flags|=128,c.child=o.child,c=pF.bind(null,o),w._reactRetry=c,null):(o=b.treeContext,Ur=So(w.nextSibling),Br=c,qt=!0,Ps=null,o!==null&&(os[as++]=Vi,os[as++]=Li,os[as++]=Ha,Vi=o.id,Li=o.overflow,Ha=c),c=Fv(c,m.children),c.flags|=4096,c)}function OS(o,c,h){o.lanes|=c;var m=o.alternate;m!==null&&(m.lanes|=c),yv(o.return,c,h)}function Bv(o,c,h,m,w){var b=o.memoizedState;b===null?o.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:m,tail:h,tailMode:w}:(b.isBackwards=c,b.rendering=null,b.renderingStartTime=0,b.last=m,b.tail=h,b.tailMode=w)}function VS(o,c,h){var m=c.pendingProps,w=m.revealOrder,b=m.tail;if(cr(o,c,m.children,h),m=Xt.current,(m&2)!==0)m=m&1|2,c.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=c.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&OS(o,h,c);else if(o.tag===19)OS(o,h,c);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===c)break e;for(;o.sibling===null;){if(o.return===null||o.return===c)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}m&=1}if($t(Xt,m),(c.mode&1)===0)c.memoizedState=null;else switch(w){case"forwards":for(h=c.child,w=null;h!==null;)o=h.alternate,o!==null&&pp(o)===null&&(w=h),h=h.sibling;h=w,h===null?(w=c.child,c.child=null):(w=h.sibling,h.sibling=null),Bv(c,!1,w,h,b);break;case"backwards":for(h=null,w=c.child,c.child=null;w!==null;){if(o=w.alternate,o!==null&&pp(o)===null){c.child=w;break}o=w.sibling,w.sibling=h,h=w,w=o}Bv(c,!0,h,null,b);break;case"together":Bv(c,!1,null,null,void 0);break;default:c.memoizedState=null}return c.child}function xp(o,c){(c.mode&1)===0&&o!==null&&(o.alternate=null,c.alternate=null,c.flags|=2)}function ji(o,c,h){if(o!==null&&(c.dependencies=o.dependencies),Ya|=c.lanes,(h&c.childLanes)===0)return null;if(o!==null&&c.child!==o.child)throw Error(n(153));if(c.child!==null){for(o=c.child,h=Lo(o,o.pendingProps),c.child=h,h.return=c;o.sibling!==null;)o=o.sibling,h=h.sibling=Lo(o,o.pendingProps),h.return=c;h.sibling=null}return c.child}function nF(o,c,h){switch(c.tag){case 3:kS(c),xc();break;case 5:QT(c);break;case 1:Sr(c.type)&&sp(c);break;case 4:_v(c,c.stateNode.containerInfo);break;case 10:var m=c.type._context,w=c.memoizedProps.value;$t(up,m._currentValue),m._currentValue=w;break;case 13:if(m=c.memoizedState,m!==null)return m.dehydrated!==null?($t(Xt,Xt.current&1),c.flags|=128,null):(h&c.child.childLanes)!==0?NS(o,c,h):($t(Xt,Xt.current&1),o=ji(o,c,h),o!==null?o.sibling:null);$t(Xt,Xt.current&1);break;case 19:if(m=(h&c.childLanes)!==0,(o.flags&128)!==0){if(m)return VS(o,c,h);c.flags|=128}if(w=c.memoizedState,w!==null&&(w.rendering=null,w.tail=null,w.lastEffect=null),$t(Xt,Xt.current),m)break;return null;case 22:case 23:return c.lanes=0,AS(o,c,h)}return ji(o,c,h)}var LS,Uv,MS,$S;LS=function(o,c){for(var h=c.child;h!==null;){if(h.tag===5||h.tag===6)o.appendChild(h.stateNode);else if(h.tag!==4&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===c)break;for(;h.sibling===null;){if(h.return===null||h.return===c)return;h=h.return}h.sibling.return=h.return,h=h.sibling}},Uv=function(){},MS=function(o,c,h,m){var w=o.memoizedProps;if(w!==m){o=c.stateNode,Ga(ti.current);var b=null;switch(h){case"input":w=Lt(o,w),m=Lt(o,m),b=[];break;case"select":w=ue({},w,{value:void 0}),m=ue({},m,{value:void 0}),b=[];break;case"textarea":w=z(o,w),m=z(o,m),b=[];break;default:typeof w.onClick!="function"&&typeof m.onClick=="function"&&(o.onclick=tp)}Ks(h,m);var R;h=null;for(te in w)if(!m.hasOwnProperty(te)&&w.hasOwnProperty(te)&&w[te]!=null)if(te==="style"){var U=w[te];for(R in U)U.hasOwnProperty(R)&&(h||(h={}),h[R]="")}else te!=="dangerouslySetInnerHTML"&&te!=="children"&&te!=="suppressContentEditableWarning"&&te!=="suppressHydrationWarning"&&te!=="autoFocus"&&(s.hasOwnProperty(te)?b||(b=[]):(b=b||[]).push(te,null));for(te in m){var H=m[te];if(U=w?.[te],m.hasOwnProperty(te)&&H!==U&&(H!=null||U!=null))if(te==="style")if(U){for(R in U)!U.hasOwnProperty(R)||H&&H.hasOwnProperty(R)||(h||(h={}),h[R]="");for(R in H)H.hasOwnProperty(R)&&U[R]!==H[R]&&(h||(h={}),h[R]=H[R])}else h||(b||(b=[]),b.push(te,h)),h=H;else te==="dangerouslySetInnerHTML"?(H=H?H.__html:void 0,U=U?U.__html:void 0,H!=null&&U!==H&&(b=b||[]).push(te,H)):te==="children"?typeof H!="string"&&typeof H!="number"||(b=b||[]).push(te,""+H):te!=="suppressContentEditableWarning"&&te!=="suppressHydrationWarning"&&(s.hasOwnProperty(te)?(H!=null&&te==="onScroll"&&Ft("scroll",o),b||U===H||(b=[])):(b=b||[]).push(te,H))}h&&(b=b||[]).push("style",h);var te=b;(c.updateQueue=te)&&(c.flags|=4)}},$S=function(o,c,h,m){h!==m&&(c.flags|=4)};function Md(o,c){if(!qt)switch(o.tailMode){case"hidden":c=o.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?o.tail=null:h.sibling=null;break;case"collapsed":h=o.tail;for(var m=null;h!==null;)h.alternate!==null&&(m=h),h=h.sibling;m===null?c||o.tail===null?o.tail=null:o.tail.sibling=null:m.sibling=null}}function Zn(o){var c=o.alternate!==null&&o.alternate.child===o.child,h=0,m=0;if(c)for(var w=o.child;w!==null;)h|=w.lanes|w.childLanes,m|=w.subtreeFlags&14680064,m|=w.flags&14680064,w.return=o,w=w.sibling;else for(w=o.child;w!==null;)h|=w.lanes|w.childLanes,m|=w.subtreeFlags,m|=w.flags,w.return=o,w=w.sibling;return o.subtreeFlags|=m,o.childLanes=h,c}function rF(o,c,h){var m=c.pendingProps;switch(uv(c),c.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Zn(c),null;case 1:return Sr(c.type)&&rp(),Zn(c),null;case 3:return m=c.stateNode,Ic(),Bt(Tr),Bt(Yn),Ev(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(o===null||o.child===null)&&(lp(c)?c.flags|=4:o===null||o.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,Ps!==null&&(Jv(Ps),Ps=null))),Uv(o,c),Zn(c),null;case 5:bv(c);var w=Ga(Dd.current);if(h=c.type,o!==null&&c.stateNode!=null)MS(o,c,h,m,w),o.ref!==c.ref&&(c.flags|=512,c.flags|=2097152);else{if(!m){if(c.stateNode===null)throw Error(n(166));return Zn(c),null}if(o=Ga(ti.current),lp(c)){m=c.stateNode,h=c.type;var b=c.memoizedProps;switch(m[ei]=c,m[Cd]=b,o=(c.mode&1)!==0,h){case"dialog":Ft("cancel",m),Ft("close",m);break;case"iframe":case"object":case"embed":Ft("load",m);break;case"video":case"audio":for(w=0;w<Td.length;w++)Ft(Td[w],m);break;case"source":Ft("error",m);break;case"img":case"image":case"link":Ft("error",m),Ft("load",m);break;case"details":Ft("toggle",m);break;case"input":Kn(m,b),Ft("invalid",m);break;case"select":m._wrapperState={wasMultiple:!!b.multiple},Ft("invalid",m);break;case"textarea":X(m,b),Ft("invalid",m)}Ks(h,b),w=null;for(var R in b)if(b.hasOwnProperty(R)){var U=b[R];R==="children"?typeof U=="string"?m.textContent!==U&&(b.suppressHydrationWarning!==!0&&ep(m.textContent,U,o),w=["children",U]):typeof U=="number"&&m.textContent!==""+U&&(b.suppressHydrationWarning!==!0&&ep(m.textContent,U,o),w=["children",""+U]):s.hasOwnProperty(R)&&U!=null&&R==="onScroll"&&Ft("scroll",m)}switch(h){case"input":lt(m),qs(m,b,!0);break;case"textarea":lt(m),Ie(m);break;case"select":case"option":break;default:typeof b.onClick=="function"&&(m.onclick=tp)}m=w,c.updateQueue=m,m!==null&&(c.flags|=4)}else{R=w.nodeType===9?w:w.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=fe(h)),o==="http://www.w3.org/1999/xhtml"?h==="script"?(o=R.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof m.is=="string"?o=R.createElement(h,{is:m.is}):(o=R.createElement(h),h==="select"&&(R=o,m.multiple?R.multiple=!0:m.size&&(R.size=m.size))):o=R.createElementNS(o,h),o[ei]=c,o[Cd]=m,LS(o,c,!1,!1),c.stateNode=o;e:{switch(R=Si(h,m),h){case"dialog":Ft("cancel",o),Ft("close",o),w=m;break;case"iframe":case"object":case"embed":Ft("load",o),w=m;break;case"video":case"audio":for(w=0;w<Td.length;w++)Ft(Td[w],o);w=m;break;case"source":Ft("error",o),w=m;break;case"img":case"image":case"link":Ft("error",o),Ft("load",o),w=m;break;case"details":Ft("toggle",o),w=m;break;case"input":Kn(o,m),w=Lt(o,m),Ft("invalid",o);break;case"option":w=m;break;case"select":o._wrapperState={wasMultiple:!!m.multiple},w=ue({},m,{value:void 0}),Ft("invalid",o);break;case"textarea":X(o,m),w=z(o,m),Ft("invalid",o);break;default:w=m}Ks(h,w),U=w;for(b in U)if(U.hasOwnProperty(b)){var H=U[b];b==="style"?vr(o,H):b==="dangerouslySetInnerHTML"?(H=H?H.__html:void 0,H!=null&&we(o,H)):b==="children"?typeof H=="string"?(h!=="textarea"||H!=="")&&ze(o,H):typeof H=="number"&&ze(o,""+H):b!=="suppressContentEditableWarning"&&b!=="suppressHydrationWarning"&&b!=="autoFocus"&&(s.hasOwnProperty(b)?H!=null&&b==="onScroll"&&Ft("scroll",o):H!=null&&N(o,b,H,R))}switch(h){case"input":lt(o),qs(o,m,!1);break;case"textarea":lt(o),Ie(o);break;case"option":m.value!=null&&o.setAttribute("value",""+Ve(m.value));break;case"select":o.multiple=!!m.multiple,b=m.value,b!=null?_n(o,!!m.multiple,b,!1):m.defaultValue!=null&&_n(o,!!m.multiple,m.defaultValue,!0);break;default:typeof w.onClick=="function"&&(o.onclick=tp)}switch(h){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}}m&&(c.flags|=4)}c.ref!==null&&(c.flags|=512,c.flags|=2097152)}return Zn(c),null;case 6:if(o&&c.stateNode!=null)$S(o,c,o.memoizedProps,m);else{if(typeof m!="string"&&c.stateNode===null)throw Error(n(166));if(h=Ga(Dd.current),Ga(ti.current),lp(c)){if(m=c.stateNode,h=c.memoizedProps,m[ei]=c,(b=m.nodeValue!==h)&&(o=Br,o!==null))switch(o.tag){case 3:ep(m.nodeValue,h,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&ep(m.nodeValue,h,(o.mode&1)!==0)}b&&(c.flags|=4)}else m=(h.nodeType===9?h:h.ownerDocument).createTextNode(m),m[ei]=c,c.stateNode=m}return Zn(c),null;case 13:if(Bt(Xt),m=c.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(qt&&Ur!==null&&(c.mode&1)!==0&&(c.flags&128)===0)BT(),xc(),c.flags|=98560,b=!1;else if(b=lp(c),m!==null&&m.dehydrated!==null){if(o===null){if(!b)throw Error(n(318));if(b=c.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(n(317));b[ei]=c}else xc(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;Zn(c),b=!1}else Ps!==null&&(Jv(Ps),Ps=null),b=!0;if(!b)return c.flags&65536?c:null}return(c.flags&128)!==0?(c.lanes=h,c):(m=m!==null,m!==(o!==null&&o.memoizedState!==null)&&m&&(c.child.flags|=8192,(c.mode&1)!==0&&(o===null||(Xt.current&1)!==0?En===0&&(En=3):nw())),c.updateQueue!==null&&(c.flags|=4),Zn(c),null);case 4:return Ic(),Uv(o,c),o===null&&Sd(c.stateNode.containerInfo),Zn(c),null;case 10:return gv(c.type._context),Zn(c),null;case 17:return Sr(c.type)&&rp(),Zn(c),null;case 19:if(Bt(Xt),b=c.memoizedState,b===null)return Zn(c),null;if(m=(c.flags&128)!==0,R=b.rendering,R===null)if(m)Md(b,!1);else{if(En!==0||o!==null&&(o.flags&128)!==0)for(o=c.child;o!==null;){if(R=pp(o),R!==null){for(c.flags|=128,Md(b,!1),m=R.updateQueue,m!==null&&(c.updateQueue=m,c.flags|=4),c.subtreeFlags=0,m=h,h=c.child;h!==null;)b=h,o=m,b.flags&=14680066,R=b.alternate,R===null?(b.childLanes=0,b.lanes=o,b.child=null,b.subtreeFlags=0,b.memoizedProps=null,b.memoizedState=null,b.updateQueue=null,b.dependencies=null,b.stateNode=null):(b.childLanes=R.childLanes,b.lanes=R.lanes,b.child=R.child,b.subtreeFlags=0,b.deletions=null,b.memoizedProps=R.memoizedProps,b.memoizedState=R.memoizedState,b.updateQueue=R.updateQueue,b.type=R.type,o=R.dependencies,b.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),h=h.sibling;return $t(Xt,Xt.current&1|2),c.child}o=o.sibling}b.tail!==null&&ct()>Rc&&(c.flags|=128,m=!0,Md(b,!1),c.lanes=4194304)}else{if(!m)if(o=pp(R),o!==null){if(c.flags|=128,m=!0,h=o.updateQueue,h!==null&&(c.updateQueue=h,c.flags|=4),Md(b,!0),b.tail===null&&b.tailMode==="hidden"&&!R.alternate&&!qt)return Zn(c),null}else 2*ct()-b.renderingStartTime>Rc&&h!==1073741824&&(c.flags|=128,m=!0,Md(b,!1),c.lanes=4194304);b.isBackwards?(R.sibling=c.child,c.child=R):(h=b.last,h!==null?h.sibling=R:c.child=R,b.last=R)}return b.tail!==null?(c=b.tail,b.rendering=c,b.tail=c.sibling,b.renderingStartTime=ct(),c.sibling=null,h=Xt.current,$t(Xt,m?h&1|2:h&1),c):(Zn(c),null);case 22:case 23:return tw(),m=c.memoizedState!==null,o!==null&&o.memoizedState!==null!==m&&(c.flags|=8192),m&&(c.mode&1)!==0?(zr&1073741824)!==0&&(Zn(c),c.subtreeFlags&6&&(c.flags|=8192)):Zn(c),null;case 24:return null;case 25:return null}throw Error(n(156,c.tag))}function sF(o,c){switch(uv(c),c.tag){case 1:return Sr(c.type)&&rp(),o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 3:return Ic(),Bt(Tr),Bt(Yn),Ev(),o=c.flags,(o&65536)!==0&&(o&128)===0?(c.flags=o&-65537|128,c):null;case 5:return bv(c),null;case 13:if(Bt(Xt),o=c.memoizedState,o!==null&&o.dehydrated!==null){if(c.alternate===null)throw Error(n(340));xc()}return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 19:return Bt(Xt),null;case 4:return Ic(),null;case 10:return gv(c.type._context),null;case 22:case 23:return tw(),null;case 24:return null;default:return null}}var Ep=!1,Jn=!1,iF=typeof WeakSet=="function"?WeakSet:Set,Oe=null;function Ac(o,c){var h=o.ref;if(h!==null)if(typeof h=="function")try{h(null)}catch(m){nn(o,c,m)}else h.current=null}function zv(o,c,h){try{h()}catch(m){nn(o,c,m)}}var jS=!1;function oF(o,c){if(tv=xo,o=yT(),Ky(o)){if("selectionStart"in o)var h={start:o.selectionStart,end:o.selectionEnd};else e:{h=(h=o.ownerDocument)&&h.defaultView||window;var m=h.getSelection&&h.getSelection();if(m&&m.rangeCount!==0){h=m.anchorNode;var w=m.anchorOffset,b=m.focusNode;m=m.focusOffset;try{h.nodeType,b.nodeType}catch{h=null;break e}var R=0,U=-1,H=-1,te=0,pe=0,ge=o,he=null;t:for(;;){for(var De;ge!==h||w!==0&&ge.nodeType!==3||(U=R+w),ge!==b||m!==0&&ge.nodeType!==3||(H=R+m),ge.nodeType===3&&(R+=ge.nodeValue.length),(De=ge.firstChild)!==null;)he=ge,ge=De;for(;;){if(ge===o)break t;if(he===h&&++te===w&&(U=R),he===b&&++pe===m&&(H=R),(De=ge.nextSibling)!==null)break;ge=he,he=ge.parentNode}ge=De}h=U===-1||H===-1?null:{start:U,end:H}}else h=null}h=h||{start:0,end:0}}else h=null;for(nv={focusedElem:o,selectionRange:h},xo=!1,Oe=c;Oe!==null;)if(c=Oe,o=c.child,(c.subtreeFlags&1028)!==0&&o!==null)o.return=c,Oe=o;else for(;Oe!==null;){c=Oe;try{var Me=c.alternate;if((c.flags&1024)!==0)switch(c.tag){case 0:case 11:case 15:break;case 1:if(Me!==null){var $e=Me.memoizedProps,an=Me.memoizedState,Y=c.stateNode,K=Y.getSnapshotBeforeUpdate(c.elementType===c.type?$e:Rs(c.type,$e),an);Y.__reactInternalSnapshotBeforeUpdate=K}break;case 3:var ee=c.stateNode.containerInfo;ee.nodeType===1?ee.textContent="":ee.nodeType===9&&ee.documentElement&&ee.removeChild(ee.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(_e){nn(c,c.return,_e)}if(o=c.sibling,o!==null){o.return=c.return,Oe=o;break}Oe=c.return}return Me=jS,jS=!1,Me}function $d(o,c,h){var m=c.updateQueue;if(m=m!==null?m.lastEffect:null,m!==null){var w=m=m.next;do{if((w.tag&o)===o){var b=w.destroy;w.destroy=void 0,b!==void 0&&zv(c,h,b)}w=w.next}while(w!==m)}}function Tp(o,c){if(c=c.updateQueue,c=c!==null?c.lastEffect:null,c!==null){var h=c=c.next;do{if((h.tag&o)===o){var m=h.create;h.destroy=m()}h=h.next}while(h!==c)}}function Wv(o){var c=o.ref;if(c!==null){var h=o.stateNode;o.tag,o=h,typeof c=="function"?c(o):c.current=o}}function FS(o){var c=o.alternate;c!==null&&(o.alternate=null,FS(c)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(c=o.stateNode,c!==null&&(delete c[ei],delete c[Cd],delete c[ov],delete c[Uj],delete c[zj])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function BS(o){return o.tag===5||o.tag===3||o.tag===4}function US(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||BS(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function Hv(o,c,h){var m=o.tag;if(m===5||m===6)o=o.stateNode,c?h.nodeType===8?h.parentNode.insertBefore(o,c):h.insertBefore(o,c):(h.nodeType===8?(c=h.parentNode,c.insertBefore(o,h)):(c=h,c.appendChild(o)),h=h._reactRootContainer,h!=null||c.onclick!==null||(c.onclick=tp));else if(m!==4&&(o=o.child,o!==null))for(Hv(o,c,h),o=o.sibling;o!==null;)Hv(o,c,h),o=o.sibling}function qv(o,c,h){var m=o.tag;if(m===5||m===6)o=o.stateNode,c?h.insertBefore(o,c):h.appendChild(o);else if(m!==4&&(o=o.child,o!==null))for(qv(o,c,h),o=o.sibling;o!==null;)qv(o,c,h),o=o.sibling}var $n=null,ks=!1;function ko(o,c,h){for(h=h.child;h!==null;)zS(o,c,h),h=h.sibling}function zS(o,c,h){if(Mr&&typeof Mr.onCommitFiberUnmount=="function")try{Mr.onCommitFiberUnmount(La,h)}catch{}switch(h.tag){case 5:Jn||Ac(h,c);case 6:var m=$n,w=ks;$n=null,ko(o,c,h),$n=m,ks=w,$n!==null&&(ks?(o=$n,h=h.stateNode,o.nodeType===8?o.parentNode.removeChild(h):o.removeChild(h)):$n.removeChild(h.stateNode));break;case 18:$n!==null&&(ks?(o=$n,h=h.stateNode,o.nodeType===8?iv(o.parentNode,h):o.nodeType===1&&iv(o,h),Is(o)):iv($n,h.stateNode));break;case 4:m=$n,w=ks,$n=h.stateNode.containerInfo,ks=!0,ko(o,c,h),$n=m,ks=w;break;case 0:case 11:case 14:case 15:if(!Jn&&(m=h.updateQueue,m!==null&&(m=m.lastEffect,m!==null))){w=m=m.next;do{var b=w,R=b.destroy;b=b.tag,R!==void 0&&((b&2)!==0||(b&4)!==0)&&zv(h,c,R),w=w.next}while(w!==m)}ko(o,c,h);break;case 1:if(!Jn&&(Ac(h,c),m=h.stateNode,typeof m.componentWillUnmount=="function"))try{m.props=h.memoizedProps,m.state=h.memoizedState,m.componentWillUnmount()}catch(U){nn(h,c,U)}ko(o,c,h);break;case 21:ko(o,c,h);break;case 22:h.mode&1?(Jn=(m=Jn)||h.memoizedState!==null,ko(o,c,h),Jn=m):ko(o,c,h);break;default:ko(o,c,h)}}function WS(o){var c=o.updateQueue;if(c!==null){o.updateQueue=null;var h=o.stateNode;h===null&&(h=o.stateNode=new iF),c.forEach(function(m){var w=mF.bind(null,o,m);h.has(m)||(h.add(m),m.then(w,w))})}}function Ds(o,c){var h=c.deletions;if(h!==null)for(var m=0;m<h.length;m++){var w=h[m];try{var b=o,R=c,U=R;e:for(;U!==null;){switch(U.tag){case 5:$n=U.stateNode,ks=!1;break e;case 3:$n=U.stateNode.containerInfo,ks=!0;break e;case 4:$n=U.stateNode.containerInfo,ks=!0;break e}U=U.return}if($n===null)throw Error(n(160));zS(b,R,w),$n=null,ks=!1;var H=w.alternate;H!==null&&(H.return=null),w.return=null}catch(te){nn(w,c,te)}}if(c.subtreeFlags&12854)for(c=c.child;c!==null;)HS(c,o),c=c.sibling}function HS(o,c){var h=o.alternate,m=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(Ds(c,o),ri(o),m&4){try{$d(3,o,o.return),Tp(3,o)}catch($e){nn(o,o.return,$e)}try{$d(5,o,o.return)}catch($e){nn(o,o.return,$e)}}break;case 1:Ds(c,o),ri(o),m&512&&h!==null&&Ac(h,h.return);break;case 5:if(Ds(c,o),ri(o),m&512&&h!==null&&Ac(h,h.return),o.flags&32){var w=o.stateNode;try{ze(w,"")}catch($e){nn(o,o.return,$e)}}if(m&4&&(w=o.stateNode,w!=null)){var b=o.memoizedProps,R=h!==null?h.memoizedProps:b,U=o.type,H=o.updateQueue;if(o.updateQueue=null,H!==null)try{U==="input"&&b.type==="radio"&&b.name!=null&&Gn(w,b),Si(U,R);var te=Si(U,b);for(R=0;R<H.length;R+=2){var pe=H[R],ge=H[R+1];pe==="style"?vr(w,ge):pe==="dangerouslySetInnerHTML"?we(w,ge):pe==="children"?ze(w,ge):N(w,pe,ge,te)}switch(U){case"input":Qn(w,b);break;case"textarea":oe(w,b);break;case"select":var he=w._wrapperState.wasMultiple;w._wrapperState.wasMultiple=!!b.multiple;var De=b.value;De!=null?_n(w,!!b.multiple,De,!1):he!==!!b.multiple&&(b.defaultValue!=null?_n(w,!!b.multiple,b.defaultValue,!0):_n(w,!!b.multiple,b.multiple?[]:"",!1))}w[Cd]=b}catch($e){nn(o,o.return,$e)}}break;case 6:if(Ds(c,o),ri(o),m&4){if(o.stateNode===null)throw Error(n(162));w=o.stateNode,b=o.memoizedProps;try{w.nodeValue=b}catch($e){nn(o,o.return,$e)}}break;case 3:if(Ds(c,o),ri(o),m&4&&h!==null&&h.memoizedState.isDehydrated)try{Is(c.containerInfo)}catch($e){nn(o,o.return,$e)}break;case 4:Ds(c,o),ri(o);break;case 13:Ds(c,o),ri(o),w=o.child,w.flags&8192&&(b=w.memoizedState!==null,w.stateNode.isHidden=b,!b||w.alternate!==null&&w.alternate.memoizedState!==null||(Qv=ct())),m&4&&WS(o);break;case 22:if(pe=h!==null&&h.memoizedState!==null,o.mode&1?(Jn=(te=Jn)||pe,Ds(c,o),Jn=te):Ds(c,o),ri(o),m&8192){if(te=o.memoizedState!==null,(o.stateNode.isHidden=te)&&!pe&&(o.mode&1)!==0)for(Oe=o,pe=o.child;pe!==null;){for(ge=Oe=pe;Oe!==null;){switch(he=Oe,De=he.child,he.tag){case 0:case 11:case 14:case 15:$d(4,he,he.return);break;case 1:Ac(he,he.return);var Me=he.stateNode;if(typeof Me.componentWillUnmount=="function"){m=he,h=he.return;try{c=m,Me.props=c.memoizedProps,Me.state=c.memoizedState,Me.componentWillUnmount()}catch($e){nn(m,h,$e)}}break;case 5:Ac(he,he.return);break;case 22:if(he.memoizedState!==null){GS(ge);continue}}De!==null?(De.return=he,Oe=De):GS(ge)}pe=pe.sibling}e:for(pe=null,ge=o;;){if(ge.tag===5){if(pe===null){pe=ge;try{w=ge.stateNode,te?(b=w.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none"):(U=ge.stateNode,H=ge.memoizedProps.style,R=H!=null&&H.hasOwnProperty("display")?H.display:null,U.style.display=Ze("display",R))}catch($e){nn(o,o.return,$e)}}}else if(ge.tag===6){if(pe===null)try{ge.stateNode.nodeValue=te?"":ge.memoizedProps}catch($e){nn(o,o.return,$e)}}else if((ge.tag!==22&&ge.tag!==23||ge.memoizedState===null||ge===o)&&ge.child!==null){ge.child.return=ge,ge=ge.child;continue}if(ge===o)break e;for(;ge.sibling===null;){if(ge.return===null||ge.return===o)break e;pe===ge&&(pe=null),ge=ge.return}pe===ge&&(pe=null),ge.sibling.return=ge.return,ge=ge.sibling}}break;case 19:Ds(c,o),ri(o),m&4&&WS(o);break;case 21:break;default:Ds(c,o),ri(o)}}function ri(o){var c=o.flags;if(c&2){try{e:{for(var h=o.return;h!==null;){if(BS(h)){var m=h;break e}h=h.return}throw Error(n(160))}switch(m.tag){case 5:var w=m.stateNode;m.flags&32&&(ze(w,""),m.flags&=-33);var b=US(o);qv(o,b,w);break;case 3:case 4:var R=m.stateNode.containerInfo,U=US(o);Hv(o,U,R);break;default:throw Error(n(161))}}catch(H){nn(o,o.return,H)}o.flags&=-3}c&4096&&(o.flags&=-4097)}function aF(o,c,h){Oe=o,qS(o)}function qS(o,c,h){for(var m=(o.mode&1)!==0;Oe!==null;){var w=Oe,b=w.child;if(w.tag===22&&m){var R=w.memoizedState!==null||Ep;if(!R){var U=w.alternate,H=U!==null&&U.memoizedState!==null||Jn;U=Ep;var te=Jn;if(Ep=R,(Jn=H)&&!te)for(Oe=w;Oe!==null;)R=Oe,H=R.child,R.tag===22&&R.memoizedState!==null?QS(w):H!==null?(H.return=R,Oe=H):QS(w);for(;b!==null;)Oe=b,qS(b),b=b.sibling;Oe=w,Ep=U,Jn=te}KS(o)}else(w.subtreeFlags&8772)!==0&&b!==null?(b.return=w,Oe=b):KS(o)}}function KS(o){for(;Oe!==null;){var c=Oe;if((c.flags&8772)!==0){var h=c.alternate;try{if((c.flags&8772)!==0)switch(c.tag){case 0:case 11:case 15:Jn||Tp(5,c);break;case 1:var m=c.stateNode;if(c.flags&4&&!Jn)if(h===null)m.componentDidMount();else{var w=c.elementType===c.type?h.memoizedProps:Rs(c.type,h.memoizedProps);m.componentDidUpdate(w,h.memoizedState,m.__reactInternalSnapshotBeforeUpdate)}var b=c.updateQueue;b!==null&&GT(c,b,m);break;case 3:var R=c.updateQueue;if(R!==null){if(h=null,c.child!==null)switch(c.child.tag){case 5:h=c.child.stateNode;break;case 1:h=c.child.stateNode}GT(c,R,h)}break;case 5:var U=c.stateNode;if(h===null&&c.flags&4){h=U;var H=c.memoizedProps;switch(c.type){case"button":case"input":case"select":case"textarea":H.autoFocus&&h.focus();break;case"img":H.src&&(h.src=H.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(c.memoizedState===null){var te=c.alternate;if(te!==null){var pe=te.memoizedState;if(pe!==null){var ge=pe.dehydrated;ge!==null&&Is(ge)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Jn||c.flags&512&&Wv(c)}catch(he){nn(c,c.return,he)}}if(c===o){Oe=null;break}if(h=c.sibling,h!==null){h.return=c.return,Oe=h;break}Oe=c.return}}function GS(o){for(;Oe!==null;){var c=Oe;if(c===o){Oe=null;break}var h=c.sibling;if(h!==null){h.return=c.return,Oe=h;break}Oe=c.return}}function QS(o){for(;Oe!==null;){var c=Oe;try{switch(c.tag){case 0:case 11:case 15:var h=c.return;try{Tp(4,c)}catch(H){nn(c,h,H)}break;case 1:var m=c.stateNode;if(typeof m.componentDidMount=="function"){var w=c.return;try{m.componentDidMount()}catch(H){nn(c,w,H)}}var b=c.return;try{Wv(c)}catch(H){nn(c,b,H)}break;case 5:var R=c.return;try{Wv(c)}catch(H){nn(c,R,H)}}}catch(H){nn(c,c.return,H)}if(c===o){Oe=null;break}var U=c.sibling;if(U!==null){U.return=c.return,Oe=U;break}Oe=c.return}}var lF=Math.ceil,Sp=B.ReactCurrentDispatcher,Kv=B.ReactCurrentOwner,us=B.ReactCurrentBatchConfig,xt=0,Dn=null,pn=null,jn=0,zr=0,Pc=Io(0),En=0,jd=null,Ya=0,Ip=0,Gv=0,Fd=null,Cr=null,Qv=0,Rc=1/0,Fi=null,Cp=!1,Yv=null,Do=null,Ap=!1,No=null,Pp=0,Bd=0,Xv=null,Rp=-1,kp=0;function ur(){return(xt&6)!==0?ct():Rp!==-1?Rp:Rp=ct()}function Oo(o){return(o.mode&1)===0?1:(xt&2)!==0&&jn!==0?jn&-jn:Hj.transition!==null?(kp===0&&(kp=$a()),kp):(o=vt,o!==0||(o=window.event,o=o===void 0?16:md(o.type)),o)}function Ns(o,c,h,m){if(50<Bd)throw Bd=0,Xv=null,Error(n(185));vo(o,h,m),((xt&2)===0||o!==Dn)&&(o===Dn&&((xt&2)===0&&(Ip|=h),En===4&&Vo(o,jn)),Ar(o,m),h===1&&xt===0&&(c.mode&1)===0&&(Rc=ct()+500,ip&&Ao()))}function Ar(o,c){var h=o.callbackNode;Ai(o,c);var m=Ma(o,o===Dn?jn:0);if(m===0)h!==null&&ke(h),o.callbackNode=null,o.callbackPriority=0;else if(c=m&-m,o.callbackPriority!==c){if(h!=null&&ke(h),c===1)o.tag===0?Wj(XS.bind(null,o)):LT(XS.bind(null,o)),Fj(function(){(xt&6)===0&&Ao()}),h=null;else{switch(_o(m)){case 1:h=or;break;case 4:h=mo;break;case 16:h=rs;break;case 536870912:h=kf;break;default:h=rs}h=iI(h,YS.bind(null,o))}o.callbackPriority=c,o.callbackNode=h}}function YS(o,c){if(Rp=-1,kp=0,(xt&6)!==0)throw Error(n(327));var h=o.callbackNode;if(kc()&&o.callbackNode!==h)return null;var m=Ma(o,o===Dn?jn:0);if(m===0)return null;if((m&30)!==0||(m&o.expiredLanes)!==0||c)c=Dp(o,m);else{c=m;var w=xt;xt|=2;var b=JS();(Dn!==o||jn!==c)&&(Fi=null,Rc=ct()+500,Za(o,c));do try{dF();break}catch(U){ZS(o,U)}while(!0);mv(),Sp.current=b,xt=w,pn!==null?c=0:(Dn=null,jn=0,c=En)}if(c!==0){if(c===2&&(w=$r(o),w!==0&&(m=w,c=Zv(o,w))),c===1)throw h=jd,Za(o,0),Vo(o,m),Ar(o,ct()),h;if(c===6)Vo(o,m);else{if(w=o.current.alternate,(m&30)===0&&!cF(w)&&(c=Dp(o,m),c===2&&(b=$r(o),b!==0&&(m=b,c=Zv(o,b))),c===1))throw h=jd,Za(o,0),Vo(o,m),Ar(o,ct()),h;switch(o.finishedWork=w,o.finishedLanes=m,c){case 0:case 1:throw Error(n(345));case 2:Ja(o,Cr,Fi);break;case 3:if(Vo(o,m),(m&130023424)===m&&(c=Qv+500-ct(),10<c)){if(Ma(o,0)!==0)break;if(w=o.suspendedLanes,(w&m)!==m){ur(),o.pingedLanes|=o.suspendedLanes&w;break}o.timeoutHandle=sv(Ja.bind(null,o,Cr,Fi),c);break}Ja(o,Cr,Fi);break;case 4:if(Vo(o,m),(m&4194240)===m)break;for(c=o.eventTimes,w=-1;0<m;){var R=31-ar(m);b=1<<R,R=c[R],R>w&&(w=R),m&=~b}if(m=w,m=ct()-m,m=(120>m?120:480>m?480:1080>m?1080:1920>m?1920:3e3>m?3e3:4320>m?4320:1960*lF(m/1960))-m,10<m){o.timeoutHandle=sv(Ja.bind(null,o,Cr,Fi),m);break}Ja(o,Cr,Fi);break;case 5:Ja(o,Cr,Fi);break;default:throw Error(n(329))}}}return Ar(o,ct()),o.callbackNode===h?YS.bind(null,o):null}function Zv(o,c){var h=Fd;return o.current.memoizedState.isDehydrated&&(Za(o,c).flags|=256),o=Dp(o,c),o!==2&&(c=Cr,Cr=h,c!==null&&Jv(c)),o}function Jv(o){Cr===null?Cr=o:Cr.push.apply(Cr,o)}function cF(o){for(var c=o;;){if(c.flags&16384){var h=c.updateQueue;if(h!==null&&(h=h.stores,h!==null))for(var m=0;m<h.length;m++){var w=h[m],b=w.getSnapshot;w=w.value;try{if(!As(b(),w))return!1}catch{return!1}}}if(h=c.child,c.subtreeFlags&16384&&h!==null)h.return=c,c=h;else{if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function Vo(o,c){for(c&=~Gv,c&=~Ip,o.suspendedLanes|=c,o.pingedLanes&=~c,o=o.expirationTimes;0<c;){var h=31-ar(c),m=1<<h;o[h]=-1,c&=~m}}function XS(o){if((xt&6)!==0)throw Error(n(327));kc();var c=Ma(o,0);if((c&1)===0)return Ar(o,ct()),null;var h=Dp(o,c);if(o.tag!==0&&h===2){var m=$r(o);m!==0&&(c=m,h=Zv(o,m))}if(h===1)throw h=jd,Za(o,0),Vo(o,c),Ar(o,ct()),h;if(h===6)throw Error(n(345));return o.finishedWork=o.current.alternate,o.finishedLanes=c,Ja(o,Cr,Fi),Ar(o,ct()),null}function ew(o,c){var h=xt;xt|=1;try{return o(c)}finally{xt=h,xt===0&&(Rc=ct()+500,ip&&Ao())}}function Xa(o){No!==null&&No.tag===0&&(xt&6)===0&&kc();var c=xt;xt|=1;var h=us.transition,m=vt;try{if(us.transition=null,vt=1,o)return o()}finally{vt=m,us.transition=h,xt=c,(xt&6)===0&&Ao()}}function tw(){zr=Pc.current,Bt(Pc)}function Za(o,c){o.finishedWork=null,o.finishedLanes=0;var h=o.timeoutHandle;if(h!==-1&&(o.timeoutHandle=-1,jj(h)),pn!==null)for(h=pn.return;h!==null;){var m=h;switch(uv(m),m.tag){case 1:m=m.type.childContextTypes,m!=null&&rp();break;case 3:Ic(),Bt(Tr),Bt(Yn),Ev();break;case 5:bv(m);break;case 4:Ic();break;case 13:Bt(Xt);break;case 19:Bt(Xt);break;case 10:gv(m.type._context);break;case 22:case 23:tw()}h=h.return}if(Dn=o,pn=o=Lo(o.current,null),jn=zr=c,En=0,jd=null,Gv=Ip=Ya=0,Cr=Fd=null,Ka!==null){for(c=0;c<Ka.length;c++)if(h=Ka[c],m=h.interleaved,m!==null){h.interleaved=null;var w=m.next,b=h.pending;if(b!==null){var R=b.next;b.next=w,m.next=R}h.pending=m}Ka=null}return o}function ZS(o,c){do{var h=pn;try{if(mv(),mp.current=wp,gp){for(var m=Zt.memoizedState;m!==null;){var w=m.queue;w!==null&&(w.pending=null),m=m.next}gp=!1}if(Qa=0,kn=xn=Zt=null,Nd=!1,Od=0,Kv.current=null,h===null||h.return===null){En=1,jd=c,pn=null;break}e:{var b=o,R=h.return,U=h,H=c;if(c=jn,U.flags|=32768,H!==null&&typeof H=="object"&&typeof H.then=="function"){var te=H,pe=U,ge=pe.tag;if((pe.mode&1)===0&&(ge===0||ge===11||ge===15)){var he=pe.alternate;he?(pe.updateQueue=he.updateQueue,pe.memoizedState=he.memoizedState,pe.lanes=he.lanes):(pe.updateQueue=null,pe.memoizedState=null)}var De=ES(R);if(De!==null){De.flags&=-257,TS(De,R,U,b,c),De.mode&1&&xS(b,te,c),c=De,H=te;var Me=c.updateQueue;if(Me===null){var $e=new Set;$e.add(H),c.updateQueue=$e}else Me.add(H);break e}else{if((c&1)===0){xS(b,te,c),nw();break e}H=Error(n(426))}}else if(qt&&U.mode&1){var an=ES(R);if(an!==null){(an.flags&65536)===0&&(an.flags|=256),TS(an,R,U,b,c),fv(Cc(H,U));break e}}b=H=Cc(H,U),En!==4&&(En=2),Fd===null?Fd=[b]:Fd.push(b),b=R;do{switch(b.tag){case 3:b.flags|=65536,c&=-c,b.lanes|=c;var Y=_S(b,H,c);KT(b,Y);break e;case 1:U=H;var K=b.type,ee=b.stateNode;if((b.flags&128)===0&&(typeof K.getDerivedStateFromError=="function"||ee!==null&&typeof ee.componentDidCatch=="function"&&(Do===null||!Do.has(ee)))){b.flags|=65536,c&=-c,b.lanes|=c;var _e=bS(b,U,c);KT(b,_e);break e}}b=b.return}while(b!==null)}tI(h)}catch(Be){c=Be,pn===h&&h!==null&&(pn=h=h.return);continue}break}while(!0)}function JS(){var o=Sp.current;return Sp.current=wp,o===null?wp:o}function nw(){(En===0||En===3||En===2)&&(En=4),Dn===null||(Ya&268435455)===0&&(Ip&268435455)===0||Vo(Dn,jn)}function Dp(o,c){var h=xt;xt|=2;var m=JS();(Dn!==o||jn!==c)&&(Fi=null,Za(o,c));do try{uF();break}catch(w){ZS(o,w)}while(!0);if(mv(),xt=h,Sp.current=m,pn!==null)throw Error(n(261));return Dn=null,jn=0,En}function uF(){for(;pn!==null;)eI(pn)}function dF(){for(;pn!==null&&!ot();)eI(pn)}function eI(o){var c=sI(o.alternate,o,zr);o.memoizedProps=o.pendingProps,c===null?tI(o):pn=c,Kv.current=null}function tI(o){var c=o;do{var h=c.alternate;if(o=c.return,(c.flags&32768)===0){if(h=rF(h,c,zr),h!==null){pn=h;return}}else{if(h=sF(h,c),h!==null){h.flags&=32767,pn=h;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{En=6,pn=null;return}}if(c=c.sibling,c!==null){pn=c;return}pn=c=o}while(c!==null);En===0&&(En=5)}function Ja(o,c,h){var m=vt,w=us.transition;try{us.transition=null,vt=1,hF(o,c,h,m)}finally{us.transition=w,vt=m}return null}function hF(o,c,h,m){do kc();while(No!==null);if((xt&6)!==0)throw Error(n(327));h=o.finishedWork;var w=o.finishedLanes;if(h===null)return null;if(o.finishedWork=null,o.finishedLanes=0,h===o.current)throw Error(n(177));o.callbackNode=null,o.callbackPriority=0;var b=h.lanes|h.childLanes;if(Mt(o,b),o===Dn&&(pn=Dn=null,jn=0),(h.subtreeFlags&2064)===0&&(h.flags&2064)===0||Ap||(Ap=!0,iI(rs,function(){return kc(),null})),b=(h.flags&15990)!==0,(h.subtreeFlags&15990)!==0||b){b=us.transition,us.transition=null;var R=vt;vt=1;var U=xt;xt|=4,Kv.current=null,oF(o,h),HS(h,o),Dj(nv),xo=!!tv,nv=tv=null,o.current=h,aF(h),jt(),xt=U,vt=R,us.transition=b}else o.current=h;if(Ap&&(Ap=!1,No=o,Pp=w),b=o.pendingLanes,b===0&&(Do=null),Df(h.stateNode),Ar(o,ct()),c!==null)for(m=o.onRecoverableError,h=0;h<c.length;h++)w=c[h],m(w.value,{componentStack:w.stack,digest:w.digest});if(Cp)throw Cp=!1,o=Yv,Yv=null,o;return(Pp&1)!==0&&o.tag!==0&&kc(),b=o.pendingLanes,(b&1)!==0?o===Xv?Bd++:(Bd=0,Xv=o):Bd=0,Ao(),null}function kc(){if(No!==null){var o=_o(Pp),c=us.transition,h=vt;try{if(us.transition=null,vt=16>o?16:o,No===null)var m=!1;else{if(o=No,No=null,Pp=0,(xt&6)!==0)throw Error(n(331));var w=xt;for(xt|=4,Oe=o.current;Oe!==null;){var b=Oe,R=b.child;if((Oe.flags&16)!==0){var U=b.deletions;if(U!==null){for(var H=0;H<U.length;H++){var te=U[H];for(Oe=te;Oe!==null;){var pe=Oe;switch(pe.tag){case 0:case 11:case 15:$d(8,pe,b)}var ge=pe.child;if(ge!==null)ge.return=pe,Oe=ge;else for(;Oe!==null;){pe=Oe;var he=pe.sibling,De=pe.return;if(FS(pe),pe===te){Oe=null;break}if(he!==null){he.return=De,Oe=he;break}Oe=De}}}var Me=b.alternate;if(Me!==null){var $e=Me.child;if($e!==null){Me.child=null;do{var an=$e.sibling;$e.sibling=null,$e=an}while($e!==null)}}Oe=b}}if((b.subtreeFlags&2064)!==0&&R!==null)R.return=b,Oe=R;else e:for(;Oe!==null;){if(b=Oe,(b.flags&2048)!==0)switch(b.tag){case 0:case 11:case 15:$d(9,b,b.return)}var Y=b.sibling;if(Y!==null){Y.return=b.return,Oe=Y;break e}Oe=b.return}}var K=o.current;for(Oe=K;Oe!==null;){R=Oe;var ee=R.child;if((R.subtreeFlags&2064)!==0&&ee!==null)ee.return=R,Oe=ee;else e:for(R=K;Oe!==null;){if(U=Oe,(U.flags&2048)!==0)try{switch(U.tag){case 0:case 11:case 15:Tp(9,U)}}catch(Be){nn(U,U.return,Be)}if(U===R){Oe=null;break e}var _e=U.sibling;if(_e!==null){_e.return=U.return,Oe=_e;break e}Oe=U.return}}if(xt=w,Ao(),Mr&&typeof Mr.onPostCommitFiberRoot=="function")try{Mr.onPostCommitFiberRoot(La,o)}catch{}m=!0}return m}finally{vt=h,us.transition=c}}return!1}function nI(o,c,h){c=Cc(h,c),c=_S(o,c,1),o=Ro(o,c,1),c=ur(),o!==null&&(vo(o,1,c),Ar(o,c))}function nn(o,c,h){if(o.tag===3)nI(o,o,h);else for(;c!==null;){if(c.tag===3){nI(c,o,h);break}else if(c.tag===1){var m=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(Do===null||!Do.has(m))){o=Cc(h,o),o=bS(c,o,1),c=Ro(c,o,1),o=ur(),c!==null&&(vo(c,1,o),Ar(c,o));break}}c=c.return}}function fF(o,c,h){var m=o.pingCache;m!==null&&m.delete(c),c=ur(),o.pingedLanes|=o.suspendedLanes&h,Dn===o&&(jn&h)===h&&(En===4||En===3&&(jn&130023424)===jn&&500>ct()-Qv?Za(o,0):Gv|=h),Ar(o,c)}function rI(o,c){c===0&&((o.mode&1)===0?c=1:(c=ec,ec<<=1,(ec&130023424)===0&&(ec=4194304)));var h=ur();o=Mi(o,c),o!==null&&(vo(o,c,h),Ar(o,h))}function pF(o){var c=o.memoizedState,h=0;c!==null&&(h=c.retryLane),rI(o,h)}function mF(o,c){var h=0;switch(o.tag){case 13:var m=o.stateNode,w=o.memoizedState;w!==null&&(h=w.retryLane);break;case 19:m=o.stateNode;break;default:throw Error(n(314))}m!==null&&m.delete(c),rI(o,h)}var sI;sI=function(o,c,h){if(o!==null)if(o.memoizedProps!==c.pendingProps||Tr.current)Ir=!0;else{if((o.lanes&h)===0&&(c.flags&128)===0)return Ir=!1,nF(o,c,h);Ir=(o.flags&131072)!==0}else Ir=!1,qt&&(c.flags&1048576)!==0&&MT(c,ap,c.index);switch(c.lanes=0,c.tag){case 2:var m=c.type;xp(o,c),o=c.pendingProps;var w=wc(c,Yn.current);Sc(c,h),w=Iv(null,c,m,o,w,h);var b=Cv();return c.flags|=1,typeof w=="object"&&w!==null&&typeof w.render=="function"&&w.$$typeof===void 0?(c.tag=1,c.memoizedState=null,c.updateQueue=null,Sr(m)?(b=!0,sp(c)):b=!1,c.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,wv(c),w.updater=_p,c.stateNode=w,w._reactInternals=c,Nv(c,m,o,h),c=Mv(null,c,m,!0,b,h)):(c.tag=0,qt&&b&&cv(c),cr(null,c,w,h),c=c.child),c;case 16:m=c.elementType;e:{switch(xp(o,c),o=c.pendingProps,w=m._init,m=w(m._payload),c.type=m,w=c.tag=yF(m),o=Rs(m,o),w){case 0:c=Lv(null,c,m,o,h);break e;case 1:c=RS(null,c,m,o,h);break e;case 11:c=SS(null,c,m,o,h);break e;case 14:c=IS(null,c,m,Rs(m.type,o),h);break e}throw Error(n(306,m,""))}return c;case 0:return m=c.type,w=c.pendingProps,w=c.elementType===m?w:Rs(m,w),Lv(o,c,m,w,h);case 1:return m=c.type,w=c.pendingProps,w=c.elementType===m?w:Rs(m,w),RS(o,c,m,w,h);case 3:e:{if(kS(c),o===null)throw Error(n(387));m=c.pendingProps,b=c.memoizedState,w=b.element,qT(o,c),fp(c,m,null,h);var R=c.memoizedState;if(m=R.element,b.isDehydrated)if(b={element:m,isDehydrated:!1,cache:R.cache,pendingSuspenseBoundaries:R.pendingSuspenseBoundaries,transitions:R.transitions},c.updateQueue.baseState=b,c.memoizedState=b,c.flags&256){w=Cc(Error(n(423)),c),c=DS(o,c,m,h,w);break e}else if(m!==w){w=Cc(Error(n(424)),c),c=DS(o,c,m,h,w);break e}else for(Ur=So(c.stateNode.containerInfo.firstChild),Br=c,qt=!0,Ps=null,h=WT(c,null,m,h),c.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling;else{if(xc(),m===w){c=ji(o,c,h);break e}cr(o,c,m,h)}c=c.child}return c;case 5:return QT(c),o===null&&hv(c),m=c.type,w=c.pendingProps,b=o!==null?o.memoizedProps:null,R=w.children,rv(m,w)?R=null:b!==null&&rv(m,b)&&(c.flags|=32),PS(o,c),cr(o,c,R,h),c.child;case 6:return o===null&&hv(c),null;case 13:return NS(o,c,h);case 4:return _v(c,c.stateNode.containerInfo),m=c.pendingProps,o===null?c.child=Ec(c,null,m,h):cr(o,c,m,h),c.child;case 11:return m=c.type,w=c.pendingProps,w=c.elementType===m?w:Rs(m,w),SS(o,c,m,w,h);case 7:return cr(o,c,c.pendingProps,h),c.child;case 8:return cr(o,c,c.pendingProps.children,h),c.child;case 12:return cr(o,c,c.pendingProps.children,h),c.child;case 10:e:{if(m=c.type._context,w=c.pendingProps,b=c.memoizedProps,R=w.value,$t(up,m._currentValue),m._currentValue=R,b!==null)if(As(b.value,R)){if(b.children===w.children&&!Tr.current){c=ji(o,c,h);break e}}else for(b=c.child,b!==null&&(b.return=c);b!==null;){var U=b.dependencies;if(U!==null){R=b.child;for(var H=U.firstContext;H!==null;){if(H.context===m){if(b.tag===1){H=$i(-1,h&-h),H.tag=2;var te=b.updateQueue;if(te!==null){te=te.shared;var pe=te.pending;pe===null?H.next=H:(H.next=pe.next,pe.next=H),te.pending=H}}b.lanes|=h,H=b.alternate,H!==null&&(H.lanes|=h),yv(b.return,h,c),U.lanes|=h;break}H=H.next}}else if(b.tag===10)R=b.type===c.type?null:b.child;else if(b.tag===18){if(R=b.return,R===null)throw Error(n(341));R.lanes|=h,U=R.alternate,U!==null&&(U.lanes|=h),yv(R,h,c),R=b.sibling}else R=b.child;if(R!==null)R.return=b;else for(R=b;R!==null;){if(R===c){R=null;break}if(b=R.sibling,b!==null){b.return=R.return,R=b;break}R=R.return}b=R}cr(o,c,w.children,h),c=c.child}return c;case 9:return w=c.type,m=c.pendingProps.children,Sc(c,h),w=ls(w),m=m(w),c.flags|=1,cr(o,c,m,h),c.child;case 14:return m=c.type,w=Rs(m,c.pendingProps),w=Rs(m.type,w),IS(o,c,m,w,h);case 15:return CS(o,c,c.type,c.pendingProps,h);case 17:return m=c.type,w=c.pendingProps,w=c.elementType===m?w:Rs(m,w),xp(o,c),c.tag=1,Sr(m)?(o=!0,sp(c)):o=!1,Sc(c,h),vS(c,m,w),Nv(c,m,w,h),Mv(null,c,m,!0,o,h);case 19:return VS(o,c,h);case 22:return AS(o,c,h)}throw Error(n(156,c.tag))};function iI(o,c){return se(o,c)}function gF(o,c,h,m){this.tag=o,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ds(o,c,h,m){return new gF(o,c,h,m)}function rw(o){return o=o.prototype,!(!o||!o.isReactComponent)}function yF(o){if(typeof o=="function")return rw(o)?1:0;if(o!=null){if(o=o.$$typeof,o===$)return 11;if(o===ve)return 14}return 2}function Lo(o,c){var h=o.alternate;return h===null?(h=ds(o.tag,c,o.key,o.mode),h.elementType=o.elementType,h.type=o.type,h.stateNode=o.stateNode,h.alternate=o,o.alternate=h):(h.pendingProps=c,h.type=o.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=o.flags&14680064,h.childLanes=o.childLanes,h.lanes=o.lanes,h.child=o.child,h.memoizedProps=o.memoizedProps,h.memoizedState=o.memoizedState,h.updateQueue=o.updateQueue,c=o.dependencies,h.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},h.sibling=o.sibling,h.index=o.index,h.ref=o.ref,h}function Np(o,c,h,m,w,b){var R=2;if(m=o,typeof o=="function")rw(o)&&(R=1);else if(typeof o=="string")R=5;else e:switch(o){case O:return el(h.children,w,b,c);case P:R=8,w|=8;break;case D:return o=ds(12,h,c,w|2),o.elementType=D,o.lanes=b,o;case V:return o=ds(13,h,c,w),o.elementType=V,o.lanes=b,o;case ne:return o=ds(19,h,c,w),o.elementType=ne,o.lanes=b,o;case me:return Op(h,w,b,c);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case M:R=10;break e;case F:R=9;break e;case $:R=11;break e;case ve:R=14;break e;case de:R=16,m=null;break e}throw Error(n(130,o==null?o:typeof o,""))}return c=ds(R,h,c,w),c.elementType=o,c.type=m,c.lanes=b,c}function el(o,c,h,m){return o=ds(7,o,m,c),o.lanes=h,o}function Op(o,c,h,m){return o=ds(22,o,m,c),o.elementType=me,o.lanes=h,o.stateNode={isHidden:!1},o}function sw(o,c,h){return o=ds(6,o,null,c),o.lanes=h,o}function iw(o,c,h){return c=ds(4,o.children!==null?o.children:[],o.key,c),c.lanes=h,c.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},c}function vF(o,c,h,m,w){this.tag=c,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=yo(0),this.expirationTimes=yo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yo(0),this.identifierPrefix=m,this.onRecoverableError=w,this.mutableSourceEagerHydrationData=null}function ow(o,c,h,m,w,b,R,U,H){return o=new vF(o,c,h,U,H),c===1?(c=1,b===!0&&(c|=8)):c=0,b=ds(3,null,null,c),o.current=b,b.stateNode=o,b.memoizedState={element:m,isDehydrated:h,cache:null,transitions:null,pendingSuspenseBoundaries:null},wv(b),o}function wF(o,c,h){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:G,key:m==null?null:""+m,children:o,containerInfo:c,implementation:h}}function oI(o){if(!o)return Co;o=o._reactInternals;e:{if(Vr(o)!==o||o.tag!==1)throw Error(n(170));var c=o;do{switch(c.tag){case 3:c=c.stateNode.context;break e;case 1:if(Sr(c.type)){c=c.stateNode.__reactInternalMemoizedMergedChildContext;break e}}c=c.return}while(c!==null);throw Error(n(171))}if(o.tag===1){var h=o.type;if(Sr(h))return OT(o,h,c)}return c}function aI(o,c,h,m,w,b,R,U,H){return o=ow(h,m,!0,o,w,b,R,U,H),o.context=oI(null),h=o.current,m=ur(),w=Oo(h),b=$i(m,w),b.callback=c??null,Ro(h,b,w),o.current.lanes=w,vo(o,w,m),Ar(o,m),o}function Vp(o,c,h,m){var w=c.current,b=ur(),R=Oo(w);return h=oI(h),c.context===null?c.context=h:c.pendingContext=h,c=$i(b,R),c.payload={element:o},m=m===void 0?null:m,m!==null&&(c.callback=m),o=Ro(w,c,R),o!==null&&(Ns(o,w,R,b),hp(o,w,R)),R}function Lp(o){return o=o.current,o.child?(o.child.tag===5,o.child.stateNode):null}function lI(o,c){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var h=o.retryLane;o.retryLane=h!==0&&h<c?h:c}}function aw(o,c){lI(o,c),(o=o.alternate)&&lI(o,c)}function _F(){return null}var cI=typeof reportError=="function"?reportError:function(o){console.error(o)};function lw(o){this._internalRoot=o}Mp.prototype.render=lw.prototype.render=function(o){var c=this._internalRoot;if(c===null)throw Error(n(409));Vp(o,c,null,null)},Mp.prototype.unmount=lw.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var c=o.containerInfo;Xa(function(){Vp(null,o,null,null)}),c[Ni]=null}};function Mp(o){this._internalRoot=o}Mp.prototype.unstable_scheduleHydration=function(o){if(o){var c=Mf();o={blockedOn:null,target:o,priority:c};for(var h=0;h<Ys.length&&c!==0&&c<Ys[h].priority;h++);Ys.splice(h,0,o),h===0&&Ff(o)}};function cw(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function $p(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function uI(){}function bF(o,c,h,m,w){if(w){if(typeof m=="function"){var b=m;m=function(){var te=Lp(R);b.call(te)}}var R=aI(c,m,o,0,null,!1,!1,"",uI);return o._reactRootContainer=R,o[Ni]=R.current,Sd(o.nodeType===8?o.parentNode:o),Xa(),R}for(;w=o.lastChild;)o.removeChild(w);if(typeof m=="function"){var U=m;m=function(){var te=Lp(H);U.call(te)}}var H=ow(o,0,!1,null,null,!1,!1,"",uI);return o._reactRootContainer=H,o[Ni]=H.current,Sd(o.nodeType===8?o.parentNode:o),Xa(function(){Vp(c,H,h,m)}),H}function jp(o,c,h,m,w){var b=h._reactRootContainer;if(b){var R=b;if(typeof w=="function"){var U=w;w=function(){var H=Lp(R);U.call(H)}}Vp(c,R,o,w)}else R=bF(h,c,o,w,m);return Lp(R)}Vf=function(o){switch(o.tag){case 3:var c=o.stateNode;if(c.current.memoizedState.isDehydrated){var h=go(c.pendingLanes);h!==0&&(wo(c,h|1),Ar(c,ct()),(xt&6)===0&&(Rc=ct()+500,Ao()))}break;case 13:Xa(function(){var m=Mi(o,1);if(m!==null){var w=ur();Ns(m,o,1,w)}}),aw(o,1)}},tc=function(o){if(o.tag===13){var c=Mi(o,134217728);if(c!==null){var h=ur();Ns(c,o,134217728,h)}aw(o,134217728)}},Lf=function(o){if(o.tag===13){var c=Oo(o),h=Mi(o,c);if(h!==null){var m=ur();Ns(h,o,c,m)}aw(o,c)}},Mf=function(){return vt},$f=function(o,c){var h=vt;try{return vt=o,c()}finally{vt=h}},co=function(o,c,h){switch(c){case"input":if(Qn(o,h),c=h.name,h.type==="radio"&&c!=null){for(h=o;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll("input[name="+JSON.stringify(""+c)+'][type="radio"]'),c=0;c<h.length;c++){var m=h[c];if(m!==o&&m.form===o.form){var w=np(m);if(!w)throw Error(n(90));pt(m),Qn(m,w)}}}break;case"textarea":oe(o,h);break;case"select":c=h.value,c!=null&&_n(o,!!h.multiple,c,!1)}},Ii=ew,Da=Xa;var xF={usingClientEntryPoint:!1,Events:[Ad,yc,np,ts,ka,ew]},Ud={findFiberByHostInstance:za,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},EF={bundleType:Ud.bundleType,version:Ud.version,rendererPackageName:Ud.rendererPackageName,rendererConfig:Ud.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:B.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=Zl(o),o===null?null:o.stateNode},findFiberByHostInstance:Ud.findFiberByHostInstance||_F,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fp.isDisabled&&Fp.supportsFiber)try{La=Fp.inject(EF),Mr=Fp}catch{}}return Pr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xF,Pr.createPortal=function(o,c){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!cw(c))throw Error(n(200));return wF(o,c,null,h)},Pr.createRoot=function(o,c){if(!cw(o))throw Error(n(299));var h=!1,m="",w=cI;return c!=null&&(c.unstable_strictMode===!0&&(h=!0),c.identifierPrefix!==void 0&&(m=c.identifierPrefix),c.onRecoverableError!==void 0&&(w=c.onRecoverableError)),c=ow(o,1,!1,null,null,h,!1,m,w),o[Ni]=c.current,Sd(o.nodeType===8?o.parentNode:o),new lw(c)},Pr.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var c=o._reactInternals;if(c===void 0)throw typeof o.render=="function"?Error(n(188)):(o=Object.keys(o).join(","),Error(n(268,o)));return o=Zl(c),o=o===null?null:o.stateNode,o},Pr.flushSync=function(o){return Xa(o)},Pr.hydrate=function(o,c,h){if(!$p(c))throw Error(n(200));return jp(null,o,c,!0,h)},Pr.hydrateRoot=function(o,c,h){if(!cw(o))throw Error(n(405));var m=h!=null&&h.hydratedSources||null,w=!1,b="",R=cI;if(h!=null&&(h.unstable_strictMode===!0&&(w=!0),h.identifierPrefix!==void 0&&(b=h.identifierPrefix),h.onRecoverableError!==void 0&&(R=h.onRecoverableError)),c=aI(c,null,o,1,h??null,w,!1,b,R),o[Ni]=c.current,Sd(o),m)for(o=0;o<m.length;o++)h=m[o],w=h._getVersion,w=w(h._source),c.mutableSourceEagerHydrationData==null?c.mutableSourceEagerHydrationData=[h,w]:c.mutableSourceEagerHydrationData.push(h,w);return new Mp(c)},Pr.render=function(o,c,h){if(!$p(c))throw Error(n(200));return jp(null,o,c,!1,h)},Pr.unmountComponentAtNode=function(o){if(!$p(o))throw Error(n(40));return o._reactRootContainer?(Xa(function(){jp(null,null,o,!1,function(){o._reactRootContainer=null,o[Ni]=null})}),!0):!1},Pr.unstable_batchedUpdates=ew,Pr.unstable_renderSubtreeIntoContainer=function(o,c,h,m){if(!$p(h))throw Error(n(200));if(o==null||o._reactInternals===void 0)throw Error(n(38));return jp(o,c,h,!1,m)},Pr.version="18.3.1-next-f1338f8080-20240426",Pr}var vI;function _k(){if(vI)return hw.exports;vI=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),hw.exports=kF(),hw.exports}var wI;function DF(){if(wI)return Bp;wI=1;var t=_k();return Bp.createRoot=t.createRoot,Bp.hydrateRoot=t.hydrateRoot,Bp}var NF=DF(),T=Bg();const Se=wk(T),bk=SF({__proto__:null,default:Se},[T]),OF="modulepreload",VF=function(t,e){return new URL(t,e).href},_I={},ii=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){let d=function(f){return Promise.all(f.map(g=>Promise.resolve(g).then(y=>({status:"fulfilled",value:y}),y=>({status:"rejected",reason:y}))))};const a=document.getElementsByTagName("link"),l=document.querySelector("meta[property=csp-nonce]"),u=l?.nonce||l?.getAttribute("nonce");s=d(n.map(f=>{if(f=VF(f,r),f in _I)return;_I[f]=!0;const g=f.endsWith(".css"),y=g?'[rel="stylesheet"]':"";if(r)for(let I=a.length-1;I>=0;I--){const E=a[I];if(E.href===f&&(!g||E.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${f}"]${y}`))return;const x=document.createElement("link");if(x.rel=g?"stylesheet":OF,g||(x.as="script"),x.crossOrigin="",x.href=f,u&&x.setAttribute("nonce",u),document.head.appendChild(x),g)return new Promise((I,E)=>{x.addEventListener("load",I),x.addEventListener("error",()=>E(new Error(`Unable to preload CSS for ${f}`)))})}))}function i(a){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=a,window.dispatchEvent(l),!l.defaultPrevented)throw a}return s.then(a=>{for(const l of a||[])l.status==="rejected"&&i(l.reason);return e().catch(i)})};var un={allRenderFn:!1,element:!0,event:!0,hasRenderFn:!0,hostListener:!0,hostListenerTargetWindow:!0,hostListenerTargetDocument:!0,hostListenerTargetBody:!0,hostListenerTargetParent:!1,hostListenerTarget:!0,member:!0,method:!0,mode:!0,observeAttribute:!0,prop:!0,propMutable:!0,reflect:!0,scoped:!0,shadowDom:!0,slot:!0,cssAnnotations:!0,state:!0,style:!0,formAssociated:!1,svg:!0,updatable:!0,vdomAttribute:!0,vdomXlink:!0,vdomClass:!0,vdomFunctional:!0,vdomKey:!0,vdomListener:!0,vdomRef:!0,vdomPropOrAttr:!0,vdomRender:!0,vdomStyle:!0,vdomText:!0,propChangeCallback:!0,taskQueue:!0,hotModuleReplacement:!1,isDebug:!1,isDev:!1,isTesting:!1,hydrateServerSide:!1,hydrateClientSide:!1,lifecycleDOMEvents:!1,lazyLoad:!1,profile:!1,slotRelocation:!0,appendChildSlotFix:!1,cloneNodeFix:!1,hydratedAttribute:!1,hydratedClass:!0,scriptDataOpts:!1,scopedSlotTextContentFix:!1,shadowDomShim:!1,slotChildNodesFix:!1,invisiblePrehydration:!0,propBoolean:!0,propNumber:!0,propString:!0,constructableCSS:!0,devTools:!1,shadowDelegatesFocus:!0,initializeNextTick:!1,asyncLoading:!0,asyncQueue:!1,transformTagName:!1,attachStyles:!0,experimentalSlotFixes:!1},LF="app",MF=Object.defineProperty,$F=(t,e)=>{for(var n in e)MF(t,n,{get:e[n],enumerable:!0})},jF={isBrowser:!0},FF="http://www.w3.org/2000/svg",BF="http://www.w3.org/1999/xhtml",UF=(t,e)=>{var n;const r=e.$cmpMeta$;Object.entries((n=r.$members$)!=null?n:{}).map(([i,[a]])=>{if(a&31||a&32){const l=t[i],u=zF(Object.getPrototypeOf(t),i)||Object.getOwnPropertyDescriptor(t,i);u&&Object.defineProperty(t,i,{get(){return u.get.call(this)},set(d){u.set.call(this,d)},configurable:!0,enumerable:!0}),t[i]=e.$instanceValues$.has(i)?e.$instanceValues$.get(i):l}})};function zF(t,e){for(;t;){const n=Object.getOwnPropertyDescriptor(t,e);if(n?.get)return n;t=Object.getPrototypeOf(t)}}var fa=t=>{if(t.__stencil__getHostRef)return t.__stencil__getHostRef()},WF=(t,e)=>{const n={$flags$:0,$hostElement$:t,$cmpMeta$:e,$instanceValues$:new Map,$serializerValues$:new Map};n.$onReadyPromise$=new Promise(s=>n.$onReadyResolve$=s),t["s-p"]=[],t["s-rc"]=[];const r=n;return t.__stencil__getHostRef=()=>r,un.modernPropertyDecls&&un.state&&UF(t,n),r},bI=(t,e)=>e in t,tf=(t,e)=>(0,console.error)(t,e),jm=new Map,xk=[],HF="slot-fb{display:contents}slot-fb[hidden]{display:none}",xI="http://www.w3.org/1999/xlink",on=typeof window<"u"?window:{},vi=on.HTMLElement||class{},Wn={$flags$:0,$resourcesUrl$:"",jmp:t=>t(),raf:t=>requestAnimationFrame(t),ael:(t,e,n,r)=>t.addEventListener(e,n,r),rel:(t,e,n,r)=>t.removeEventListener(e,n,r),ce:(t,e)=>new CustomEvent(t,e)},qF=(()=>{var t;let e=!1;try{(t=on.document)==null||t.addEventListener("e",null,Object.defineProperty({},"passive",{get(){e=!0}}))}catch{}return e})(),KF=t=>Promise.resolve(t),r0=(()=>{try{return new CSSStyleSheet,typeof new CSSStyleSheet().replaceSync=="function"}catch{}return!1})(),y_=r0?!!on.document&&Object.getOwnPropertyDescriptor(on.document.adoptedStyleSheets,"length").writable:!1,v_=!1,w_=[],Ek=[],Tk=(t,e)=>n=>{t.push(n),v_||(v_=!0,e&&Wn.$flags$&4?s0(__):Wn.raf(__))},EI=t=>{for(let e=0;e<t.length;e++)try{t[e](performance.now())}catch(n){tf(n)}t.length=0},__=()=>{EI(w_),EI(Ek),(v_=w_.length>0)&&Wn.raf(__)},s0=t=>KF().then(t),GF=Tk(w_,!1),i0=Tk(Ek,!0),QF=t=>{const e=new URL(t,Wn.$resourcesUrl$);return e.origin!==on.location.origin?e.href:e.pathname},YF=t=>t!=null&&t!==void 0,o0=t=>(t=typeof t,t==="object"||t==="function");function XF(t){var e,n,r;return(r=(n=(e=t.head)==null?void 0:e.querySelector('meta[name="csp-nonce"]'))==null?void 0:n.getAttribute("content"))!=null?r:void 0}var ZF=t=>t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),JF={};$F(JF,{err:()=>Sk,map:()=>e4,ok:()=>b_,unwrap:()=>t4,unwrapErr:()=>n4});var b_=t=>({isOk:!0,isErr:!1,value:t}),Sk=t=>({isOk:!1,isErr:!0,value:t});function e4(t,e){if(t.isOk){const n=e(t.value);return n instanceof Promise?n.then(r=>b_(r)):b_(n)}if(t.isErr){const n=t.value;return Sk(n)}throw"should never get here"}var t4=t=>{if(t.isOk)return t.value;throw t.value},n4=t=>{if(t.isErr)return t.value;throw t.value};var Wd;function r4(t){var e;const n=this.attachShadow({mode:"open",delegatesFocus:!!(t.$flags$&16)});Wd===void 0&&(Wd=(e=void 0)!=null?e:null),Wd&&(y_?n.adoptedStyleSheets.push(Wd):n.adoptedStyleSheets=[...n.adoptedStyleSheets,Wd])}var Ik=t=>{const e=SI(t,"childNodes");t.tagName&&t.tagName.includes("-")&&t["s-cr"]&&t.tagName!=="SLOT-FB"&&Ck(e,t.tagName).forEach(r=>{r.nodeType===1&&r.tagName==="SLOT-FB"&&(i4(r,a0(r),!1).length?r.hidden=!0:r.hidden=!1)});let n=0;for(n=0;n<e.length;n++){const r=e[n];r.nodeType===1&&SI(r,"childNodes").length&&Ik(r)}},s4=t=>{const e=[];for(let n=0;n<t.length;n++){const r=t[n]["s-nr"]||void 0;r&&r.isConnected&&e.push(r)}return e};function Ck(t,e,n){let r=0,s=[],i;for(;r<t.length;r++)i=t[r],i["s-sr"]&&(!e||i["s-hn"]===e)&&n===void 0&&s.push(i),s=[...s,...Ck(i.childNodes,e,n)];return s}var i4=(t,e,n=!0)=>{const r=[];(n&&t["s-sr"]||!t["s-sr"])&&r.push(t);let s=t;for(;s=s.nextSibling;)a0(s)===e&&(n||!s["s-sr"])&&r.push(s);return r},TI=(t,e)=>t.nodeType===1?t.getAttribute("slot")===null&&e===""||t.getAttribute("slot")===e:t["s-sn"]===e?!0:e==="",a0=t=>typeof t["s-sn"]=="string"?t["s-sn"]:t.nodeType===1&&t.getAttribute("slot")||void 0;function o4(t){if(t.assignedElements||t.assignedNodes||!t["s-sr"])return;const e=n=>(function(r){const s=[],i=this["s-sn"];r?.flatten&&console.error(`
          Flattening is not supported for Stencil non-shadow slots.
          You can use \`.childNodes\` to nested slot fallback content.
          If you have a particular use case, please open an issue on the Stencil repo.
        `);const a=this["s-cr"].parentElement;return(a.__childNodes?a.childNodes:s4(a.childNodes)).forEach(u=>{i===a0(u)&&s.push(u)}),n?s.filter(u=>u.nodeType===1):s}).bind(t);t.assignedElements=e(!0),t.assignedNodes=e(!1)}function SI(t,e){if("__"+e in t){const n=t["__"+e];return typeof n!="function"?n:n.bind(t)}else return typeof t[e]!="function"?t[e]:t[e].bind(t)}var xl=(t,e="")=>()=>{},Qc=new WeakMap,a4=(t,e,n)=>{let r=jm.get(t);r0&&n?(r=r||new CSSStyleSheet,typeof r=="string"?r=e:r.replaceSync(e)):r=e,jm.set(t,r)},l4=(t,e,n)=>{var r;const s=Ak(e,n),i=jm.get(s);if(!on.document)return s;if(t=t.nodeType===11?t:on.document,i)if(typeof i=="string"){t=t.head||t;let a=Qc.get(t),l;if(a||Qc.set(t,a=new Set),!a.has(s)){{l=on.document.createElement("style"),l.innerHTML=i;const u=(r=Wn.$nonce$)!=null?r:XF(on.document);if(u!=null&&l.setAttribute("nonce",u),!(e.$flags$&1))if(t.nodeName==="HEAD"){const d=t.querySelectorAll("link[rel=preconnect]"),f=d.length>0?d[d.length-1].nextSibling:t.querySelector("style");t.insertBefore(l,f?.parentNode===t?f:null)}else if("host"in t)if(r0){const d=new CSSStyleSheet;d.replaceSync(i),y_?t.adoptedStyleSheets.unshift(d):t.adoptedStyleSheets=[d,...t.adoptedStyleSheets]}else{const d=t.querySelector("style");d?d.innerHTML=i+d.innerHTML:t.prepend(l)}else t.append(l);e.$flags$&1&&t.insertBefore(l,null)}e.$flags$&4&&(l.innerHTML+=HF),a&&a.add(s)}}else t.adoptedStyleSheets.includes(i)||(y_?t.adoptedStyleSheets.push(i):t.adoptedStyleSheets=[...t.adoptedStyleSheets,i]);return s},c4=t=>{const e=t.$cmpMeta$,n=t.$hostElement$,r=e.$flags$,s=xl("attachStyles",e.$tagName$),i=l4(n.shadowRoot?n.shadowRoot:n.getRootNode(),e,t.$modeName$);r&10&&(n["s-sc"]=i,n.classList.add(i+"-h")),s()},Ak=(t,e)=>"sc-"+(e&&t.$flags$&32?t.$tagName$+"-"+e:t.$tagName$),Dt=(t,e,...n)=>{let r=null,s=null,i=null,a=!1,l=!1;const u=[],d=g=>{for(let y=0;y<g.length;y++)r=g[y],Array.isArray(r)?d(r):r!=null&&typeof r!="boolean"&&((a=typeof t!="function"&&!o0(r))&&(r=String(r)),a&&l?u[u.length-1].$text$+=r:u.push(a?Fm(null,r):r),l=a)};if(d(n),e){e.key&&(s=e.key),e.name&&(i=e.name);{const g=e.className||e.class;g&&(e.class=typeof g!="object"?g:Object.keys(g).filter(y=>g[y]).join(" "))}}if(typeof t=="function")return t(e===null?{}:e,u,d4);const f=Fm(t,null);return f.$attrs$=e,u.length>0&&(f.$children$=u),f.$key$=s,f.$name$=i,f},Fm=(t,e)=>{const n={$flags$:0,$tag$:t,$text$:e,$elm$:null,$children$:null};return n.$attrs$=null,n.$key$=null,n.$name$=null,n},so={},u4=t=>t&&t.$tag$===so,d4={forEach:(t,e)=>t.map(II).forEach(e),map:(t,e)=>t.map(II).map(e).map(h4)},II=t=>({vattrs:t.$attrs$,vchildren:t.$children$,vkey:t.$key$,vname:t.$name$,vtag:t.$tag$,vtext:t.$text$}),h4=t=>{if(typeof t.vtag=="function"){const n={...t.vattrs};return t.vkey&&(n.key=t.vkey),t.vname&&(n.name=t.vname),Dt(t.vtag,n,...t.vchildren||[])}const e=Fm(t.vtag,t.vtext);return e.$attrs$=t.vattrs,e.$children$=t.vchildren,e.$key$=t.vkey,e.$name$=t.vname,e},l0=t=>{const e=ZF(t);return new RegExp(`(^|[^@]|@(?!supports\\s+selector\\s*\\([^{]*?${e}))(${e}\\b)`,"g")};l0("::slotted");l0(":host");l0(":host-context");var f4=t=>xk.map(e=>e(t)).find(e=>!!e),p4=t=>xk.push(t),m4=t=>{var e;return(e=fa(t))==null?void 0:e.$modeName$},Pk=(t,e,n)=>t!=null&&!o0(t)?e&4?t==="false"?!1:t===""||!!t:e&2?typeof t=="string"?parseFloat(t):typeof t=="number"?t:NaN:e&1?String(t):t:t,g4=t=>t,gs=(t,e,n)=>{const r=g4(t);return{emit:s=>Rk(r,e,{bubbles:!!(n&4),composed:!!(n&2),cancelable:!!(n&1),detail:s})}},Rk=(t,e,n)=>{const r=Wn.ce(e,n);return t.dispatchEvent(r),r},CI=(t,e,n,r,s,i,a)=>{if(n===r)return;let l=bI(t,e),u=e.toLowerCase();if(e==="class"){const d=t.classList,f=AI(n);let g=AI(r);d.remove(...f.filter(y=>y&&!g.includes(y))),d.add(...g.filter(y=>y&&!f.includes(y)))}else if(e==="style"){for(const d in n)(!r||r[d]==null)&&(d.includes("-")?t.style.removeProperty(d):t.style[d]="");for(const d in r)(!n||r[d]!==n[d])&&(d.includes("-")?t.style.setProperty(d,r[d]):t.style[d]=r[d])}else if(e!=="key")if(e==="ref")r&&r(t);else if(!t.__lookupSetter__(e)&&e[0]==="o"&&e[1]==="n"){if(e[2]==="-"?e=e.slice(3):bI(on,u)?e=u.slice(2):e=u[2]+e.slice(3),n||r){const d=e.endsWith(kk);e=e.replace(v4,""),n&&Wn.rel(t,e,n,d),r&&Wn.ael(t,e,r,d)}}else{const d=o0(r);if((l||d&&r!==null)&&!s)try{if(t.tagName.includes("-"))t[e]!==r&&(t[e]=r);else{const g=r??"";e==="list"?l=!1:(n==null||t[e]!=g)&&(typeof t.__lookupSetter__(e)=="function"?t[e]=g:t.setAttribute(e,g))}}catch{}let f=!1;u!==(u=u.replace(/^xlink\:?/,""))&&(e=u,f=!0),r==null||r===!1?(r!==!1||t.getAttribute(e)==="")&&(f?t.removeAttributeNS(xI,e):t.removeAttribute(e)):(!l||i&4||s)&&!d&&t.nodeType===1&&(r=r===!0?"":r,f?t.setAttributeNS(xI,e,r):t.setAttribute(e,r))}},y4=/\s/,AI=t=>(typeof t=="object"&&t&&"baseVal"in t&&(t=t.baseVal),!t||typeof t!="string"?[]:t.split(y4)),kk="Capture",v4=new RegExp(kk+"$"),x_=(t,e,n,r)=>{const s=e.$elm$.nodeType===11&&e.$elm$.host?e.$elm$.host:e.$elm$,i=t&&t.$attrs$||{},a=e.$attrs$||{};for(const l of PI(Object.keys(i)))l in a||CI(s,l,i[l],void 0,n,e.$flags$);for(const l of PI(Object.keys(a)))CI(s,l,i[l],a[l],n,e.$flags$)};function PI(t){return t.includes("ref")?[...t.filter(e=>e!=="ref"),"ref"]:t}var ym,Bm,Ih,E_=!1,Um=!1,c0=!1,kr=!1,zm=(t,e,n)=>{var r;const s=e.$children$[n];let i=0,a,l,u;if(E_||(c0=!0,s.$tag$==="slot"&&(s.$flags$|=s.$children$?2:1)),s.$text$!==null)a=s.$elm$=on.document.createTextNode(s.$text$);else if(s.$flags$&1)a=s.$elm$=on.document.createTextNode(""),x_(null,s,kr);else{if(kr||(kr=s.$tag$==="svg"),!on.document)throw new Error("You are trying to render a Stencil component in an environment that doesn't support the DOM. Make sure to populate the [`window`](https://developer.mozilla.org/en-US/docs/Web/API/Window/window) object before rendering a component.");if(a=s.$elm$=on.document.createElementNS(kr?FF:BF,!E_&&un.slotRelocation&&s.$flags$&2?"slot-fb":s.$tag$),kr&&s.$tag$==="foreignObject"&&(kr=!1),x_(null,s,kr),YF(ym)&&a["s-si"]!==ym&&a.classList.add(a["s-si"]=ym),s.$children$)for(i=0;i<s.$children$.length;++i)l=zm(t,s,i),l&&a.appendChild(l);s.$tag$==="svg"?kr=!1:a.tagName==="foreignObject"&&(kr=!0)}return a["s-hn"]=Ih,s.$flags$&3&&(a["s-sr"]=!0,a["s-cr"]=Bm,a["s-sn"]=s.$name$||"",a["s-rf"]=(r=s.$attrs$)==null?void 0:r.ref,o4(a),u=t&&t.$children$&&t.$children$[n],u&&u.$tag$===s.$tag$&&t.$elm$&&Ch(t.$elm$,!1),Lk(Bm,a,e.$elm$,t?.$elm$)),a},Ch=(t,e)=>{Wn.$flags$|=1;const n=Array.from(t.__childNodes||t.childNodes);t["s-sr"]&&un.experimentalSlotFixes;for(let r=n.length-1;r>=0;r--){const s=n[r];s["s-hn"]!==Ih&&s["s-ol"]&&(ta(Ah(s).parentNode,s,Ah(s)),s["s-ol"].remove(),s["s-ol"]=void 0,s["s-sh"]=void 0,c0=!0),e&&Ch(s,e)}Wn.$flags$&=-2},Dk=(t,e,n,r,s,i)=>{let a=t["s-cr"]&&t["s-cr"].parentNode||t,l;for(a.shadowRoot&&a.tagName===Ih&&(a=a.shadowRoot);s<=i;++s)r[s]&&(l=zm(null,n,s),l&&(r[s].$elm$=l,ta(a,l,Ah(e))))},Nk=(t,e,n)=>{for(let r=e;r<=n;++r){const s=t[r];if(s){const i=s.$elm$;Vk(s),i&&(Um=!0,i["s-ol"]?i["s-ol"].remove():Ch(i,!0),i.remove())}}},w4=(t,e,n,r,s=!1)=>{let i=0,a=0,l=0,u=0,d=e.length-1,f=e[0],g=e[d],y=r.length-1,x=r[0],I=r[y],E,S;for(;i<=d&&a<=y;)if(f==null)f=e[++i];else if(g==null)g=e[--d];else if(x==null)x=r[++a];else if(I==null)I=r[--y];else if(Up(f,x,s))Fc(f,x,s),f=e[++i],x=r[++a];else if(Up(g,I,s))Fc(g,I,s),g=e[--d],I=r[--y];else if(Up(f,I,s))(f.$tag$==="slot"||I.$tag$==="slot")&&Ch(f.$elm$.parentNode,!1),Fc(f,I,s),ta(t,f.$elm$,g.$elm$.nextSibling),f=e[++i],I=r[--y];else if(Up(g,x,s))(f.$tag$==="slot"||I.$tag$==="slot")&&Ch(g.$elm$.parentNode,!1),Fc(g,x,s),ta(t,g.$elm$,f.$elm$),g=e[--d],x=r[++a];else{for(l=-1,u=i;u<=d;++u)if(e[u]&&e[u].$key$!==null&&e[u].$key$===x.$key$){l=u;break}l>=0?(S=e[l],S.$tag$!==x.$tag$?E=zm(e&&e[a],n,l):(Fc(S,x,s),e[l]=void 0,E=S.$elm$),x=r[++a]):(E=zm(e&&e[a],n,a),x=r[++a]),E&&ta(Ah(f.$elm$).parentNode,E,Ah(f.$elm$))}i>d?Dk(t,r[y+1]==null?null:r[y+1].$elm$,n,r,a,y):a>y&&Nk(e,i,d)},Up=(t,e,n=!1)=>t.$tag$===e.$tag$?t.$tag$==="slot"?t.$name$===e.$name$:n?(n&&!t.$key$&&e.$key$&&(t.$key$=e.$key$),!0):t.$key$===e.$key$:!1,Ah=t=>t&&t["s-ol"]||t,Fc=(t,e,n=!1)=>{const r=e.$elm$=t.$elm$,s=t.$children$,i=e.$children$,a=e.$tag$,l=e.$text$;let u;l===null?(kr=a==="svg"?!0:a==="foreignObject"?!1:kr,x_(t,e,kr),s!==null&&i!==null?w4(r,s,e,i,n):i!==null?(t.$text$!==null&&(r.textContent=""),Dk(r,null,e,i,0,i.length-1)):!n&&un.updatable&&s!==null&&Nk(s,0,s.length-1),kr&&a==="svg"&&(kr=!1)):(u=r["s-cr"])?u.parentNode.textContent=l:t.$text$!==l&&(r.data=l)},zi=[],Ok=t=>{let e,n,r;const s=t.__childNodes||t.childNodes;for(const i of s){if(i["s-sr"]&&(e=i["s-cr"])&&e.parentNode){n=e.parentNode.__childNodes||e.parentNode.childNodes;const a=i["s-sn"];for(r=n.length-1;r>=0;r--)if(e=n[r],!e["s-cn"]&&!e["s-nr"]&&e["s-hn"]!==i["s-hn"])if(TI(e,a)){let l=zi.find(u=>u.$nodeToRelocate$===e);Um=!0,e["s-sn"]=e["s-sn"]||a,l?(l.$nodeToRelocate$["s-sh"]=i["s-hn"],l.$slotRefNode$=i):(e["s-sh"]=i["s-hn"],zi.push({$slotRefNode$:i,$nodeToRelocate$:e})),e["s-sr"]&&zi.map(u=>{TI(u.$nodeToRelocate$,e["s-sn"])&&(l=zi.find(d=>d.$nodeToRelocate$===e),l&&!u.$slotRefNode$&&(u.$slotRefNode$=l.$slotRefNode$))})}else zi.some(l=>l.$nodeToRelocate$===e)||zi.push({$nodeToRelocate$:e})}i.nodeType===1&&Ok(i)}},Vk=t=>{t.$attrs$&&t.$attrs$.ref&&t.$attrs$.ref(null),t.$children$&&t.$children$.map(Vk)},ta=(t,e,n)=>(typeof e["s-sn"]=="string"&&e["s-sr"]&&e["s-cr"]&&Lk(e["s-cr"],e,t,e.parentElement),t?.insertBefore(e,n));function Lk(t,e,n,r){var s,i;let a;if(t&&typeof e["s-sn"]=="string"&&e["s-sr"]&&t.parentNode&&t.parentNode["s-sc"]&&(a=e["s-si"]||t.parentNode["s-sc"])){const l=e["s-sn"],u=e["s-hn"];if((s=n.classList)==null||s.add(a+"-s"),r&&((i=r.classList)!=null&&i.contains(a+"-s"))){let d=(r.__childNodes||r.childNodes)[0],f=!1;for(;d;){if(d["s-sn"]!==l&&d["s-hn"]===u&&d["s-sr"]){f=!0;break}d=d.nextSibling}f||r.classList.remove(a+"-s")}}}var _4=(t,e,n=!1)=>{var r,s,i,a,l;const u=t.$hostElement$,d=t.$cmpMeta$,f=t.$vnode$||Fm(null,null),y=u4(e)?e:Dt(null,null,e);if(Ih=u.tagName,d.$attrsToReflect$&&(y.$attrs$=y.$attrs$||{},d.$attrsToReflect$.forEach(([x,I])=>{un.serializer&&t.$serializerValues$.has(x)?y.$attrs$[I]=t.$serializerValues$.get(x):y.$attrs$[I]=u[x]})),n&&y.$attrs$)for(const x of Object.keys(y.$attrs$))u.hasAttribute(x)&&!["key","ref","style","class"].includes(x)&&(y.$attrs$[x]=u[x]);y.$tag$=null,y.$flags$|=4,t.$vnode$=y,y.$elm$=f.$elm$=u.shadowRoot||u,ym=u["s-sc"],E_=!!(d.$flags$&1)&&!(d.$flags$&128),Bm=u["s-cr"],Um=!1,Fc(f,y,n);{if(Wn.$flags$|=1,c0){Ok(y.$elm$);for(const x of zi){const I=x.$nodeToRelocate$;if(!I["s-ol"]&&on.document){const E=on.document.createTextNode("");E["s-nr"]=I,ta(I.parentNode,I["s-ol"]=E,I)}}for(const x of zi){const I=x.$nodeToRelocate$,E=x.$slotRefNode$;if(E){const S=E.parentNode;let k=E.nextSibling;{let B=(r=I["s-ol"])==null?void 0:r.previousSibling;for(;B;){let j=(s=B["s-nr"])!=null?s:null;if(j&&j["s-sn"]===I["s-sn"]&&S===(j.__parentNode||j.parentNode)){for(j=j.nextSibling;j===I||j?.["s-sr"];)j=j?.nextSibling;if(!j||!j["s-nr"]){k=j;break}}B=B.previousSibling}}const A=I.__parentNode||I.parentNode,N=I.__nextSibling||I.nextSibling;(!k&&S!==A||N!==k)&&I!==k&&(!I["s-hn"]&&I["s-ol"]&&(I["s-hn"]=I["s-ol"].parentNode.nodeName),ta(S,I,k),I.nodeType===1&&I.tagName!=="SLOT-FB"&&(I.hidden=(i=I["s-ih"])!=null?i:!1)),I&&typeof E["s-rf"]=="function"&&E["s-rf"](E)}else I.nodeType===1&&(n&&(I["s-ih"]=(a=I.hidden)!=null?a:!1),I.hidden=!0)}}Um&&Ik(y.$elm$),Wn.$flags$&=-2,zi.length=0}if(un.experimentalScopedSlotChanges&&d.$flags$&2){const x=y.$elm$.__childNodes||y.$elm$.childNodes;for(const I of x)I["s-hn"]!==Ih&&!I["s-sh"]&&(n&&I["s-ih"]==null&&(I["s-ih"]=(l=I.hidden)!=null?l:!1),I.hidden=!0)}Bm=void 0},Mk=(t,e)=>{if(e&&!t.$onRenderResolve$&&e["s-p"]){const n=e["s-p"].push(new Promise(r=>t.$onRenderResolve$=()=>{e["s-p"].splice(n-1,1),r()}))}},u0=(t,e)=>{if(t.$flags$|=16,t.$flags$&4){t.$flags$|=512;return}Mk(t,t.$ancestorComponent$);const n=()=>b4(t,e);if(e){queueMicrotask(()=>{n()});return}return i0(n)},b4=(t,e)=>{const n=t.$hostElement$,r=xl("scheduleUpdate",t.$cmpMeta$.$tagName$),s=n;if(!s)throw new Error(`Can't render component <${n.tagName.toLowerCase()} /> with invalid Stencil runtime! Make sure this imported component is compiled with a \`externalRuntime: true\` flag. For more information, please refer to https://stenciljs.com/docs/custom-elements#externalruntime`);let i;return e?i=ru(s,"componentWillLoad",void 0,n):i=ru(s,"componentWillUpdate",void 0,n),i=RI(i,()=>ru(s,"componentWillRender",void 0,n)),r(),RI(i,()=>E4(t,s,e))},RI=(t,e)=>x4(t)?t.then(e).catch(n=>{console.error(n),e()}):e(),x4=t=>t instanceof Promise||t&&t.then&&typeof t.then=="function",E4=async(t,e,n)=>{var r;const s=t.$hostElement$,i=xl("update",t.$cmpMeta$.$tagName$),a=s["s-rc"];n&&c4(t);const l=xl("render",t.$cmpMeta$.$tagName$);T4(t,e,s,n),a&&(a.map(u=>u()),s["s-rc"]=void 0),l(),i();{const u=(r=s["s-p"])!=null?r:[],d=()=>S4(t);u.length===0?d():(Promise.all(u).then(d),t.$flags$|=4,u.length=0)}},kI=null,T4=(t,e,n,r)=>{try{kI=e,e=e.render&&e.render(),t.$flags$&=-17,t.$flags$|=2,(un.hasRenderFn||un.reflect)&&(un.vdomRender||un.reflect)&&(un.hydrateServerSide||_4(t,e,r))}catch(u){tf(u,t.$hostElement$)}return kI=null,null},S4=t=>{const e=t.$cmpMeta$.$tagName$,n=t.$hostElement$,r=xl("postUpdate",e),s=n,i=t.$ancestorComponent$;ru(s,"componentDidRender",void 0,n),t.$flags$&64?(ru(s,"componentDidUpdate",void 0,n),r()):(t.$flags$|=64,C4(n),ru(s,"componentDidLoad",void 0,n),r(),t.$onReadyResolve$(n),i||I4()),t.$onRenderResolve$&&(t.$onRenderResolve$(),t.$onRenderResolve$=void 0),t.$flags$&512&&s0(()=>u0(t,!1)),t.$flags$&=-517},I4=t=>{s0(()=>Rk(on,"appload",{detail:{namespace:LF}}))},ru=(t,e,n,r)=>{if(t&&t[e])try{return t[e](n)}catch(s){tf(s,r)}},C4=t=>{var e;return t.classList.add((e=un.hydratedSelectorName)!=null?e:"hydrated")},A4=(t,e)=>fa(t).$instanceValues$.get(e),DI=(t,e,n,r)=>{const s=fa(t);if(!s||un.serializer&&s.$serializerValues$.has(e)&&s.$serializerValues$.get(e)===n)return;const i=t,a=s.$instanceValues$.get(e),l=s.$flags$,u=i;n=Pk(n,r.$members$[e][0]);const d=Number.isNaN(a)&&Number.isNaN(n);if(n!==a&&!d){if(s.$instanceValues$.set(e,n),un.serializer&&un.reflect&&r.$attrsToReflect$&&u&&r.$serializers$&&r.$serializers$[e]){let g=n;for(const y of r.$serializers$[e])g=u[y](g,e);s.$serializerValues$.set(e,g)}{if(r.$watchers$&&l&128){const g=r.$watchers$[e];g&&g.map(y=>{try{u[y](n,a,e)}catch(x){tf(x,i)}})}if((l&18)===2){if(u.componentShouldUpdate&&u.componentShouldUpdate(n,a,e)===!1)return;u0(s,!1)}}}},P4=(t,e,n)=>{var r,s;const i=t.prototype;if(e.$members$||un.propChangeCallback){t.watchers&&!e.$watchers$&&(e.$watchers$=t.watchers),t.deserializers&&!e.$deserializers$&&(e.$deserializers$=t.deserializers),t.serializers&&!e.$serializers$&&(e.$serializers$=t.serializers);const a=Object.entries((r=e.$members$)!=null?r:{});a.map(([l,[u]])=>{if(u&31||u&32){const{get:d,set:f}=Object.getOwnPropertyDescriptor(i,l)||{};d&&(e.$members$[l][0]|=2048),f&&(e.$members$[l][0]|=4096),Object.defineProperty(i,l,{get(){return d?d.apply(this):A4(this,l)},configurable:!0,enumerable:!0}),Object.defineProperty(i,l,{set(g){const y=fa(this);if(y){if(f){typeof(u&32?this[l]:y.$hostElement$[l])>"u"&&y.$instanceValues$.get(l)&&(g=y.$instanceValues$.get(l)),f.apply(this,[Pk(g,u)]),g=u&32?this[l]:y.$hostElement$[l],DI(this,l,g,e);return}{DI(this,l,g,e);return}}}})}});{const l=new Map;i.attributeChangedCallback=function(u,d,f){Wn.jmp(()=>{var g;const y=l.get(u),x=fa(this);if(un.serializer&&x.$serializerValues$.has(y)&&x.$serializerValues$.get(y)===f)return;if(this.hasOwnProperty(y)&&un.lazyLoad,un.deserializer&&e.$deserializers$&&e.$deserializers$[y]){const E=(S,k)=>{const A=k?.[S](f,y);A!==this[y]&&(this[y]=A)};for(const S of e.$deserializers$[y])E(S,this);return}else{if(i.hasOwnProperty(y)&&typeof this[y]=="number"&&this[y]==f)return;if(y==null){const E=x?.$flags$;if(x&&E&&!(E&8)&&E&128&&f!==d){const k=this,A=(g=e.$watchers$)==null?void 0:g[u];A?.forEach(N=>{k[N]!=null&&k[N].call(k,f,d,u)})}return}}const I=Object.getOwnPropertyDescriptor(i,y);f=f===null&&typeof this[y]=="boolean"?!1:f,f!=this[y]&&(!I.get||I.set)&&(this[y]=f)})},t.observedAttributes=Array.from(new Set([...Object.keys((s=e.$watchers$)!=null?s:{}),...a.filter(([u,d])=>d[0]&31).map(([u,d])=>{var f;const g=d[1]||u;return l.set(g,u),d[0]&512&&((f=e.$attrsToReflect$)==null||f.push([u,g])),g})]))}}return t},R4=async(t,e,n,r)=>{let s;if((e.$flags$&32)===0){e.$flags$|=32,n.$lazyBundleId$;{s=t.constructor;const l=t.localName;customElements.whenDefined(l).then(()=>e.$flags$|=128)}if(s&&s.style){let l;typeof s.style=="string"?l=s.style:typeof s.style!="string"&&(e.$modeName$=f4(t),e.$modeName$&&(l=s.style[e.$modeName$]));const u=Ak(n,e.$modeName$);if(!jm.has(u)){const d=xl("registerStyles",n.$tagName$);a4(u,l,!!(n.$flags$&1)),d()}}}const i=e.$ancestorComponent$,a=()=>u0(e,!0);i&&i["s-rc"]?i["s-rc"].push(a):a()},NI=(t,e)=>{},k4=t=>{if((Wn.$flags$&1)===0){const e=fa(t);if(!e)return;const n=e.$cmpMeta$,r=xl("connectedCallback",n.$tagName$);if(e.$flags$&1)$k(t,e,n.$listeners$),e?.$lazyInstance$?NI(e.$lazyInstance$):e?.$onReadyPromise$&&e.$onReadyPromise$.then(()=>NI(e.$lazyInstance$));else{e.$flags$|=1,n.$flags$&12&&D4(t);{let s=t;for(;s=s.parentNode||s.host;)if(s["s-p"]){Mk(e,e.$ancestorComponent$=s);break}}n.$members$&&Object.entries(n.$members$).map(([s,[i]])=>{if(i&31&&s in t&&t[s]!==Object.prototype[s]){const a=t[s];delete t[s],t[s]=a}}),R4(t,e,n)}r()}},D4=t=>{if(!on.document)return;const e=t["s-cr"]=on.document.createComment("");e["s-cn"]=!0,ta(t,e,t.firstChild)},N4=async t=>{if((Wn.$flags$&1)===0){const e=fa(t);e?.$rmListeners$&&(e.$rmListeners$.map(n=>n()),e.$rmListeners$=void 0)}Qc.has(t)&&Qc.delete(t),t.shadowRoot&&Qc.has(t.shadowRoot)&&Qc.delete(t.shadowRoot)},wi=(t,e)=>{const n={$flags$:e[0],$tagName$:e[1]};n.$members$=e[2],n.$listeners$=e[3],n.$watchers$=t.$watchers$,n.$deserializers$=t.$deserializers$,n.$serializers$=t.$serializers$,n.$attrsToReflect$=[],!(n.$flags$&1)&&n.$flags$&256;const r=t.prototype.connectedCallback,s=t.prototype.disconnectedCallback;return Object.assign(t.prototype,{__hasHostListenerAttached:!1,__registerHost(){WF(this,n)},connectedCallback(){if(!this.__hasHostListenerAttached){const i=fa(this);if(!i)return;$k(this,i,n.$listeners$),this.__hasHostListenerAttached=!0}k4(this),r&&r.call(this)},disconnectedCallback(){N4(this),s&&s.call(this)},__attachShadow(){if(!this.shadowRoot)r4.call(this,n);else if(this.shadowRoot.mode!=="open")throw new Error(`Unable to re-use existing shadow root for ${n.$tagName$}! Mode is set to ${this.shadowRoot.mode} but Stencil only supports open shadow roots.`)}}),t.is=n.$tagName$,P4(t,n)},$k=(t,e,n,r)=>{n&&on.document&&n.map(([s,i,a])=>{const l=V4(on.document,t,s),u=O4(e,a),d=L4(s);Wn.ael(l,i,u,d),(e.$rmListeners$=e.$rmListeners$||[]).push(()=>Wn.rel(l,i,u,d))})},O4=(t,e)=>n=>{var r;try{un.lazyLoad||t.$hostElement$[e](n)}catch(s){tf(s,t.$hostElement$)}},V4=(t,e,n)=>n&4?t:n&8?on:n&16?t.body:e,L4=t=>qF?{passive:(t&1)!==0,capture:(t&2)!==0}:(t&2)!==0;class M4{constructor(){this.m=new Map}reset(e){this.m=new Map(Object.entries(e))}get(e,n){const r=this.m.get(e);return r!==void 0?r:n}getBoolean(e,n=!1){const r=this.m.get(e);return r===void 0?n:typeof r=="string"?r==="true":!!r}getNumber(e,n){const r=parseFloat(this.m.get(e));return isNaN(r)?n!==void 0?n:NaN:r}set(e,n){this.m.set(e,n)}}const Pt=new M4,$4=t=>{try{const e=t.sessionStorage.getItem(jk);return e!==null?JSON.parse(e):{}}catch{return{}}},j4=(t,e)=>{try{t.sessionStorage.setItem(jk,JSON.stringify(e))}catch{return}},F4=t=>{const e={};return t.location.search.slice(1).split("&").map(n=>n.split("=")).map(([n,r])=>{try{return[decodeURIComponent(n),decodeURIComponent(r)]}catch{return["",""]}}).filter(([n])=>B4(n,OI)).map(([n,r])=>[n.slice(OI.length),r]).forEach(([n,r])=>{e[n]=r}),e},B4=(t,e)=>t.substr(0,e.length)===e,OI="ionic:",jk="ionic-persist-config";var gl;(function(t){t.OFF="OFF",t.ERROR="ERROR",t.WARN="WARN"})(gl||(gl={}));const Ug=(t,...e)=>{const n=Pt.get("logLevel",gl.WARN);if([gl.WARN].includes(n))return console.warn(`[Ionic Warning]: ${t}`,...e)},Hu=(t,...e)=>{const n=Pt.get("logLevel",gl.ERROR);if([gl.ERROR,gl.WARN].includes(n))return console.error(`[Ionic Error]: ${t}`,...e)};const Sn=typeof window<"u"?window:void 0,mw=typeof document<"u"?document:void 0;let gw;const U4=t=>{if(gw===void 0){const e=t.style.animationName!==void 0,n=t.style.webkitAnimationName!==void 0;gw=!e&&n?"-webkit-":""}return gw},yw=(t,e,n)=>{const r=e.startsWith("animation")?U4(t):"";t.style.setProperty(r+e,n)},zp=(t=[],e)=>{if(e!==void 0){const n=Array.isArray(e)?e:[e];return[...t,...n]}return t},z4=t=>{let e,n,r,s,i,a,l=[],u=[],d=[],f=!1,g,y={},x=[],I=[],E={},S=0,k=!1,A=!1,N,B,j,G=!0,O=!1,P=!0,D,M=!1;const F=t,$=[],V=[],ne=[],ve=[],de=[],me=[],Z=[],ce=[],ue=[],q=[],re=[],Ce=typeof AnimationEffect=="function"||Sn!==void 0&&typeof Sn.AnimationEffect=="function",Re=typeof Element=="function"&&typeof Element.prototype.animate=="function"&&Ce,qe=()=>re,et=se=>(de.forEach(ke=>{ke.destroy(se)}),xe(se),ve.length=0,de.length=0,l.length=0,Vt(),f=!1,P=!0,D),xe=se=>{Lt(),se&&Kn()},Ve=()=>{k=!1,A=!1,P=!0,N=void 0,B=void 0,j=void 0,S=0,O=!1,G=!0,M=!1},Ke=()=>S!==0&&!M,Ge=(se,ke)=>{const ot=ke.findIndex(jt=>jt.c===se);ot>-1&&ke.splice(ot,1)},lt=(se,ke)=>(ne.push({c:se,o:ke}),D),pt=(se,ke)=>((ke?.oneTimeCallback?V:$).push({c:se,o:ke}),D),Vt=()=>($.length=0,V.length=0,D),Lt=()=>{Re&&(re.forEach(se=>{se.cancel()}),re.length=0)},Kn=()=>{me.forEach(se=>{se?.parentNode&&se.parentNode.removeChild(se)}),me.length=0},Gn=se=>(Z.push(se),D),Qn=se=>(ce.push(se),D),qs=se=>(ue.push(se),D),Zr=se=>(q.push(se),D),yr=se=>(u=zp(u,se),D),_n=se=>(d=zp(d,se),D),z=(se={})=>(y=se,D),X=(se=[])=>{for(const ke of se)y[ke]="";return D},oe=se=>(x=zp(x,se),D),Ie=se=>(I=zp(I,se),D),fe=(se={})=>(E=se,D),W=(se=[])=>{for(const ke of se)E[ke]="";return D},ae=()=>i!==void 0?i:g?g.getFill():"both",we=()=>N!==void 0?N:a!==void 0?a:g?g.getDirection():"normal",ze=()=>k?"linear":r!==void 0?r:g?g.getEasing():"linear",yt=()=>A?0:B!==void 0?B:n!==void 0?n:g?g.getDuration():0,Pn=()=>s!==void 0?s:g?g.getIterations():1,Ze=()=>j!==void 0?j:e!==void 0?e:g?g.getDelay():0,vr=()=>l,Ti=se=>(a=se,hn(!0),D),Ks=se=>(i=se,hn(!0),D),Si=se=>(e=se,hn(!0),D),Jr=se=>(r=se,hn(!0),D),lo=se=>(!Re&&se===0&&(se=1),n=se,hn(!0),D),co=se=>(s=se,hn(!0),D),wr=se=>(g=se,D),es=se=>{if(se!=null)if(se.nodeType===1)ve.push(se);else if(se.length>=0)for(let ke=0;ke<se.length;ke++)ve.push(se[ke]);else Hu("createAnimation - Invalid addElement value.");return D},uo=se=>{if(se!=null)if(Array.isArray(se))for(const ke of se)ke.parent(D),de.push(ke);else se.parent(D),de.push(se);return D},ts=se=>{const ke=l!==se;return l=se,ke&&ka(l),D},ka=se=>{Re&&qe().forEach(ke=>{const ot=ke.effect;if(ot.setKeyframes)ot.setKeyframes(se);else{const jt=new KeyframeEffect(ot.target,se,ot.getTiming());ke.effect=jt}})},Ii=()=>{Z.forEach(jt=>jt()),ce.forEach(jt=>jt());const se=u,ke=d,ot=y;ve.forEach(jt=>{const ct=jt.classList;se.forEach(ir=>ct.add(ir)),ke.forEach(ir=>ct.remove(ir));for(const ir in ot)ot.hasOwnProperty(ir)&&yw(jt,ir,ot[ir])})},Da=()=>{ue.forEach(ct=>ct()),q.forEach(ct=>ct());const se=G?1:0,ke=x,ot=I,jt=E;ve.forEach(ct=>{const ir=ct.classList;ke.forEach(or=>ir.add(or)),ot.forEach(or=>ir.remove(or));for(const or in jt)jt.hasOwnProperty(or)&&yw(ct,or,jt[or])}),B=void 0,N=void 0,j=void 0,$.forEach(ct=>ct.c(se,D)),V.forEach(ct=>ct.c(se,D)),V.length=0,P=!0,G&&(O=!0),G=!0},_r=()=>{S!==0&&(S--,S===0&&(Da(),g&&g.animationFinish()))},Na=()=>{ve.forEach(se=>{const ke=se.animate(l,{id:F,delay:Ze(),duration:yt(),easing:ze(),iterations:Pn(),fill:ae(),direction:we()});ke.pause(),re.push(ke)}),re.length>0&&(re[0].onfinish=()=>{_r()})},Wt=()=>{Ii(),l.length>0&&Re&&Na(),f=!0},ns=se=>{se=Math.min(Math.max(se,0),.9999),Re&&re.forEach(ke=>{ke.currentTime=ke.effect.getComputedTiming().delay+yt()*se,ke.pause()})},br=se=>{re.forEach(ke=>{ke.effect.updateTiming({delay:Ze(),duration:yt(),easing:ze(),iterations:Pn(),fill:ae(),direction:we()})}),se!==void 0&&ns(se)},hn=(se=!1,ke=!0,ot)=>(se&&de.forEach(jt=>{jt.update(se,ke,ot)}),Re&&br(ot),D),Ci=(se=!1,ke)=>(de.forEach(ot=>{ot.progressStart(se,ke)}),fo(),k=se,f||Wt(),hn(!1,!0,ke),D),ho=se=>(de.forEach(ke=>{ke.progressStep(se)}),ns(se),D),Or=(se,ke,ot)=>(k=!1,de.forEach(jt=>{jt.progressEnd(se,ke,ot)}),ot!==void 0&&(B=ot),O=!1,G=!0,se===0?(N=we()==="reverse"?"normal":"reverse",N==="reverse"&&(G=!1),Re?(hn(),ns(1-ke)):(j=(1-ke)*yt()*-1,hn(!1,!1))):se===1&&(Re?(hn(),ns(ke)):(j=ke*yt()*-1,hn(!1,!1))),se!==void 0&&!g&&Gs(),D),fo=()=>{f&&(Re?re.forEach(se=>{se.pause()}):ve.forEach(se=>{yw(se,"animation-play-state","paused")}),M=!0)},ud=()=>(de.forEach(se=>{se.pause()}),fo(),D),po=()=>{_r()},Xl=()=>{re.forEach(se=>{se.play()}),(l.length===0||ve.length===0)&&_r()},Vr=()=>{Re&&(ns(0),br())},Gs=se=>new Promise(ke=>{se?.sync&&(A=!0,pt(()=>A=!1,{oneTimeCallback:!0})),f||Wt(),O&&(Vr(),O=!1),P&&(S=de.length+1,P=!1);const ot=()=>{Ge(jt,V),ke()},jt=()=>{Ge(ot,ne),ke()};pt(jt,{oneTimeCallback:!0}),lt(ot,{oneTimeCallback:!0}),de.forEach(ct=>{ct.play()}),Re?Xl():po(),M=!1}),Lr=()=>{de.forEach(se=>{se.stop()}),f&&(Lt(),f=!1),Ve(),ne.forEach(se=>se.c(0,D)),ne.length=0},Oa=(se,ke)=>{const ot=l[0];return ot!==void 0&&(ot.offset===void 0||ot.offset===0)?ot[se]=ke:l=[{offset:0,[se]:ke},...l],D};return D={parentAnimation:g,elements:ve,childAnimations:de,id:F,animationFinish:_r,from:Oa,to:(se,ke)=>{const ot=l[l.length-1];return ot!==void 0&&(ot.offset===void 0||ot.offset===1)?ot[se]=ke:l=[...l,{offset:1,[se]:ke}],D},fromTo:(se,ke,ot)=>Oa(se,ke).to(se,ot),parent:wr,play:Gs,pause:ud,stop:Lr,destroy:et,keyframes:ts,addAnimation:uo,addElement:es,update:hn,fill:Ks,direction:Ti,iterations:co,duration:lo,easing:Jr,delay:Si,getWebAnimations:qe,getKeyframes:vr,getFill:ae,getDirection:we,getDelay:Ze,getIterations:Pn,getEasing:ze,getDuration:yt,afterAddRead:qs,afterAddWrite:Zr,afterClearStyles:W,afterStyles:fe,afterRemoveClass:Ie,afterAddClass:oe,beforeAddRead:Gn,beforeAddWrite:Qn,beforeClearStyles:X,beforeStyles:z,beforeRemoveClass:_n,beforeAddClass:yr,onFinish:pt,isRunning:Ke,progressStart:Ci,progressStep:ho,progressEnd:Or}};const Fk=(t,e)=>{t.componentOnReady?t.componentOnReady().then(n=>e(n)):Uk(()=>e(t))},W4=t=>t.componentOnReady!==void 0,Bk=(t,e=[])=>{const n={};return e.forEach(r=>{t.hasAttribute(r)&&(t.getAttribute(r)!==null&&(n[r]=t.getAttribute(r)),t.removeAttribute(r))}),n},H4=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],q4=(t,e)=>Bk(t,H4),Mre=(t,e,n,r)=>t.addEventListener(e,n,r),$re=(t,e,n,r)=>t.removeEventListener(e,n,r),Uk=t=>typeof __zone_symbol__requestAnimationFrame=="function"?__zone_symbol__requestAnimationFrame(t):typeof requestAnimationFrame=="function"?requestAnimationFrame(t):setTimeout(t),jre=(t,e,n)=>Math.max(t,Math.min(e,n)),Rr=(t,e)=>{if(!t){const n="ASSERT: "+e;Hu(n);debugger;throw new Error(n)}},Fre=t=>{if(t){const e=t.changedTouches;if(e&&e.length>0){const n=e[0];return{x:n.clientX,y:n.clientY}}if(t.pageX!==void 0)return{x:t.pageX,y:t.pageY}}return{x:0,y:0}},zk=(t,e)=>{if(t??(t={}),e??(e={}),t===e)return!0;const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!1;for(const r of n)if(!(r in e)||t[r]!==e[r])return!1;return!0},K4="ionViewWillEnter",G4="ionViewDidEnter",Wk="ionViewWillLeave",Hk="ionViewDidLeave",vw="ionViewWillUnload",Hd=t=>{t.tabIndex=-1,t.focus()},Wp=t=>t.offsetParent!==null,Q4=()=>({saveViewFocus:n=>{if(Pt.get("focusManagerPriority",!1)){const s=document.activeElement;s!==null&&n?.contains(s)&&s.setAttribute(VI,"true")}},setViewFocus:n=>{const r=Pt.get("focusManagerPriority",!1);if(Array.isArray(r)&&!n.contains(document.activeElement)){const s=n.querySelector(`[${VI}]`);if(s&&Wp(s)){Hd(s);return}for(const i of r)switch(i){case"content":const a=n.querySelector('main, [role="main"]');if(a&&Wp(a)){Hd(a);return}break;case"heading":const l=n.querySelector('h1, [role="heading"][aria-level="1"]');if(l&&Wp(l)){Hd(l);return}break;case"banner":const u=n.querySelector('header, [role="banner"]');if(u&&Wp(u)){Hd(u);return}break;default:Ug(`Unrecognized focus manager priority value ${i}`);break}Hd(n)}}}),VI="ion-last-focus",Y4=()=>ii(()=>import("./ios.transition-BcS6R4ow.js"),[],import.meta.url),X4=()=>ii(()=>import("./md.transition-DV_jWNJw.js"),[],import.meta.url),qk=Q4(),Kk=t=>new Promise((e,n)=>{i0(()=>{const r=oB(t);Z4(t,r),J4(t).then(s=>{s.animation&&s.animation.destroy(),LI(t),e(s)},s=>{LI(t),n(s)}).finally(()=>{Xk(r,!1)})})}),Z4=(t,e)=>{const n=t.enteringEl,r=t.leavingEl;qk.saveViewFocus(r),iB(n,r,t.direction),Xk(e,!0),t.showGoBack?n.classList.add("can-go-back"):n.classList.remove("can-go-back"),S_(n,!1),n.style.setProperty("pointer-events","none"),r&&(S_(r,!1),r.style.setProperty("pointer-events","none"))},J4=async t=>{const e=await eB(t);return e&&jF.isBrowser?tB(e,t):nB(t)},LI=t=>{const e=t.enteringEl,n=t.leavingEl;e.classList.remove("ion-page-invisible"),e.style.removeProperty("pointer-events"),n!==void 0&&(n.classList.remove("ion-page-invisible"),n.style.removeProperty("pointer-events")),qk.setViewFocus(e)},eB=async t=>!t.leavingEl||!t.animated||t.duration===0?void 0:t.animationBuilder?t.animationBuilder:t.mode==="ios"?(await Y4()).iosTransitionAnimation:(await X4()).mdTransitionAnimation,tB=async(t,e)=>{await Gk(e,!0);const n=t(e.baseEl,e);Qk(e.enteringEl,e.leavingEl);const r=await sB(n,e);return e.progressCallback&&e.progressCallback(void 0),r&&Yk(e.enteringEl,e.leavingEl),{hasCompleted:r,animation:n}},nB=async t=>{const e=t.enteringEl,n=t.leavingEl,r=Pt.get("focusManagerPriority",!1);return await Gk(t,r),Qk(e,n),Yk(e,n),{hasCompleted:!0}},Gk=async(t,e)=>{(t.deepWait!==void 0?t.deepWait:e)&&await Promise.all([T_(t.enteringEl),T_(t.leavingEl)]),await rB(t.viewIsReady,t.enteringEl)},rB=async(t,e)=>{t&&await t(e)},sB=(t,e)=>{const n=e.progressCallback,r=new Promise(s=>{t.onFinish(i=>s(i===1))});return n?(t.progressStart(!0),n(t)):t.play(),r},Qk=(t,e)=>{Wi(e,Wk),Wi(t,K4)},Yk=(t,e)=>{Wi(t,G4),Wi(e,Hk)},Wi=(t,e)=>{if(t){const n=new CustomEvent(e,{bubbles:!1,cancelable:!1});t.dispatchEvent(n)}},T_=async t=>{const e=t;if(e){if(e.componentOnReady!=null){if(await e.componentOnReady()!=null)return}else if(e.__registerHost!=null){await new Promise(r=>Uk(r));return}await Promise.all(Array.from(e.children).map(T_))}},S_=(t,e)=>{e?(t.setAttribute("aria-hidden","true"),t.classList.add("ion-page-hidden")):(t.hidden=!1,t.removeAttribute("aria-hidden"),t.classList.remove("ion-page-hidden"))},iB=(t,e,n)=>{t!==void 0&&(t.style.zIndex=n==="back"?"99":"101"),e!==void 0&&(e.style.zIndex="100")},Xk=(t,e)=>{if(!t)return;const n="header-transitioning";e?t.classList.add(n):t.classList.remove(n)},Bre=t=>{if(t.classList.contains("ion-page"))return t;const e=t.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs");return e||t},oB=t=>{const e=t.enteringEl,n=t.leavingEl,r=t.direction;if(t.mode!=="ios")return null;const i=r==="back"?n:e;return i?i.querySelector("ion-header"):null};const Wm=(t,e,n,r,s)=>lB(t[1],e[1],n[1],r[1],s).map(i=>aB(t[0],e[0],n[0],r[0],i)),aB=(t,e,n,r,s)=>{const i=3*e*Math.pow(s-1,2),a=-3*n*s+3*n+r*s,l=t*Math.pow(s-1,3);return s*(i+s*a)-l},lB=(t,e,n,r,s)=>(t-=s,e-=s,n-=s,r-=s,uB(r-3*n+3*e-t,3*n-6*e+3*t,3*e-3*t,t).filter(a=>a>=0&&a<=1)),cB=(t,e,n)=>{const r=e*e-4*t*n;return r<0?[]:[(-e+Math.sqrt(r))/(2*t),(-e-Math.sqrt(r))/(2*t)]},uB=(t,e,n,r)=>{if(t===0)return cB(e,n,r);e/=t,n/=t,r/=t;const s=(3*n-e*e)/3,i=(2*e*e*e-9*e*n+27*r)/27;if(s===0)return[Math.pow(-i,1/3)];if(i===0)return[Math.sqrt(-s),-Math.sqrt(-s)];const a=Math.pow(i/2,2)+Math.pow(s/3,3);if(a===0)return[Math.pow(i/2,1/2)-e/3];if(a>0)return[Math.pow(-(i/2)+Math.sqrt(a),1/3)-Math.pow(i/2+Math.sqrt(a),1/3)-e/3];const l=Math.sqrt(Math.pow(-(s/3),3)),u=Math.acos(-(i/(2*Math.sqrt(Math.pow(-(s/3),3))))),d=2*Math.pow(l,1/3);return[d*Math.cos(u/3)-e/3,d*Math.cos((u+2*Math.PI)/3)-e/3,d*Math.cos((u+4*Math.PI)/3)-e/3]};const dB=t=>Zk(t),dl=(t,e)=>(typeof t=="string"&&(e=t,t=void 0),dB(t).includes(e)),Zk=(t=window)=>{if(typeof t>"u")return[];t.Ionic=t.Ionic||{};let e=t.Ionic.platforms;return e==null&&(e=t.Ionic.platforms=hB(t),e.forEach(n=>t.document.documentElement.classList.add(`plt-${n}`))),e},hB=t=>{const e=Pt.get("platform");return Object.keys(MI).filter(n=>{const r=e?.[n];return typeof r=="function"?r(t):MI[n](t)})},fB=t=>zg(t)&&!e1(t),d0=t=>!!(El(t,/iPad/i)||El(t,/Macintosh/i)&&zg(t)),pB=t=>El(t,/iPhone/i),mB=t=>El(t,/iPhone|iPod/i)||d0(t),Jk=t=>El(t,/android|sink/i),gB=t=>Jk(t)&&!El(t,/mobile/i),yB=t=>{const e=t.innerWidth,n=t.innerHeight,r=Math.min(e,n),s=Math.max(e,n);return r>390&&r<520&&s>620&&s<800},vB=t=>{const e=t.innerWidth,n=t.innerHeight,r=Math.min(e,n),s=Math.max(e,n);return d0(t)||gB(t)||r>460&&r<820&&s>780&&s<1400},zg=t=>xB(t,"(any-pointer:coarse)"),wB=t=>!zg(t),e1=t=>t1(t)||n1(t),t1=t=>!!(t.cordova||t.phonegap||t.PhoneGap),n1=t=>{const e=t.Capacitor;return!!(e?.isNative||e?.isNativePlatform&&e.isNativePlatform())},_B=t=>El(t,/electron/i),bB=t=>{var e;return!!(!((e=t.matchMedia)===null||e===void 0)&&e.call(t,"(display-mode: standalone)").matches||t.navigator.standalone)},El=(t,e)=>e.test(t.navigator.userAgent),xB=(t,e)=>{var n;return(n=t.matchMedia)===null||n===void 0?void 0:n.call(t,e).matches},MI={ipad:d0,iphone:pB,ios:mB,android:Jk,phablet:yB,tablet:vB,cordova:t1,capacitor:n1,electron:_B,pwa:bB,mobile:zg,mobileweb:fB,desktop:wB,hybrid:e1};let Bc;const ui=t=>t&&m4(t)||Bc,EB=(t={})=>{if(typeof window>"u")return;const e=window.document,n=window,r=n.Ionic=n.Ionic||{},s=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},$4(n)),{persistConfig:!1}),r.config),F4(n)),t);Pt.reset(s),Pt.getBoolean("persistConfig")&&j4(n,s),Zk(n),r.config=Pt,r.mode=Bc=Pt.get("mode",e.documentElement.getAttribute("mode")||(dl(n,"ios")?"ios":"md")),Pt.set("mode",Bc),e.documentElement.setAttribute("mode",Bc),e.documentElement.classList.add(Bc),Pt.getBoolean("_testing")&&Pt.set("animated",!1);const i=l=>{var u;return(u=l.tagName)===null||u===void 0?void 0:u.startsWith("ION-")},a=l=>["ios","md"].includes(l);p4(l=>{for(;l;){const u=l.mode||l.getAttribute("mode");if(u){if(a(u))return u;i(l)&&Ug('Invalid ionic mode: "'+u+'", expected: "ios" or "md"')}l=l.parentElement}return Bc})};const $I=(t,e)=>e.closest(t)!==null,r1=(t,e)=>typeof t=="string"&&t.length>0?Object.assign({"ion-color":!0,[`ion-color-${t}`]:!0},e):e,TB=/^[a-z][a-z0-9+\-.]*:/,SB=async(t,e,n,r)=>{if(t!=null&&t[0]!=="#"&&!TB.test(t)){const s=document.querySelector("ion-router");if(s)return e?.preventDefault(),s.push(t,n,r)}return!1};const Hm=()=>Pt.get("experimentalCloseWatcher",!1)&&Sn!==void 0&&"CloseWatcher"in Sn,IB=()=>{document.addEventListener("backbutton",()=>{})},CB=()=>{const t=document;let e=!1;const n=()=>{if(e)return;let r=0,s=[];const i=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(u,d){s.push({priority:u,handler:d,id:r++})}}});t.dispatchEvent(i);const a=async u=>{try{if(u?.handler){const d=u.handler(l);d!=null&&await d}}catch(d){Hu("[ion-app] - Exception in startHardwareBackButton:",d)}},l=()=>{if(s.length>0){let u={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};s.forEach(d=>{d.priority>=u.priority&&(u=d)}),e=!0,s=s.filter(d=>d.id!==u.id),a(u).then(()=>e=!1)}};l()};if(Hm()){let r;const s=()=>{r?.destroy(),r=new Sn.CloseWatcher,r.onclose=()=>{n(),s()}};s()}else t.addEventListener("backbutton",n)},AB=100,PB=99,RB=Object.freeze(Object.defineProperty({__proto__:null,MENU_BACK_BUTTON_PRIORITY:PB,OVERLAY_BACK_BUTTON_PRIORITY:AB,blockHardwareBackButton:IB,shouldUseCloseWatcher:Hm,startHardwareBackButton:CB},Symbol.toStringTag,{value:"Module"}));const h0=async(t,e,n,r,s,i)=>{var a;if(t)return t.attachViewToDom(e,n,s,r);if(typeof n!="string"&&!(n instanceof HTMLElement))throw new Error("framework delegate is missing");const l=typeof n=="string"?(a=e.ownerDocument)===null||a===void 0?void 0:a.createElement(n):n;return r&&r.forEach(u=>l.classList.add(u)),s&&Object.assign(l,s),e.appendChild(l),await new Promise(u=>Fk(l,u)),l},kB=(t,e)=>{if(e){if(t){const n=e.parentElement;return t.removeViewFromDom(n,e)}e.remove()}return Promise.resolve()};var zl=_k();const s1=wk(zl);const DB="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 512' class='ionicon'><path d='M244 400 100 256l144-144M120 256h292' stroke-linecap='square' stroke-miterlimit='10' stroke-width='48px' class='ionicon-fill-none'/></svg>",NB="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 512' class='ionicon'><path d='M328 112 184 256l144 144' stroke-linecap='round' stroke-linejoin='round' stroke-width='48px' class='ionicon-fill-none'/></svg>";let ww;const OB=()=>{if(typeof window>"u")return new Map;if(!ww){const t=window;t.Ionicons=t.Ionicons||{},ww=t.Ionicons.map=t.Ionicons.map||new Map}return ww},VB=t=>{let e=_w(t.src);return e||(e=i1(t.name,t.icon,t.mode,t.ios,t.md),e?LB(e,t):t.icon&&(e=_w(t.icon),e||(e=_w(t.icon[t.mode]),e))?e:null)},LB=(t,e)=>{const n=OB().get(t);if(n)return n;try{return QF(`svg/${t}.svg`)}catch(r){console.log("e",r),console.warn(`[Ionicons Warning]: Could not load icon with name "${t}". Ensure that the icon is registered using addIcons or that the icon SVG data is passed directly to the icon component.`,e)}},i1=(t,e,n,r,s)=>(n=(n&&Hp(n))==="ios"?"ios":"md",r&&n==="ios"?t=Hp(r):s&&n==="md"?t=Hp(s):(!t&&e&&!o1(e)&&(t=e),qm(t)&&(t=Hp(t))),!qm(t)||t.trim()===""||t.replace(/[a-z]|-|\d/gi,"")!==""?null:t),_w=t=>qm(t)&&(t=t.trim(),o1(t))?t:null,o1=t=>t.length>0&&/(\/|\.)/.test(t),qm=t=>typeof t=="string",Hp=t=>t.toLowerCase(),MB=(t,e=[])=>{const n={};return e.forEach(r=>{t.hasAttribute(r)&&(t.getAttribute(r)!==null&&(n[r]=t.getAttribute(r)),t.removeAttribute(r))}),n},$B=t=>t&&t.dir!==""?t.dir.toLowerCase()==="rtl":document?.dir.toLowerCase()==="rtl",jB=t=>{const e=document.createElement("div");e.innerHTML=t;for(let r=e.childNodes.length-1;r>=0;r--)e.childNodes[r].nodeName.toLowerCase()!=="svg"&&e.removeChild(e.childNodes[r]);const n=e.firstElementChild;if(n&&n.nodeName.toLowerCase()==="svg"){const r=n.getAttribute("class")||"";if(n.setAttribute("class",(r+" s-ion-icon").trim()),a1(n))return e.innerHTML}return""},a1=t=>{if(t.nodeType===1){if(t.nodeName.toLowerCase()==="script")return!1;for(let e=0;e<t.attributes.length;e++){const n=t.attributes[e].name;if(qm(n)&&n.toLowerCase().indexOf("on")===0)return!1}for(let e=0;e<t.childNodes.length;e++)if(!a1(t.childNodes[e]))return!1}return!0},FB=t=>t.startsWith("data:image/svg+xml"),BB=t=>t.indexOf(";utf8,")!==-1,su=new Map,l1=new Map;let bw;function I_(t){return su.set(t,""),""}const UB=(t,e)=>{const n=l1.get(t);return n||(typeof fetch<"u"&&typeof document<"u"?FB(t)&&BB(t)?Promise.resolve(zB(t)):WB(t,e):Promise.resolve(I_(t)))};function zB(t){bw||(bw=new DOMParser);const n=bw.parseFromString(t,"text/html").querySelector("svg");if(n)return su.set(t,n.outerHTML),n.outerHTML;throw new Error(`Could not parse svg from ${t}`)}function WB(t,e){const n=fetch(t).then(r=>r.text().then(s=>{s&&e!==!1&&(s=jB(s));const i=s||"";return su.set(t,i),i}).catch(()=>I_(t))).catch(()=>I_(t));return l1.set(t,n),n}const HB=":host{display:inline-block;width:1em;height:1em;contain:strict;fill:currentColor;-webkit-box-sizing:content-box !important;box-sizing:content-box !important}:host .ionicon{stroke:currentColor}.ionicon-fill-none{fill:none}.ionicon-stroke-width{stroke-width:var(--ionicon-stroke-width, 32px)}.icon-inner,.ionicon,svg{display:block;height:100%;width:100%}@supports (background: -webkit-named-image(i)){:host(.icon-rtl) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}}@supports not selector(:dir(rtl)) and selector(:host-context([dir='rtl'])){:host(.icon-rtl) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}}:host(.flip-rtl):host-context([dir='rtl']) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}@supports selector(:dir(rtl)){:host(.flip-rtl:dir(rtl)) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}:host(.flip-rtl:dir(ltr)) .icon-inner{-webkit-transform:scaleX(1);transform:scaleX(1)}}:host(.icon-small){font-size:1.125rem !important}:host(.icon-large){font-size:2rem !important}:host(.ion-color){color:var(--ion-color-base) !important}:host(.ion-color-primary){--ion-color-base:var(--ion-color-primary, #3880ff)}:host(.ion-color-secondary){--ion-color-base:var(--ion-color-secondary, #0cd1e8)}:host(.ion-color-tertiary){--ion-color-base:var(--ion-color-tertiary, #f4a942)}:host(.ion-color-success){--ion-color-base:var(--ion-color-success, #10dc60)}:host(.ion-color-warning){--ion-color-base:var(--ion-color-warning, #ffce00)}:host(.ion-color-danger){--ion-color-base:var(--ion-color-danger, #f14141)}:host(.ion-color-light){--ion-color-base:var(--ion-color-light, #f4f5f8)}:host(.ion-color-medium){--ion-color-base:var(--ion-color-medium, #989aa2)}:host(.ion-color-dark){--ion-color-base:var(--ion-color-dark, #222428)}",qB=wi(class extends vi{constructor(e){super(),e!==!1&&this.__registerHost(),this.__attachShadow(),this.iconName=null,this.inheritedAttributes={},this.didLoadIcon=!1,this.isVisible=!1,this.mode=KB(),this.lazy=!1,this.sanitize=!0}componentWillLoad(){this.inheritedAttributes=MB(this.el,["aria-label"])}connectedCallback(){this.waitUntilVisible(this.el,"50px",()=>{this.isVisible=!0,this.loadIcon()})}componentDidLoad(){this.didLoadIcon||this.loadIcon()}disconnectedCallback(){this.io&&(this.io.disconnect(),this.io=void 0)}waitUntilVisible(e,n,r){if(!!!(this.lazy&&typeof window<"u"&&window.IntersectionObserver))return r();const i=this.io=new window.IntersectionObserver(a=>{a[0].isIntersecting&&(i.disconnect(),this.io=void 0,r())},{rootMargin:n});i.observe(e)}loadIcon(){if(this.isVisible){const e=VB(this);e&&(su.has(e)?this.svgContent=su.get(e):UB(e,this.sanitize).then(()=>this.svgContent=su.get(e)),this.didLoadIcon=!0)}this.iconName=i1(this.name,this.icon,this.mode,this.ios,this.md)}render(){const{flipRtl:e,iconName:n,inheritedAttributes:r,el:s}=this,i=this.mode||"md",a=n?(n.includes("arrow")||n.includes("chevron"))&&e!==!1:!1,l=e||a;return Dt(so,Object.assign({key:"0578c899781ca145dd8205acd9670af39b57cf2e",role:"img",class:Object.assign(Object.assign({[i]:!0},GB(this.color)),{[`icon-${this.size}`]:!!this.size,"flip-rtl":l,"icon-rtl":l&&$B(s)})},r),this.svgContent?Dt("div",{class:"icon-inner",innerHTML:this.svgContent}):Dt("div",{class:"icon-inner"}))}static get assetsDirs(){return["svg"]}get el(){return this}static get watchers(){return{name:["loadIcon"],src:["loadIcon"],icon:["loadIcon"],ios:["loadIcon"],md:["loadIcon"]}}static get style(){return HB}},[257,"ion-icon",{mode:[1025],color:[1],ios:[1],md:[1],flipRtl:[4,"flip-rtl"],name:[513],src:[1],icon:[8],size:[1],lazy:[4],sanitize:[4],svgContent:[32],isVisible:[32]},void 0,{name:["loadIcon"],src:["loadIcon"],icon:["loadIcon"],ios:["loadIcon"],md:["loadIcon"]}]),KB=()=>typeof document<"u"&&document.documentElement.getAttribute("mode")||"md",GB=t=>t?{"ion-color":!0,[`ion-color-${t}`]:!0}:null;function QB(){if(typeof customElements>"u")return;["ion-icon"].forEach(e=>{e==="ion-icon"&&(customElements.get(e)||customElements.define(e,qB))})}const YB=":host{left:0;right:0;top:0;bottom:0;position:absolute;contain:strict;pointer-events:none}:host(.unbounded){contain:layout size style}.ripple-effect{border-radius:50%;position:absolute;background-color:currentColor;color:inherit;contain:strict;opacity:0;-webkit-animation:225ms rippleAnimation forwards, 75ms fadeInAnimation forwards;animation:225ms rippleAnimation forwards, 75ms fadeInAnimation forwards;will-change:transform, opacity;pointer-events:none}.fade-out{-webkit-transform:translate(var(--translate-end)) scale(var(--final-scale, 1));transform:translate(var(--translate-end)) scale(var(--final-scale, 1));-webkit-animation:150ms fadeOutAnimation forwards;animation:150ms fadeOutAnimation forwards}@-webkit-keyframes rippleAnimation{from{-webkit-animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1);animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1);-webkit-transform:scale(1);transform:scale(1)}to{-webkit-transform:translate(var(--translate-end)) scale(var(--final-scale, 1));transform:translate(var(--translate-end)) scale(var(--final-scale, 1))}}@keyframes rippleAnimation{from{-webkit-animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1);animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1);-webkit-transform:scale(1);transform:scale(1)}to{-webkit-transform:translate(var(--translate-end)) scale(var(--final-scale, 1));transform:translate(var(--translate-end)) scale(var(--final-scale, 1))}}@-webkit-keyframes fadeInAnimation{from{-webkit-animation-timing-function:linear;animation-timing-function:linear;opacity:0}to{opacity:0.16}}@keyframes fadeInAnimation{from{-webkit-animation-timing-function:linear;animation-timing-function:linear;opacity:0}to{opacity:0.16}}@-webkit-keyframes fadeOutAnimation{from{-webkit-animation-timing-function:linear;animation-timing-function:linear;opacity:0.16}to{opacity:0}}@keyframes fadeOutAnimation{from{-webkit-animation-timing-function:linear;animation-timing-function:linear;opacity:0.16}to{opacity:0}}",XB=wi(class extends vi{constructor(e){super(),e!==!1&&this.__registerHost(),this.__attachShadow(),this.type="bounded"}async addRipple(e,n){return new Promise(r=>{GF(()=>{const s=this.el.getBoundingClientRect(),i=s.width,a=s.height,l=Math.sqrt(i*i+a*a),u=Math.max(a,i),d=this.unbounded?u:l+JB,f=Math.floor(u*eU),g=d/f;let y=e-s.left,x=n-s.top;this.unbounded&&(y=i*.5,x=a*.5);const I=y-f*.5,E=x-f*.5,S=i*.5-y,k=a*.5-x;i0(()=>{const A=document.createElement("div");A.classList.add("ripple-effect");const N=A.style;N.top=E+"px",N.left=I+"px",N.width=N.height=f+"px",N.setProperty("--final-scale",`${g}`),N.setProperty("--translate-end",`${S}px, ${k}px`),(this.el.shadowRoot||this.el).appendChild(A),setTimeout(()=>{r(()=>{ZB(A)})},325)})})})}get unbounded(){return this.type==="unbounded"}render(){const e=ui(this);return Dt(so,{key:"ae9d3b1ed6773a9b9bb2267129f7e9af23b6c9fc",role:"presentation",class:{[e]:!0,unbounded:this.unbounded}})}get el(){return this}static get style(){return YB}},[257,"ion-ripple-effect",{type:[1],addRipple:[64]}]),ZB=t=>{t.classList.add("fade-out"),setTimeout(()=>{t.remove()},200)},JB=10,eU=.5;function c1(){if(typeof customElements>"u")return;["ion-ripple-effect"].forEach(e=>{e==="ion-ripple-effect"&&(customElements.get(e)||customElements.define(e,XB))})}const qp=typeof window<"u"?window:void 0;qp&&(qp.CSS&&qp.CSS.supports&&qp.CSS.supports("--a: 0"));const tU=()=>{if(Sn!==void 0)return Sn.Capacitor};const nU=()=>{let t;return{lock:async()=>{const n=t;let r;return t=new Promise(s=>r=s),n!==void 0&&await n,r}}};var C_;(function(t){t.Unimplemented="UNIMPLEMENTED",t.Unavailable="UNAVAILABLE"})(C_||(C_={}));var A_;(function(t){t.Body="body",t.Ionic="ionic",t.Native="native",t.None="none"})(A_||(A_={}));const rU={getEngine(){const t=tU();if(t?.isPluginAvailable("Keyboard"))return t.Plugins.Keyboard},getResizeMode(){const t=this.getEngine();return t?.getResizeMode?t.getResizeMode().catch(e=>{if(e.code!==C_.Unimplemented)throw e}):Promise.resolve(void 0)}};const u1=t=>{if(mw===void 0||t===A_.None||t===void 0)return null;const e=mw.querySelector("ion-app");return e??mw.body},jI=t=>{const e=u1(t);return e===null?0:e.clientHeight},sU=async t=>{let e,n,r,s;const i=async()=>{const f=await rU.getResizeMode(),g=f===void 0?void 0:f.mode;e=()=>{s===void 0&&(s=jI(g)),r=!0,a(r,g)},n=()=>{r=!1,a(r,g)},Sn?.addEventListener("keyboardWillShow",e),Sn?.addEventListener("keyboardWillHide",n)},a=(f,g)=>{t&&t(f,l(g))},l=f=>{if(s===0||s===jI(f))return;const g=u1(f);if(g!==null)return new Promise(y=>{const x=()=>{g.clientHeight===s&&(I.disconnect(),y())},I=new ResizeObserver(x);I.observe(g)})},u=()=>{Sn?.removeEventListener("keyboardWillShow",e),Sn?.removeEventListener("keyboardWillHide",n),e=n=void 0},d=()=>r;return await i(),{init:i,destroy:u,isKeyboardVisible:d}},d1=1,h1=2,Km=3;class P_{constructor(e,n){this.component=e,this.params=n,this.state=d1}async init(e){if(this.state=h1,!this.element){const n=this.component;this.element=await h0(this.delegate,e,n,["ion-page","ion-page-invisible"],this.params)}}_destroy(){Rr(this.state!==Km,"view state must be ATTACHED");const e=this.element;e&&(this.delegate?this.delegate.removeViewFromDom(e.parentElement,e):e.remove()),this.nav=void 0,this.state=Km}}const FI=(t,e,n)=>!t||t.component!==e?!1:zk(t.params,n),BI=(t,e)=>t?t instanceof P_?t:new P_(t,e):null,iU=t=>t.map(e=>e instanceof P_?e:"component"in e?BI(e.component,e.componentProps===null?void 0:e.componentProps):BI(e,void 0)).filter(e=>e!==null),oU=":host{left:0;right:0;top:0;bottom:0;position:absolute;contain:layout size style;z-index:0}",aU=wi(class extends vi{constructor(e){super(),e!==!1&&this.__registerHost(),this.__attachShadow(),this.ionNavWillLoad=gs(this,"ionNavWillLoad",7),this.ionNavWillChange=gs(this,"ionNavWillChange",3),this.ionNavDidChange=gs(this,"ionNavDidChange",3),this.transInstr=[],this.gestureOrAnimationInProgress=!1,this.useRouter=!1,this.isTransitioning=!1,this.destroyed=!1,this.views=[],this.didLoad=!1,this.animated=!0}swipeGestureChanged(){this.gesture&&this.gesture.enable(this.swipeGesture===!0)}rootChanged(){this.root!==void 0&&this.didLoad!==!1&&(this.useRouter||this.root!==void 0&&this.setRoot(this.root,this.rootParams))}componentWillLoad(){if(this.useRouter=document.querySelector("ion-router")!==null&&this.el.closest("[no-router]")===null,this.swipeGesture===void 0){const e=ui(this);this.swipeGesture=Pt.getBoolean("swipeBackEnabled",e==="ios")}this.ionNavWillLoad.emit()}async componentDidLoad(){this.didLoad=!0,this.rootChanged(),this.gesture=(await ii(async()=>{const{createSwipeBackGesture:e}=await import("./swipe-back-Dv121LoB.js");return{createSwipeBackGesture:e}},[],import.meta.url)).createSwipeBackGesture(this.el,this.canStart.bind(this),this.onStart.bind(this),this.onMove.bind(this),this.onEnd.bind(this)),this.swipeGestureChanged()}connectedCallback(){this.destroyed=!1}disconnectedCallback(){for(const e of this.views)Wi(e.element,vw),e._destroy();this.gesture&&(this.gesture.destroy(),this.gesture=void 0),this.transInstr.length=0,this.views.length=0,this.destroyed=!0}push(e,n,r,s){return this.insert(-1,e,n,r,s)}insert(e,n,r,s,i){return this.insertPages(e,[{component:n,componentProps:r}],s,i)}insertPages(e,n,r,s){return this.queueTrns({insertStart:e,insertViews:n,opts:r},s)}pop(e,n){return this.removeIndex(-1,1,e,n)}popTo(e,n,r){const s={removeStart:-1,removeCount:-1,opts:n};return typeof e=="object"&&e.component?(s.removeView=e,s.removeStart=1):typeof e=="number"&&(s.removeStart=e+1),this.queueTrns(s,r)}popToRoot(e,n){return this.removeIndex(1,-1,e,n)}removeIndex(e,n=1,r,s){return this.queueTrns({removeStart:e,removeCount:n,opts:r},s)}setRoot(e,n,r,s){return this.setPages([{component:e,componentProps:n}],r,s)}setPages(e,n,r){return n??(n={}),n.animated!==!0&&(n.animated=!1),this.queueTrns({insertStart:0,insertViews:e,removeStart:0,removeCount:-1,opts:n},r)}setRouteId(e,n,r,s){const i=this.getActiveSync();if(FI(i,e,n))return Promise.resolve({changed:!1,element:i.element});let a;const l=new Promise(f=>a=f);let u;const d={updateURL:!1,viewIsReady:f=>{let g;const y=new Promise(x=>g=x);return a({changed:!0,element:f,markVisible:async()=>{g(),await u}}),y}};if(r==="root")u=this.setRoot(e,n,d);else{const f=this.views.find(g=>FI(g,e,n));f?u=this.popTo(f,Object.assign(Object.assign({},d),{direction:"back",animationBuilder:s})):r==="forward"?u=this.push(e,n,Object.assign(Object.assign({},d),{animationBuilder:s})):r==="back"&&(u=this.setRoot(e,n,Object.assign(Object.assign({},d),{direction:"back",animated:!0,animationBuilder:s})))}return l}async getRouteId(){const e=this.getActiveSync();if(e)return{id:e.element.tagName,params:e.params,element:e.element}}async getActive(){return this.getActiveSync()}async getByIndex(e){return this.views[e]}async canGoBack(e){return this.canGoBackSync(e)}async getPrevious(e){return this.getPreviousSync(e)}async getLength(){return Promise.resolve(this.views.length)}getActiveSync(){return this.views[this.views.length-1]}canGoBackSync(e=this.getActiveSync()){return!!(e&&this.getPreviousSync(e))}getPreviousSync(e=this.getActiveSync()){if(!e)return;const n=this.views,r=n.indexOf(e);return r>0?n[r-1]:void 0}async queueTrns(e,n){var r,s;if(this.isTransitioning&&(!((r=e.opts)===null||r===void 0)&&r.skipIfBusy))return!1;const i=new Promise((a,l)=>{e.resolve=a,e.reject=l});if(e.done=n,e.opts&&e.opts.updateURL!==!1&&this.useRouter){const a=document.querySelector("ion-router");if(a){const l=await a.canTransition();if(l===!1)return!1;if(typeof l=="string")return a.push(l,e.opts.direction||"back"),!1}}return((s=e.insertViews)===null||s===void 0?void 0:s.length)===0&&(e.insertViews=void 0),this.transInstr.push(e),this.nextTrns(),i}success(e,n){if(this.destroyed){this.fireError("nav controller was destroyed",n);return}if(n.done&&n.done(e.hasCompleted,e.requiresTransition,e.enteringView,e.leavingView,e.direction),n.resolve(e.hasCompleted),n.opts.updateURL!==!1&&this.useRouter){const r=document.querySelector("ion-router");if(r){const s=e.direction==="back"?"back":"forward";r.navChanged(s)}}}failed(e,n){if(this.destroyed){this.fireError("nav controller was destroyed",n);return}this.transInstr.length=0,this.fireError(e,n)}fireError(e,n){n.done&&n.done(!1,!1,e),n.reject&&!this.destroyed?n.reject(e):n.resolve(!1)}nextTrns(){if(this.isTransitioning)return!1;const e=this.transInstr.shift();return e?(this.runTransition(e),!0):!1}async runTransition(e){try{this.ionNavWillChange.emit(),this.isTransitioning=!0,this.prepareTI(e);const n=this.getActiveSync(),r=this.getEnteringView(e,n);if(!n&&!r)throw new Error("no views in the stack to be removed");r&&r.state===d1&&await r.init(this.el),this.postViewInit(r,n,e);const s=(e.enteringRequiresTransition||e.leavingRequiresTransition)&&r!==n;s&&e.opts&&n&&(e.opts.direction==="back"&&(e.opts.animationBuilder=e.opts.animationBuilder||r?.animationBuilder),n.animationBuilder=e.opts.animationBuilder);let i;s?i=await this.transition(r,n,e):i={hasCompleted:!0,requiresTransition:!1},this.success(i,e),this.ionNavDidChange.emit()}catch(n){this.failed(n,e)}this.isTransitioning=!1,this.nextTrns()}prepareTI(e){var n,r,s;const i=this.views.length;if((n=e.opts)!==null&&n!==void 0||(e.opts={}),(r=(s=e.opts).delegate)!==null&&r!==void 0||(s.delegate=this.delegate),e.removeView!==void 0){Rr(e.removeStart!==void 0,"removeView needs removeStart"),Rr(e.removeCount!==void 0,"removeView needs removeCount");const u=this.views.indexOf(e.removeView);if(u<0)throw new Error("removeView was not found");e.removeStart+=u}e.removeStart!==void 0&&(e.removeStart<0&&(e.removeStart=i-1),e.removeCount<0&&(e.removeCount=i-e.removeStart),e.leavingRequiresTransition=e.removeCount>0&&e.removeStart+e.removeCount===i),e.insertViews&&((e.insertStart<0||e.insertStart>i)&&(e.insertStart=i),e.enteringRequiresTransition=e.insertStart===i);const a=e.insertViews;if(!a)return;Rr(a.length>0,"length can not be zero");const l=iU(a);if(l.length===0)throw new Error("invalid views to insert");for(const u of l){u.delegate=e.opts.delegate;const d=u.nav;if(d&&d!==this)throw new Error("inserted view was already inserted");if(u.state===Km)throw new Error("inserted view was already destroyed")}e.insertViews=l}getEnteringView(e,n){const r=e.insertViews;if(r!==void 0)return r[r.length-1];const s=e.removeStart;if(s!==void 0){const i=this.views,a=s+e.removeCount;for(let l=i.length-1;l>=0;l--){const u=i[l];if((l<s||l>=a)&&u!==n)return u}}}postViewInit(e,n,r){var s,i,a;Rr(n||e,"Both leavingView and enteringView are null"),Rr(r.resolve,"resolve must be valid"),Rr(r.reject,"reject must be valid");const l=r.opts,{insertViews:u,removeStart:d,removeCount:f}=r;let g;if(d!==void 0&&f!==void 0){Rr(d>=0,"removeStart can not be negative"),Rr(f>=0,"removeCount can not be negative"),g=[];for(let x=d;x<d+f;x++){const I=this.views[x];I!==void 0&&I!==e&&I!==n&&g.push(I)}(s=l.direction)!==null&&s!==void 0||(l.direction="back")}const y=this.views.length+((i=u?.length)!==null&&i!==void 0?i:0)-(f??0);if(Rr(y>=0,"final balance can not be negative"),y===0)throw Ug("[ion-nav] - You can't remove all the pages in the navigation stack. nav.pop() is probably called too many times.",this,this.el),new Error("navigation stack needs at least one root page");if(u){let x=r.insertStart;for(const I of u)this.insertViewAt(I,x),x++;r.enteringRequiresTransition&&((a=l.direction)!==null&&a!==void 0||(l.direction="forward"))}if(g&&g.length>0){for(const x of g)Wi(x.element,Wk),Wi(x.element,Hk),Wi(x.element,vw);for(const x of g)this.destroyView(x)}}async transition(e,n,r){const s=r.opts,i=s.progressAnimation?g=>{g!==void 0&&!this.gestureOrAnimationInProgress?(this.gestureOrAnimationInProgress=!0,g.onFinish(()=>{this.gestureOrAnimationInProgress=!1},{oneTimeCallback:!0}),g.progressEnd(0,0,0)):this.sbAni=g}:void 0,a=ui(this),l=e.element,u=n&&n.element,d=Object.assign(Object.assign({mode:a,showGoBack:this.canGoBackSync(e),baseEl:this.el,progressCallback:i,animated:this.animated&&Pt.getBoolean("animated",!0),enteringEl:l,leavingEl:u},s),{animationBuilder:s.animationBuilder||this.animation||Pt.get("navAnimation")}),{hasCompleted:f}=await Kk(d);return this.transitionFinish(f,e,n,s)}transitionFinish(e,n,r,s){const i=e?n:r;return i&&this.unmountInactiveViews(i),{hasCompleted:e,requiresTransition:!0,enteringView:n,leavingView:r,direction:s.direction}}insertViewAt(e,n){const r=this.views,s=r.indexOf(e);s>-1?(Rr(e.nav===this,"view is not part of the nav"),r.splice(s,1),r.splice(n,0,e)):(Rr(!e.nav,"nav is used"),e.nav=this,r.splice(n,0,e))}removeView(e){Rr(e.state===h1||e.state===Km,"view state should be loaded or destroyed");const n=this.views,r=n.indexOf(e);Rr(r>-1,"view must be part of the stack"),r>=0&&n.splice(r,1)}destroyView(e){e._destroy(),this.removeView(e)}unmountInactiveViews(e){if(this.destroyed)return;const n=this.views,r=n.indexOf(e);for(let s=n.length-1;s>=0;s--){const i=n[s],a=i.element;a&&(s>r?(Wi(a,vw),this.destroyView(i)):s<r&&S_(a,!0))}}canStart(){return!this.gestureOrAnimationInProgress&&!!this.swipeGesture&&!this.isTransitioning&&this.transInstr.length===0&&this.canGoBackSync()}onStart(){this.gestureOrAnimationInProgress=!0,this.pop({direction:"back",progressAnimation:!0})}onMove(e){this.sbAni&&this.sbAni.progressStep(e)}onEnd(e,n,r){if(this.sbAni){this.sbAni.onFinish(()=>{this.gestureOrAnimationInProgress=!1},{oneTimeCallback:!0});let s=e?-.001:.001;e?s+=Wm([0,0],[.32,.72],[0,1],[1,1],n)[0]:(this.sbAni.easing("cubic-bezier(1, 0, 0.68, 0.28)"),s+=Wm([0,0],[1,0],[.68,.28],[1,1],n)[0]),this.sbAni.progressEnd(e?1:0,s,r)}else this.gestureOrAnimationInProgress=!1}render(){return Dt("slot",{key:"8067c9835d255daec61f33dba200fd3a6ff839a0"})}get el(){return this}static get watchers(){return{swipeGesture:["swipeGestureChanged"],root:["rootChanged"]}}static get style(){return oU}},[257,"ion-nav",{delegate:[16],swipeGesture:[1028,"swipe-gesture"],animated:[4],animation:[16],rootParams:[16],root:[1],push:[64],insert:[64],insertPages:[64],pop:[64],popTo:[64],popToRoot:[64],removeIndex:[64],setRoot:[64],setPages:[64],setRouteId:[64],getRouteId:[64],getActive:[64],getByIndex:[64],canGoBack:[64],getPrevious:[64],getLength:[64]},void 0,{swipeGesture:["swipeGestureChanged"],root:["rootChanged"]}]);function lU(){if(typeof customElements>"u")return;["ion-nav"].forEach(e=>{e==="ion-nav"&&(customElements.get(e)||customElements.define(e,aU))})}const cU=lU;const uU=":host(.tab-hidden){display:none !important}",dU=wi(class extends vi{constructor(e){super(),e!==!1&&this.__registerHost(),this.__attachShadow(),this.loaded=!1,this.active=!1}async componentWillLoad(){this.active&&await this.setActive()}async setActive(){await this.prepareLazyLoaded(),this.active=!0}changeActive(e){e&&this.prepareLazyLoaded()}prepareLazyLoaded(){if(!this.loaded&&this.component!=null){this.loaded=!0;try{return h0(this.delegate,this.el,this.component,["ion-page"])}catch(e){Hu("[ion-tab] - Exception in prepareLazyLoaded:",e)}}return Promise.resolve(void 0)}render(){const{tab:e,active:n,component:r}=this;return Dt(so,{key:"dbad8fe9f1566277d14647626308eaf1601ab01f",role:"tabpanel","aria-hidden":n?null:"true","aria-labelledby":`tab-button-${e}`,class:{"ion-page":r===void 0,"tab-hidden":!n}},Dt("slot",{key:"3be64f4e7161f6769aaf8e4dcb5293fcaa09af45"}))}get el(){return this}static get watchers(){return{active:["changeActive"]}}static get style(){return uU}},[257,"ion-tab",{active:[1028],delegate:[16],tab:[1],component:[1],setActive:[64]},void 0,{active:["changeActive"]}]);function hU(){if(typeof customElements>"u")return;["ion-tab"].forEach(e=>{e==="ion-tab"&&(customElements.get(e)||customElements.define(e,dU))})}const fU=hU,pU="html.plt-mobile ion-app{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}html.plt-mobile ion-app [contenteditable]{-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text}ion-app.force-statusbar-padding{--ion-safe-area-top:20px}",mU=wi(class extends vi{constructor(e){super(),e!==!1&&this.__registerHost()}componentDidLoad(){yU(async()=>{const e=dl(window,"hybrid");if(Pt.getBoolean("_testing")||ii(()=>import("./index7-DXgdCtjY.js"),[],import.meta.url).then(s=>s.startTapClick(Pt)),Pt.getBoolean("statusTap",e)&&ii(()=>import("./status-tap-nrozFgTC.js"),__vite__mapDeps([0,1]),import.meta.url).then(s=>s.startStatusTap()),Pt.getBoolean("inputShims",gU())){const s=dl(window,"ios")?"ios":"android";ii(()=>import("./input-shims-DTajyfS1.js"),__vite__mapDeps([2,1]),import.meta.url).then(i=>i.startInputShims(Pt,s))}const n=await ii(()=>Promise.resolve().then(()=>RB),void 0,import.meta.url),r=e||Hm();Pt.getBoolean("hardwareBackButton",r)?n.startHardwareBackButton():(Hm()&&Ug("[ion-app] - experimentalCloseWatcher was set to `true`, but hardwareBackButton was set to `false`. Both config options must be `true` for the Close Watcher API to be used."),n.blockHardwareBackButton()),typeof window<"u"&&ii(()=>import("./keyboard-wqw5TL1M.js"),[],import.meta.url).then(s=>s.startKeyboardAssist(window)),ii(()=>import("./focus-visible-DY9QzpaF.js"),[],import.meta.url).then(s=>this.focusVisible=s.startFocusVisible())})}async setFocus(e){this.focusVisible&&this.focusVisible.setFocus(e)}render(){const e=ui(this);return Dt(so,{key:"9be440c65819e4fa67c2c3c6477ab40b3ad3eed3",class:{[e]:!0,"ion-page":!0,"force-statusbar-padding":Pt.getBoolean("_forceStatusbarPadding")}})}get el(){return this}static get style(){return pU}},[256,"ion-app",{setFocus:[64]}]),gU=()=>!!(dl(window,"ios")&&dl(window,"mobile")||dl(window,"android")&&dl(window,"mobileweb")),yU=t=>{"requestIdleCallback"in window?window.requestIdleCallback(t):setTimeout(t,32)};function vU(){if(typeof customElements>"u")return;["ion-app"].forEach(e=>{e==="ion-app"&&(customElements.get(e)||customElements.define(e,mU))})}const wU=vU;const _U=':host{--background:transparent;--color-focused:currentColor;--color-hover:currentColor;--icon-margin-top:0;--icon-margin-bottom:0;--icon-padding-top:0;--icon-padding-end:0;--icon-padding-bottom:0;--icon-padding-start:0;--margin-top:0;--margin-end:0;--margin-bottom:0;--margin-start:0;--min-width:auto;--min-height:auto;--padding-top:0;--padding-end:0;--padding-bottom:0;--padding-start:0;--opacity:1;--ripple-color:currentColor;--transition:background-color, opacity 100ms linear;display:none;min-width:var(--min-width);min-height:var(--min-height);color:var(--color);font-family:var(--ion-font-family, inherit);text-align:center;text-decoration:none;text-overflow:ellipsis;text-transform:none;white-space:nowrap;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-font-kerning:none;font-kerning:none}ion-ripple-effect{color:var(--ripple-color)}:host(.ion-color) .button-native{color:var(--ion-color-base)}:host(.show-back-button){display:block}:host(.back-button-disabled){cursor:default;opacity:0.5;pointer-events:none}.button-native{border-radius:var(--border-radius);-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;-webkit-margin-start:var(--margin-start);margin-inline-start:var(--margin-start);-webkit-margin-end:var(--margin-end);margin-inline-end:var(--margin-end);margin-top:var(--margin-top);margin-bottom:var(--margin-bottom);-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:block;position:relative;width:100%;height:100%;min-height:inherit;-webkit-transition:var(--transition);transition:var(--transition);border:0;outline:none;background:var(--background);line-height:1;cursor:pointer;opacity:var(--opacity);overflow:hidden;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:0;-webkit-appearance:none;-moz-appearance:none;appearance:none}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;z-index:1}ion-icon{-webkit-padding-start:var(--icon-padding-start);padding-inline-start:var(--icon-padding-start);-webkit-padding-end:var(--icon-padding-end);padding-inline-end:var(--icon-padding-end);padding-top:var(--icon-padding-top);padding-bottom:var(--icon-padding-bottom);-webkit-margin-start:var(--icon-margin-start);margin-inline-start:var(--icon-margin-start);-webkit-margin-end:var(--icon-margin-end);margin-inline-end:var(--icon-margin-end);margin-top:var(--icon-margin-top);margin-bottom:var(--icon-margin-bottom);display:inherit;font-size:var(--icon-font-size);font-weight:var(--icon-font-weight);pointer-events:none}:host(.ion-focused) .button-native{color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}@media (any-hover: hover){:host(:hover) .button-native{color:var(--color-hover)}:host(:hover) .button-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity)}}:host(.ion-color.ion-focused) .button-native{color:var(--ion-color-base)}@media (any-hover: hover){:host(.ion-color:hover) .button-native{color:var(--ion-color-base)}}:host(.in-toolbar:not(.in-toolbar-color)){color:var(--ion-toolbar-color, var(--color))}:host{--background-hover:transparent;--background-hover-opacity:1;--background-focused:currentColor;--background-focused-opacity:.1;--border-radius:4px;--color:var(--ion-color-primary, #0054e9);--icon-margin-end:1px;--icon-margin-start:-4px;--icon-font-size:1.6em;--min-height:32px;font-size:clamp(17px, 1.0625rem, 21.998px)}.button-native{-webkit-transform:translateZ(0);transform:translateZ(0);overflow:visible;z-index:99}:host(.ion-activated) .button-native{opacity:0.4}@media (any-hover: hover){:host(:hover){opacity:0.6}}',bU=':host{--background:transparent;--color-focused:currentColor;--color-hover:currentColor;--icon-margin-top:0;--icon-margin-bottom:0;--icon-padding-top:0;--icon-padding-end:0;--icon-padding-bottom:0;--icon-padding-start:0;--margin-top:0;--margin-end:0;--margin-bottom:0;--margin-start:0;--min-width:auto;--min-height:auto;--padding-top:0;--padding-end:0;--padding-bottom:0;--padding-start:0;--opacity:1;--ripple-color:currentColor;--transition:background-color, opacity 100ms linear;display:none;min-width:var(--min-width);min-height:var(--min-height);color:var(--color);font-family:var(--ion-font-family, inherit);text-align:center;text-decoration:none;text-overflow:ellipsis;text-transform:none;white-space:nowrap;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-font-kerning:none;font-kerning:none}ion-ripple-effect{color:var(--ripple-color)}:host(.ion-color) .button-native{color:var(--ion-color-base)}:host(.show-back-button){display:block}:host(.back-button-disabled){cursor:default;opacity:0.5;pointer-events:none}.button-native{border-radius:var(--border-radius);-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;-webkit-margin-start:var(--margin-start);margin-inline-start:var(--margin-start);-webkit-margin-end:var(--margin-end);margin-inline-end:var(--margin-end);margin-top:var(--margin-top);margin-bottom:var(--margin-bottom);-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:block;position:relative;width:100%;height:100%;min-height:inherit;-webkit-transition:var(--transition);transition:var(--transition);border:0;outline:none;background:var(--background);line-height:1;cursor:pointer;opacity:var(--opacity);overflow:hidden;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:0;-webkit-appearance:none;-moz-appearance:none;appearance:none}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;z-index:1}ion-icon{-webkit-padding-start:var(--icon-padding-start);padding-inline-start:var(--icon-padding-start);-webkit-padding-end:var(--icon-padding-end);padding-inline-end:var(--icon-padding-end);padding-top:var(--icon-padding-top);padding-bottom:var(--icon-padding-bottom);-webkit-margin-start:var(--icon-margin-start);margin-inline-start:var(--icon-margin-start);-webkit-margin-end:var(--icon-margin-end);margin-inline-end:var(--icon-margin-end);margin-top:var(--icon-margin-top);margin-bottom:var(--icon-margin-bottom);display:inherit;font-size:var(--icon-font-size);font-weight:var(--icon-font-weight);pointer-events:none}:host(.ion-focused) .button-native{color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}@media (any-hover: hover){:host(:hover) .button-native{color:var(--color-hover)}:host(:hover) .button-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity)}}:host(.ion-color.ion-focused) .button-native{color:var(--ion-color-base)}@media (any-hover: hover){:host(.ion-color:hover) .button-native{color:var(--ion-color-base)}}:host(.in-toolbar:not(.in-toolbar-color)){color:var(--ion-toolbar-color, var(--color))}:host{--border-radius:4px;--background-focused:currentColor;--background-focused-opacity:.12;--background-hover:currentColor;--background-hover-opacity:0.04;--color:currentColor;--icon-margin-end:0;--icon-margin-start:0;--icon-font-size:1.5rem;--icon-font-weight:normal;--min-height:32px;--min-width:44px;--padding-start:12px;--padding-end:12px;font-size:0.875rem;font-weight:500;text-transform:uppercase}:host(.back-button-has-icon-only){--border-radius:50%;min-width:48px;min-height:48px;aspect-ratio:1/1}.button-native{-webkit-box-shadow:none;box-shadow:none}.button-text{-webkit-padding-start:4px;padding-inline-start:4px;-webkit-padding-end:4px;padding-inline-end:4px;padding-top:0;padding-bottom:0}ion-icon{line-height:0.67;text-align:start}@media (any-hover: hover){:host(.ion-color:hover) .button-native::after{background:var(--ion-color-base)}}:host(.ion-color.ion-focused) .button-native::after{background:var(--ion-color-base)}',xU=wi(class extends vi{constructor(e){super(),e!==!1&&this.__registerHost(),this.__attachShadow(),this.inheritedAttributes={},this.disabled=!1,this.type="button",this.onClick=async n=>{const r=this.el.closest("ion-nav");return n.preventDefault(),r&&await r.canGoBack()?r.pop({animationBuilder:this.routerAnimation,skipIfBusy:!0}):SB(this.defaultHref,n,"back",this.routerAnimation)}}componentWillLoad(){this.inheritedAttributes=q4(this.el),this.defaultHref===void 0&&(this.defaultHref=Pt.get("backButtonDefaultHref"))}get backButtonIcon(){const e=this.icon;return e??(ui(this)==="ios"?Pt.get("backButtonIcon",NB):Pt.get("backButtonIcon",DB))}get backButtonText(){const e=ui(this)==="ios"?"Back":null;return this.text!=null?this.text:Pt.get("backButtonText",e)}get hasIconOnly(){return this.backButtonIcon&&!this.backButtonText}get rippleType(){return this.hasIconOnly?"unbounded":"bounded"}render(){const{color:e,defaultHref:n,disabled:r,type:s,hasIconOnly:i,backButtonIcon:a,backButtonText:l,icon:u,inheritedAttributes:d}=this,f=n!==void 0,g=ui(this),y=d["aria-label"]||l||"back";return Dt(so,{key:"5466624a10f1ab56f5469e6dc07080303880f2fe",onClick:this.onClick,class:r1(e,{[g]:!0,button:!0,"back-button-disabled":r,"back-button-has-icon-only":i,"in-toolbar":$I("ion-toolbar",this.el),"in-toolbar-color":$I("ion-toolbar[color]",this.el),"ion-activatable":!0,"ion-focusable":!0,"show-back-button":f})},Dt("button",{key:"63bc75ef0ad7cc9fb79e58217a3314b20acd73e3",type:s,disabled:r,class:"button-native",part:"native","aria-label":y},Dt("span",{key:"5d3eacbd11af2245c6e1151cab446a0d96559ad8",class:"button-inner"},a&&Dt("ion-icon",{key:"6439af0ae463764174e7d3207f02267811df666d",part:"icon",icon:a,"aria-hidden":"true",lazy:!1,"flip-rtl":u===void 0}),l&&Dt("span",{key:"8ee89fb18dfdb5b75948a8b197ff4cdbc008742f",part:"text","aria-hidden":"true",class:"button-text"},l)),g==="md"&&Dt("ion-ripple-effect",{key:"63803a884998bc73bea5afe0b2a0a14e3fa4d6bf",type:this.rippleType})))}get el(){return this}static get style(){return{ios:_U,md:bU}}},[289,"ion-back-button",{color:[513],defaultHref:[1025,"default-href"],disabled:[516],icon:[1],text:[1],type:[1],routerAnimation:[16]}]);function EU(){if(typeof customElements>"u")return;["ion-back-button","ion-icon","ion-ripple-effect"].forEach(e=>{switch(e){case"ion-back-button":customElements.get(e)||customElements.define(e,xU);break;case"ion-icon":customElements.get(e)||QB();break;case"ion-ripple-effect":customElements.get(e)||c1();break}})}const TU=EU,SU=":host{left:0;right:0;top:0;bottom:0;position:absolute;contain:layout size style;z-index:0}",IU=wi(class extends vi{constructor(e){super(),e!==!1&&this.__registerHost(),this.__attachShadow(),this.ionNavWillLoad=gs(this,"ionNavWillLoad",7),this.ionNavWillChange=gs(this,"ionNavWillChange",3),this.ionNavDidChange=gs(this,"ionNavDidChange",3),this.lockController=nU(),this.gestureOrAnimationInProgress=!1,this.mode=ui(this),this.animated=!0}swipeHandlerChanged(){this.gesture&&this.gesture.enable(this.swipeHandler!==void 0)}async connectedCallback(){const e=()=>{this.gestureOrAnimationInProgress=!0,this.swipeHandler&&this.swipeHandler.onStart()};this.gesture=(await ii(async()=>{const{createSwipeBackGesture:n}=await import("./swipe-back-Dv121LoB.js");return{createSwipeBackGesture:n}},[],import.meta.url)).createSwipeBackGesture(this.el,()=>!this.gestureOrAnimationInProgress&&!!this.swipeHandler&&this.swipeHandler.canStart(),()=>e(),n=>{var r;return(r=this.ani)===null||r===void 0?void 0:r.progressStep(n)},(n,r,s)=>{if(this.ani){this.ani.onFinish(()=>{this.gestureOrAnimationInProgress=!1,this.swipeHandler&&this.swipeHandler.onEnd(n)},{oneTimeCallback:!0});let i=n?-.001:.001;n?i+=Wm([0,0],[.32,.72],[0,1],[1,1],r)[0]:(this.ani.easing("cubic-bezier(1, 0, 0.68, 0.28)"),i+=Wm([0,0],[1,0],[.68,.28],[1,1],r)[0]),this.ani.progressEnd(n?1:0,i,s)}else this.gestureOrAnimationInProgress=!1}),this.swipeHandlerChanged()}componentWillLoad(){this.ionNavWillLoad.emit()}disconnectedCallback(){this.gesture&&(this.gesture.destroy(),this.gesture=void 0)}async commit(e,n,r){const s=await this.lockController.lock();let i=!1;try{i=await this.transition(e,n,r)}catch(a){Hu("[ion-router-outlet] - Exception in commit:",a)}return s(),i}async setRouteId(e,n,r,s){return{changed:await this.setRoot(e,n,{duration:r==="root"?0:void 0,direction:r==="back"?"back":"forward",animationBuilder:s}),element:this.activeEl}}async getRouteId(){const e=this.activeEl;return e?{id:e.tagName,element:e,params:this.activeParams}:void 0}async setRoot(e,n,r){if(this.activeComponent===e&&zk(n,this.activeParams))return!1;const s=this.activeEl,i=await h0(this.delegate,this.el,e,["ion-page","ion-page-invisible"],n);return this.activeComponent=e,this.activeEl=i,this.activeParams=n,await this.commit(i,s,r),await kB(this.delegate,s),!0}async transition(e,n,r={}){if(n===e)return!1;this.ionNavWillChange.emit();const{el:s,mode:i}=this,a=this.animated&&Pt.getBoolean("animated",!0),l=r.animationBuilder||this.animation||Pt.get("navAnimation");return await Kk(Object.assign(Object.assign({mode:i,animated:a,enteringEl:e,leavingEl:n,baseEl:s,deepWait:W4(s),progressCallback:r.progressAnimation?u=>{u!==void 0&&!this.gestureOrAnimationInProgress?(this.gestureOrAnimationInProgress=!0,u.onFinish(()=>{this.gestureOrAnimationInProgress=!1,this.swipeHandler&&this.swipeHandler.onEnd(!1)},{oneTimeCallback:!0}),u.progressEnd(0,0,0)):this.ani=u}:void 0},r),{animationBuilder:l})),this.ionNavDidChange.emit(),!0}render(){return Dt("slot",{key:"84b50f1155b0d780dff802ee13223287259fd525"})}get el(){return this}static get watchers(){return{swipeHandler:["swipeHandlerChanged"]}}static get style(){return SU}},[257,"ion-router-outlet",{mode:[1025],delegate:[16],animated:[4],animation:[16],swipeHandler:[16],commit:[64],setRouteId:[64],getRouteId:[64]},void 0,{swipeHandler:["swipeHandlerChanged"]}]);function CU(){if(typeof customElements>"u")return;["ion-router-outlet"].forEach(e=>{e==="ion-router-outlet"&&(customElements.get(e)||customElements.define(e,IU))})}const AU=CU;const PU=":host{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:auto;padding-right:var(--ion-safe-area-right);padding-bottom:var(--ion-safe-area-bottom, 0);padding-left:var(--ion-safe-area-left);border-top:var(--border);background:var(--background);color:var(--color);text-align:center;contain:strict;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:10;-webkit-box-sizing:content-box !important;box-sizing:content-box !important}:host(.ion-color) ::slotted(ion-tab-button){--background-focused:var(--ion-color-shade);--color-selected:var(--ion-color-contrast)}:host(.ion-color) ::slotted(.tab-selected){color:var(--ion-color-contrast)}:host(.ion-color),:host(.ion-color) ::slotted(ion-tab-button){color:rgba(var(--ion-color-contrast-rgb), 0.7)}:host(.ion-color),:host(.ion-color) ::slotted(ion-tab-button){background:var(--ion-color-base)}:host(.ion-color) ::slotted(ion-tab-button.ion-focused),:host(.tab-bar-translucent) ::slotted(ion-tab-button.ion-focused){background:var(--background-focused)}:host(.tab-bar-translucent) ::slotted(ion-tab-button){background:transparent}:host([slot=top]){padding-top:var(--ion-safe-area-top, 0);padding-bottom:0;border-top:0;border-bottom:var(--border)}:host(.tab-bar-hidden){display:none !important}:host{--background:var(--ion-tab-bar-background, var(--ion-color-step-50, var(--ion-background-color-step-50, #f7f7f7)));--background-focused:var(--ion-tab-bar-background-focused, #e0e0e0);--border:0.55px solid var(--ion-tab-bar-border-color, var(--ion-border-color, var(--ion-color-step-150, var(--ion-background-color-step-150, rgba(0, 0, 0, 0.2)))));--color:var(--ion-tab-bar-color, var(--ion-color-step-600, var(--ion-text-color-step-400, #666666)));--color-selected:var(--ion-tab-bar-color-selected, var(--ion-color-primary, #0054e9));height:50px}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){:host(.tab-bar-translucent){--background:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8);-webkit-backdrop-filter:saturate(210%) blur(20px);backdrop-filter:saturate(210%) blur(20px)}:host(.ion-color.tab-bar-translucent){background:rgba(var(--ion-color-base-rgb), 0.8)}:host(.tab-bar-translucent) ::slotted(ion-tab-button.ion-focused){background:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.6)}}",RU=":host{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:auto;padding-right:var(--ion-safe-area-right);padding-bottom:var(--ion-safe-area-bottom, 0);padding-left:var(--ion-safe-area-left);border-top:var(--border);background:var(--background);color:var(--color);text-align:center;contain:strict;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:10;-webkit-box-sizing:content-box !important;box-sizing:content-box !important}:host(.ion-color) ::slotted(ion-tab-button){--background-focused:var(--ion-color-shade);--color-selected:var(--ion-color-contrast)}:host(.ion-color) ::slotted(.tab-selected){color:var(--ion-color-contrast)}:host(.ion-color),:host(.ion-color) ::slotted(ion-tab-button){color:rgba(var(--ion-color-contrast-rgb), 0.7)}:host(.ion-color),:host(.ion-color) ::slotted(ion-tab-button){background:var(--ion-color-base)}:host(.ion-color) ::slotted(ion-tab-button.ion-focused),:host(.tab-bar-translucent) ::slotted(ion-tab-button.ion-focused){background:var(--background-focused)}:host(.tab-bar-translucent) ::slotted(ion-tab-button){background:transparent}:host([slot=top]){padding-top:var(--ion-safe-area-top, 0);padding-bottom:0;border-top:0;border-bottom:var(--border)}:host(.tab-bar-hidden){display:none !important}:host{--background:var(--ion-tab-bar-background, var(--ion-background-color, #fff));--background-focused:var(--ion-tab-bar-background-focused, #e0e0e0);--border:1px solid var(--ion-tab-bar-border-color, var(--ion-border-color, var(--ion-color-step-150, var(--ion-background-color-step-150, rgba(0, 0, 0, 0.07)))));--color:var(--ion-tab-bar-color, var(--ion-color-step-650, var(--ion-text-color-step-350, #595959)));--color-selected:var(--ion-tab-bar-color-selected, var(--ion-color-primary, #0054e9));height:56px}",kU=wi(class extends vi{constructor(e){super(),e!==!1&&this.__registerHost(),this.__attachShadow(),this.ionTabBarChanged=gs(this,"ionTabBarChanged",7),this.ionTabBarLoaded=gs(this,"ionTabBarLoaded",7),this.keyboardCtrl=null,this.didLoad=!1,this.keyboardVisible=!1,this.translucent=!1}selectedTabChanged(){this.didLoad&&this.selectedTab!==void 0&&this.ionTabBarChanged.emit({tab:this.selectedTab})}componentDidLoad(){this.ionTabBarLoaded.emit(),this.didLoad=!0,this.selectedTab!==void 0&&this.ionTabBarChanged.emit({tab:this.selectedTab})}async connectedCallback(){this.keyboardCtrl=await sU(async(e,n)=>{e===!1&&n!==void 0&&await n,this.keyboardVisible=e})}disconnectedCallback(){this.keyboardCtrl&&this.keyboardCtrl.destroy()}render(){const{color:e,translucent:n,keyboardVisible:r}=this,s=ui(this),i=r&&this.el.getAttribute("slot")!=="top";return Dt(so,{key:"388ec37ce308035bab78d6c9a016bb616e9517a9",role:"tablist","aria-hidden":i?"true":null,class:r1(e,{[s]:!0,"tab-bar-translucent":n,"tab-bar-hidden":i})},Dt("slot",{key:"ce10ade2b86725e24f3254516483eeedd8ecb16a"}))}get el(){return this}static get watchers(){return{selectedTab:["selectedTabChanged"]}}static get style(){return{ios:PU,md:RU}}},[289,"ion-tab-bar",{color:[513],selectedTab:[1,"selected-tab"],translucent:[4],keyboardVisible:[32]},void 0,{selectedTab:["selectedTabChanged"]}]);function DU(){if(typeof customElements>"u")return;["ion-tab-bar"].forEach(e=>{e==="ion-tab-bar"&&(customElements.get(e)||customElements.define(e,kU))})}const NU=DU;const OU=':host{--ripple-color:var(--color-selected);--background-focused-opacity:1;-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;height:100%;outline:none;background:var(--background);color:var(--color)}.button-native{border-radius:inherit;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:-ms-flexbox;display:flex;position:relative;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;height:100%;border:0;outline:none;background:transparent;text-decoration:none;cursor:pointer;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-user-drag:none}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:inherit;flex-flow:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;height:100%;z-index:1}:host(.ion-focused) .button-native{color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}@media (any-hover: hover){a:hover{color:var(--color-selected)}}:host(.tab-selected){color:var(--color-selected)}:host(.tab-hidden){display:none !important}:host(.tab-disabled){pointer-events:none;opacity:0.4}::slotted(ion-label),::slotted(ion-icon){display:block;-ms-flex-item-align:center;align-self:center;max-width:100%;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box}::slotted(ion-label){-ms-flex-order:0;order:0}::slotted(ion-icon){-ms-flex-order:-1;order:-1;height:1em}:host(.tab-has-label-only) ::slotted(ion-label){white-space:normal}::slotted(ion-badge){-webkit-box-sizing:border-box;box-sizing:border-box;position:absolute;z-index:1}:host(.tab-layout-icon-start){-ms-flex-direction:row;flex-direction:row}:host(.tab-layout-icon-end){-ms-flex-direction:row-reverse;flex-direction:row-reverse}:host(.tab-layout-icon-bottom){-ms-flex-direction:column-reverse;flex-direction:column-reverse}:host(.tab-layout-icon-hide) ::slotted(ion-icon){display:none}:host(.tab-layout-label-hide) ::slotted(ion-label){display:none}ion-ripple-effect{color:var(--ripple-color)}:host{--padding-top:0;--padding-end:2px;--padding-bottom:0;--padding-start:2px;max-width:240px;font-size:10px}::slotted(ion-badge){-webkit-padding-start:6px;padding-inline-start:6px;-webkit-padding-end:6px;padding-inline-end:6px;padding-top:1px;padding-bottom:1px;top:4px;height:auto;font-size:12px;line-height:16px}::slotted(ion-badge){inset-inline-start:calc(50% + 6px)}::slotted(ion-icon){margin-top:2px;margin-bottom:2px;font-size:24px}::slotted(ion-icon::before){vertical-align:top}::slotted(ion-label){margin-top:0;margin-bottom:1px;min-height:11px;font-weight:500}:host(.tab-has-label-only) ::slotted(ion-label){margin-left:0;margin-right:0;margin-top:2px;margin-bottom:2px;font-size:12px;font-size:14px;line-height:1.1}:host(.tab-layout-icon-end) ::slotted(ion-label),:host(.tab-layout-icon-start) ::slotted(ion-label),:host(.tab-layout-icon-hide) ::slotted(ion-label){margin-top:2px;margin-bottom:2px;font-size:14px;line-height:1.1}:host(.tab-layout-icon-end) ::slotted(ion-icon),:host(.tab-layout-icon-start) ::slotted(ion-icon){min-width:24px;height:26px;margin-top:2px;margin-bottom:1px;font-size:24px}:host(.tab-layout-icon-bottom) ::slotted(ion-badge){inset-inline-start:calc(50% + 12px)}:host(.tab-layout-icon-bottom) ::slotted(ion-icon){margin-top:0;margin-bottom:1px}:host(.tab-layout-icon-bottom) ::slotted(ion-label){margin-top:4px}:host(.tab-layout-icon-start) ::slotted(ion-badge),:host(.tab-layout-icon-end) ::slotted(ion-badge){top:10px}:host(.tab-layout-icon-start) ::slotted(ion-badge),:host(.tab-layout-icon-end) ::slotted(ion-badge){inset-inline-start:calc(50% + 35px)}:host(.tab-layout-icon-hide) ::slotted(ion-badge),:host(.tab-has-label-only) ::slotted(ion-badge){top:10px}:host(.tab-layout-icon-hide) ::slotted(ion-badge),:host(.tab-has-label-only) ::slotted(ion-badge){inset-inline-start:calc(50% + 30px)}:host(.tab-layout-label-hide) ::slotted(ion-badge),:host(.tab-has-icon-only) ::slotted(ion-badge){top:10px}:host(.tab-layout-label-hide) ::slotted(ion-icon){margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}:host(.tab-layout-label-hide) ::slotted(ion-icon),:host(.tab-has-icon-only) ::slotted(ion-icon){font-size:30px}',VU=':host{--ripple-color:var(--color-selected);--background-focused-opacity:1;-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;height:100%;outline:none;background:var(--background);color:var(--color)}.button-native{border-radius:inherit;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:-ms-flexbox;display:flex;position:relative;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;height:100%;border:0;outline:none;background:transparent;text-decoration:none;cursor:pointer;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-user-drag:none}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:inherit;flex-flow:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;height:100%;z-index:1}:host(.ion-focused) .button-native{color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}@media (any-hover: hover){a:hover{color:var(--color-selected)}}:host(.tab-selected){color:var(--color-selected)}:host(.tab-hidden){display:none !important}:host(.tab-disabled){pointer-events:none;opacity:0.4}::slotted(ion-label),::slotted(ion-icon){display:block;-ms-flex-item-align:center;align-self:center;max-width:100%;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box}::slotted(ion-label){-ms-flex-order:0;order:0}::slotted(ion-icon){-ms-flex-order:-1;order:-1;height:1em}:host(.tab-has-label-only) ::slotted(ion-label){white-space:normal}::slotted(ion-badge){-webkit-box-sizing:border-box;box-sizing:border-box;position:absolute;z-index:1}:host(.tab-layout-icon-start){-ms-flex-direction:row;flex-direction:row}:host(.tab-layout-icon-end){-ms-flex-direction:row-reverse;flex-direction:row-reverse}:host(.tab-layout-icon-bottom){-ms-flex-direction:column-reverse;flex-direction:column-reverse}:host(.tab-layout-icon-hide) ::slotted(ion-icon){display:none}:host(.tab-layout-label-hide) ::slotted(ion-label){display:none}ion-ripple-effect{color:var(--ripple-color)}:host{--padding-top:0;--padding-end:12px;--padding-bottom:0;--padding-start:12px;max-width:168px;font-size:12px;font-weight:normal;letter-spacing:0.03em}::slotted(ion-label){margin-left:0;margin-right:0;margin-top:2px;margin-bottom:2px;text-transform:none}::slotted(ion-icon){margin-left:0;margin-right:0;margin-top:16px;margin-bottom:16px;-webkit-transform-origin:center center;transform-origin:center center;font-size:22px}:host-context([dir=rtl]) ::slotted(ion-icon){-webkit-transform-origin:calc(100% - center) center;transform-origin:calc(100% - center) center}[dir=rtl] ::slotted(ion-icon){-webkit-transform-origin:calc(100% - center) center;transform-origin:calc(100% - center) center}@supports selector(:dir(rtl)){::slotted(ion-icon):dir(rtl){-webkit-transform-origin:calc(100% - center) center;transform-origin:calc(100% - center) center}}::slotted(ion-badge){border-radius:8px;-webkit-padding-start:2px;padding-inline-start:2px;-webkit-padding-end:2px;padding-inline-end:2px;padding-top:3px;padding-bottom:2px;top:8px;min-width:12px;font-size:8px;font-weight:normal}::slotted(ion-badge){inset-inline-start:calc(50% + 6px)}::slotted(ion-badge:empty){display:block;min-width:8px;height:8px}:host(.tab-layout-icon-top) ::slotted(ion-icon){margin-top:6px;margin-bottom:2px}:host(.tab-layout-icon-top) ::slotted(ion-label){margin-top:0;margin-bottom:6px}:host(.tab-layout-icon-bottom) ::slotted(ion-badge){top:8px}:host(.tab-layout-icon-bottom) ::slotted(ion-badge){inset-inline-start:70%}:host(.tab-layout-icon-bottom) ::slotted(ion-icon){margin-top:0;margin-bottom:6px}:host(.tab-layout-icon-bottom) ::slotted(ion-label){margin-top:6px;margin-bottom:0}:host(.tab-layout-icon-start) ::slotted(ion-badge),:host(.tab-layout-icon-end) ::slotted(ion-badge){top:16px}:host(.tab-layout-icon-start) ::slotted(ion-badge),:host(.tab-layout-icon-end) ::slotted(ion-badge){inset-inline-start:80%}:host(.tab-layout-icon-start) ::slotted(ion-icon){-webkit-margin-end:6px;margin-inline-end:6px}:host(.tab-layout-icon-end) ::slotted(ion-icon){-webkit-margin-start:6px;margin-inline-start:6px}:host(.tab-layout-icon-hide) ::slotted(ion-badge),:host(.tab-has-label-only) ::slotted(ion-badge){top:16px}:host(.tab-layout-icon-hide) ::slotted(ion-badge),:host(.tab-has-label-only) ::slotted(ion-badge){inset-inline-start:70%}:host(.tab-layout-icon-hide) ::slotted(ion-label),:host(.tab-has-label-only) ::slotted(ion-label){margin-top:0;margin-bottom:0}:host(.tab-layout-label-hide) ::slotted(ion-badge),:host(.tab-has-icon-only) ::slotted(ion-badge){top:16px}:host(.tab-layout-label-hide) ::slotted(ion-icon),:host(.tab-has-icon-only) ::slotted(ion-icon){margin-top:0;margin-bottom:0;font-size:24px}',LU=wi(class extends vi{constructor(e){super(),e!==!1&&this.__registerHost(),this.__attachShadow(),this.ionTabButtonClick=gs(this,"ionTabButtonClick",7),this.inheritedAttributes={},this.disabled=!1,this.selected=!1,this.onKeyUp=n=>{(n.key==="Enter"||n.key===" ")&&this.selectTab(n)},this.onClick=n=>{this.selectTab(n)}}onTabBarChanged(e){const n=e.target,r=this.el.parentElement;(e.composedPath().includes(r)||n?.contains(this.el))&&(this.selected=this.tab===e.detail.tab)}componentWillLoad(){this.inheritedAttributes=Object.assign({},Bk(this.el,["aria-label"])),this.layout===void 0&&(this.layout=Pt.get("tabButtonLayout","icon-top"))}selectTab(e){this.tab!==void 0&&(this.disabled||this.ionTabButtonClick.emit({tab:this.tab,href:this.href,selected:this.selected}),e.preventDefault())}get hasLabel(){return!!this.el.querySelector("ion-label")}get hasIcon(){return!!this.el.querySelector("ion-icon")}render(){const{disabled:e,hasIcon:n,hasLabel:r,href:s,rel:i,target:a,layout:l,selected:u,tab:d,inheritedAttributes:f}=this,g=ui(this),y={download:this.download,href:s,rel:i,target:a};return Dt(so,{key:"ce9d29ced0c781d6b2fa62cd5feb801c11fc42e8",onClick:this.onClick,onKeyup:this.onKeyUp,id:d!==void 0?`tab-button-${d}`:null,class:{[g]:!0,"tab-selected":u,"tab-disabled":e,"tab-has-label":r,"tab-has-icon":n,"tab-has-label-only":r&&!n,"tab-has-icon-only":n&&!r,[`tab-layout-${l}`]:!0,"ion-activatable":!0,"ion-selectable":!0,"ion-focusable":!0}},Dt("a",Object.assign({key:"01cb0ed2e77c5c1a8abd48da1bb07ac1b305d0b6"},y,{class:"button-native",part:"native",role:"tab","aria-selected":u?"true":null,"aria-disabled":e?"true":null,tabindex:e?"-1":void 0},f),Dt("span",{key:"d0240c05f42217cfb186b86ff8a0c9cd70b9c8df",class:"button-inner"},Dt("slot",{key:"0a20b84925037dbaa8bb4a495b813d3f7c2e58ac"})),g==="md"&&Dt("ion-ripple-effect",{key:"4c92c27178cdac89d69cffef8d2c39c3644914e8",type:"unbounded"})))}get el(){return this}static get style(){return{ios:OU,md:VU}}},[289,"ion-tab-button",{disabled:[4],download:[1],href:[1],rel:[1],layout:[1025],selected:[1028],tab:[1],target:[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]]);function MU(){if(typeof customElements>"u")return;["ion-tab-button","ion-ripple-effect"].forEach(e=>{switch(e){case"ion-tab-button":customElements.get(e)||customElements.define(e,LU);break;case"ion-ripple-effect":customElements.get(e)||c1();break}})}const $U=MU;const jU=":host{left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:absolute;-ms-flex-direction:column;flex-direction:column;width:100%;height:100%;contain:layout size style;z-index:0}.tabs-inner{position:relative;-ms-flex:1;flex:1;contain:layout size style}",FU=wi(class extends vi{constructor(e){super(),e!==!1&&this.__registerHost(),this.__attachShadow(),this.ionNavWillLoad=gs(this,"ionNavWillLoad",7),this.ionTabsWillChange=gs(this,"ionTabsWillChange",3),this.ionTabsDidChange=gs(this,"ionTabsDidChange",3),this.transitioning=!1,this.useRouter=!1,this.onTabClicked=n=>{const{href:r,tab:s}=n.detail;if(this.useRouter&&r!==void 0){const i=document.querySelector("ion-router");i&&i.push(r)}else this.select(s)}}async componentWillLoad(){if(this.useRouter||(this.useRouter=(!!this.el.querySelector("ion-router-outlet")||!!document.querySelector("ion-router"))&&!this.el.closest("[no-router]")),!this.useRouter){const e=this.tabs;e.length>0&&await this.select(e[0])}this.ionNavWillLoad.emit()}componentDidLoad(){this.updateTabBar()}componentDidUpdate(){this.updateTabBar()}updateTabBar(){const e=this.el.querySelector("ion-tab-bar");if(!e)return;const n=this.selectedTab?this.selectedTab.tab:void 0;n!==void 0&&e.selectedTab!==n&&(e.selectedTab=n)}async select(e){const n=xw(this.tabs,e);return this.shouldSwitch(n)?(await this.setActive(n),await this.notifyRouter(),this.tabSwitch(),!0):!1}async getTab(e){return xw(this.tabs,e)}getSelected(){return Promise.resolve(this.selectedTab?this.selectedTab.tab:void 0)}async setRouteId(e){const n=xw(this.tabs,e);return this.shouldSwitch(n)?(await this.setActive(n),{changed:!0,element:this.selectedTab,markVisible:()=>this.tabSwitch()}):{changed:!1,element:this.selectedTab}}async getRouteId(){var e;const n=(e=this.selectedTab)===null||e===void 0?void 0:e.tab;return n!==void 0?{id:n,element:this.selectedTab}:void 0}setActive(e){return this.transitioning?Promise.reject("transitioning already happening"):(this.transitioning=!0,this.leavingTab=this.selectedTab,this.selectedTab=e,this.ionTabsWillChange.emit({tab:e.tab}),e.active=!0,this.updateTabBar(),Promise.resolve())}tabSwitch(){const e=this.selectedTab,n=this.leavingTab;this.leavingTab=void 0,this.transitioning=!1,e&&n!==e&&(n&&(n.active=!1),this.ionTabsDidChange.emit({tab:e.tab}))}notifyRouter(){if(this.useRouter){const e=document.querySelector("ion-router");if(e)return e.navChanged("forward")}return Promise.resolve(!1)}shouldSwitch(e){const n=this.selectedTab;return e!==void 0&&e!==n&&!this.transitioning}get tabs(){return Array.from(this.el.querySelectorAll("ion-tab"))}render(){return Dt(so,{key:"7b4b302f2942d8d131f6fc24e817989a8be08867",onIonTabButtonClick:this.onTabClicked},Dt("slot",{key:"2c51cf14c0f17a8ddf2d879858c984cdf8fd3147",name:"top"}),Dt("div",{key:"7e9d6055092d41bd9bc80ae15965f77e216feb84",class:"tabs-inner"},Dt("slot",{key:"c308a787e37ff7f6653531d70deca597a7602d26"})),Dt("slot",{key:"d5f5e693710c853570811602f859cf3e88272684",name:"bottom"}))}get el(){return this}static get style(){return jU}},[257,"ion-tabs",{useRouter:[1028,"use-router"],selectedTab:[32],select:[64],getTab:[64],getSelected:[64],setRouteId:[64],getRouteId:[64]}]),xw=(t,e)=>{const n=typeof e=="string"?t.find(r=>r.tab===e):e;return n||Hu(`[ion-tabs] - Tab with id: "${n}" does not exist`),n};function BU(){if(typeof customElements>"u")return;["ion-tabs"].forEach(e=>{e==="ion-tabs"&&(customElements.get(e)||customElements.define(e,FU))})}const UU=BU,zU="ionicons",Wg={hydratedSelectorName:"hydrated",lazyLoad:!1,updatable:!0};var WU=Object.defineProperty,HU=(t,e)=>{for(var n in e)WU(t,n,{get:e[n],enumerable:!0})},Tl=t=>{if(t.__stencil__getHostRef)return t.__stencil__getHostRef()},qU=(t,e)=>{const n={$flags$:0,$hostElement$:t,$cmpMeta$:e,$instanceValues$:new Map};n.$onReadyPromise$=new Promise(s=>n.$onReadyResolve$=s),t["s-p"]=[],t["s-rc"]=[];const r=n;return t.__stencil__getHostRef=()=>r,r},UI=(t,e)=>e in t,Hg=(t,e)=>(0,console.error)(t,e),Gm=new Map,KU="slot-fb{display:contents}slot-fb[hidden]{display:none}",zI="http://www.w3.org/1999/xlink",js=typeof window<"u"?window:{},GU=js.HTMLElement||class{},pa={$flags$:0,$resourcesUrl$:"",jmp:t=>t(),raf:t=>requestAnimationFrame(t),ael:(t,e,n,r)=>t.addEventListener(e,n,r),rel:(t,e,n,r)=>t.removeEventListener(e,n,r),ce:(t,e)=>new CustomEvent(t,e)},QU=t=>Promise.resolve(t),f1=(()=>{try{return new CSSStyleSheet,typeof new CSSStyleSheet().replaceSync=="function"}catch{}return!1})(),R_=!1,WI=[],p1=[],YU=(t,e)=>n=>{t.push(n),R_||(R_=!0,pa.raf(m1))},HI=t=>{for(let e=0;e<t.length;e++)try{t[e](performance.now())}catch(n){Hg(n)}t.length=0},m1=()=>{HI(WI),HI(p1),(R_=WI.length>0)&&pa.raf(m1)},f0=t=>QU().then(t),XU=YU(p1),ZU=t=>{const e=new URL(t,pa.$resourcesUrl$);return e.origin!==js.location.origin?e.href:e.pathname},p0=t=>(t=typeof t,t==="object"||t==="function");function JU(t){var e,n,r;return(r=(n=(e=t.head)==null?void 0:e.querySelector('meta[name="csp-nonce"]'))==null?void 0:n.getAttribute("content"))!=null?r:void 0}var ez=t=>t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),tz={};HU(tz,{err:()=>g1,map:()=>nz,ok:()=>k_,unwrap:()=>rz,unwrapErr:()=>sz});var k_=t=>({isOk:!0,isErr:!1,value:t}),g1=t=>({isOk:!1,isErr:!0,value:t});function nz(t,e){if(t.isOk){const n=e(t.value);return n instanceof Promise?n.then(r=>k_(r)):k_(n)}if(t.isErr){const n=t.value;return g1(n)}throw"should never get here"}var rz=t=>{if(t.isOk)return t.value;throw t.value},sz=t=>{if(t.isErr)return t.value;throw t.value};var Kp;function iz(t){var e;const n=this.attachShadow({mode:"open"});Kp===void 0&&(Kp=(e=void 0)!=null?e:null),Kp&&n.adoptedStyleSheets.push(Kp)}var Sl=(t,e="")=>()=>{},Yc=new WeakMap,oz=(t,e,n)=>{let r=Gm.get(t);f1&&n?(r=r||new CSSStyleSheet,typeof r=="string"?r=e:r.replaceSync(e)):r=e,Gm.set(t,r)},az=(t,e,n)=>{var r;const s=y1(e),i=Gm.get(s);if(!js.document)return s;if(t=t.nodeType===11?t:js.document,i)if(typeof i=="string"){t=t.head||t;let a=Yc.get(t),l;if(a||Yc.set(t,a=new Set),!a.has(s)){{l=js.document.createElement("style"),l.innerHTML=i;const u=(r=pa.$nonce$)!=null?r:JU(js.document);if(u!=null&&l.setAttribute("nonce",u),!(e.$flags$&1))if(t.nodeName==="HEAD"){const d=t.querySelectorAll("link[rel=preconnect]"),f=d.length>0?d[d.length-1].nextSibling:t.querySelector("style");t.insertBefore(l,f?.parentNode===t?f:null)}else if("host"in t)if(f1){const d=new CSSStyleSheet;d.replaceSync(i),t.adoptedStyleSheets.unshift(d)}else{const d=t.querySelector("style");d?d.innerHTML=i+d.innerHTML:t.prepend(l)}else t.append(l);e.$flags$&1&&t.insertBefore(l,null)}e.$flags$&4&&(l.innerHTML+=KU),a&&a.add(s)}}else t.adoptedStyleSheets.includes(i)||t.adoptedStyleSheets.push(i);return s},lz=t=>{const e=t.$cmpMeta$,n=t.$hostElement$,r=e.$flags$,s=Sl("attachStyles",e.$tagName$),i=az(n.shadowRoot?n.shadowRoot:n.getRootNode(),e);r&10&&(n["s-sc"]=i,n.classList.add(i+"-h")),s()},y1=(t,e)=>"sc-"+t.$tagName$,vm=(t,e,...n)=>{let r=null,s=null,i=!1,a=!1;const l=[],u=f=>{for(let g=0;g<f.length;g++)r=f[g],Array.isArray(r)?u(r):r!=null&&typeof r!="boolean"&&((i=typeof t!="function"&&!p0(r))&&(r=String(r)),i&&a?l[l.length-1].$text$+=r:l.push(i?D_(null,r):r),a=i)};if(u(n),e){e.key&&(s=e.key);{const f=e.className||e.class;f&&(e.class=typeof f!="object"?f:Object.keys(f).filter(g=>f[g]).join(" "))}}const d=D_(t,null);return d.$attrs$=e,l.length>0&&(d.$children$=l),d.$key$=s,d},D_=(t,e)=>{const n={$flags$:0,$tag$:t,$text$:e,$elm$:null,$children$:null};return n.$attrs$=null,n.$key$=null,n},v1={},cz=t=>t&&t.$tag$===v1,m0=t=>{const e=ez(t);return new RegExp(`(^|[^@]|@(?!supports\\s+selector\\s*\\([^{]*?${e}))(${e}\\b)`,"g")};m0("::slotted");m0(":host");m0(":host-context");var w1=(t,e,n)=>t!=null&&!p0(t)?e&4?t==="false"?!1:t===""||!!t:e&1?String(t):t:t,uz=(t,e,n)=>{const r=pa.ce(e,n);return t.dispatchEvent(r),r},qI=(t,e,n,r,s,i,a)=>{if(n===r)return;let l=UI(t,e),u=e.toLowerCase();if(e==="class"){const d=t.classList,f=KI(n);let g=KI(r);d.remove(...f.filter(y=>y&&!g.includes(y))),d.add(...g.filter(y=>y&&!f.includes(y)))}else if(e==="style"){for(const d in n)(!r||r[d]==null)&&(d.includes("-")?t.style.removeProperty(d):t.style[d]="");for(const d in r)(!n||r[d]!==n[d])&&(d.includes("-")?t.style.setProperty(d,r[d]):t.style[d]=r[d])}else if(e!=="key")if(e==="ref")r&&r(t);else if(!t.__lookupSetter__(e)&&e[0]==="o"&&e[1]==="n"){if(e[2]==="-"?e=e.slice(3):UI(js,u)?e=u.slice(2):e=u[2]+e.slice(3),n||r){const d=e.endsWith(_1);e=e.replace(hz,""),n&&pa.rel(t,e,n,d),r&&pa.ael(t,e,r,d)}}else{const d=p0(r);if(l||d&&r!==null)try{if(t.tagName.includes("-"))t[e]!==r&&(t[e]=r);else{const g=r??"";e==="list"?l=!1:(n==null||t[e]!=g)&&(typeof t.__lookupSetter__(e)=="function"?t[e]=g:t.setAttribute(e,g))}}catch{}let f=!1;u!==(u=u.replace(/^xlink\:?/,""))&&(e=u,f=!0),r==null||r===!1?(r!==!1||t.getAttribute(e)==="")&&(f?t.removeAttributeNS(zI,e):t.removeAttribute(e)):(!l||i&4||s)&&!d&&t.nodeType===1&&(r=r===!0?"":r,f?t.setAttributeNS(zI,e,r):t.setAttribute(e,r))}},dz=/\s/,KI=t=>(typeof t=="object"&&t&&"baseVal"in t&&(t=t.baseVal),!t||typeof t!="string"?[]:t.split(dz)),_1="Capture",hz=new RegExp(_1+"$"),b1=(t,e,n,r)=>{const s=e.$elm$.nodeType===11&&e.$elm$.host?e.$elm$.host:e.$elm$,i=t&&t.$attrs$||{},a=e.$attrs$||{};for(const l of GI(Object.keys(i)))l in a||qI(s,l,i[l],void 0,n,e.$flags$);for(const l of GI(Object.keys(a)))qI(s,l,i[l],a[l],n,e.$flags$)};function GI(t){return t.includes("ref")?[...t.filter(e=>e!=="ref"),"ref"]:t}var g0,x1=!1,Qm=(t,e,n)=>{const r=e.$children$[n];let s=0,i,a;if(r.$text$!==null)i=r.$elm$=js.document.createTextNode(r.$text$);else{if(!js.document)throw new Error("You are trying to render a Stencil component in an environment that doesn't support the DOM. Make sure to populate the [`window`](https://developer.mozilla.org/en-US/docs/Web/API/Window/window) object before rendering a component.");if(i=r.$elm$=js.document.createElement(r.$tag$),b1(null,r,x1),r.$children$)for(s=0;s<r.$children$.length;++s)a=Qm(t,r,s),a&&i.appendChild(a)}return i["s-hn"]=g0,i},E1=(t,e,n,r,s,i)=>{let a=t,l;for(a.shadowRoot&&a.tagName===g0&&(a=a.shadowRoot);s<=i;++s)r[s]&&(l=Qm(null,n,s),l&&(r[s].$elm$=l,wm(a,l,e)))},T1=(t,e,n)=>{for(let r=e;r<=n;++r){const s=t[r];if(s){const i=s.$elm$;S1(s),i&&i.remove()}}},fz=(t,e,n,r,s=!1)=>{let i=0,a=0,l=0,u=0,d=e.length-1,f=e[0],g=e[d],y=r.length-1,x=r[0],I=r[y],E,S;for(;i<=d&&a<=y;)if(f==null)f=e[++i];else if(g==null)g=e[--d];else if(x==null)x=r[++a];else if(I==null)I=r[--y];else if(Gp(f,x,s))Uc(f,x,s),f=e[++i],x=r[++a];else if(Gp(g,I,s))Uc(g,I,s),g=e[--d],I=r[--y];else if(Gp(f,I,s))Uc(f,I,s),wm(t,f.$elm$,g.$elm$.nextSibling),f=e[++i],I=r[--y];else if(Gp(g,x,s))Uc(g,x,s),wm(t,g.$elm$,f.$elm$),g=e[--d],x=r[++a];else{for(l=-1,u=i;u<=d;++u)if(e[u]&&e[u].$key$!==null&&e[u].$key$===x.$key$){l=u;break}l>=0?(S=e[l],S.$tag$!==x.$tag$?E=Qm(e&&e[a],n,l):(Uc(S,x,s),e[l]=void 0,E=S.$elm$),x=r[++a]):(E=Qm(e&&e[a],n,a),x=r[++a]),E&&wm(f.$elm$.parentNode,E,f.$elm$)}i>d?E1(t,r[y+1]==null?null:r[y+1].$elm$,n,r,a,y):a>y&&T1(e,i,d)},Gp=(t,e,n=!1)=>t.$tag$===e.$tag$?n?(n&&!t.$key$&&e.$key$&&(t.$key$=e.$key$),!0):t.$key$===e.$key$:!1,Uc=(t,e,n=!1)=>{const r=e.$elm$=t.$elm$,s=t.$children$,i=e.$children$,a=e.$text$;a===null?(b1(t,e,x1),s!==null&&i!==null?fz(r,s,e,i,n):i!==null?(t.$text$!==null&&(r.textContent=""),E1(r,null,e,i,0,i.length-1)):!n&&Wg.updatable&&s!==null&&T1(s,0,s.length-1)):t.$text$!==a&&(r.data=a)},S1=t=>{t.$attrs$&&t.$attrs$.ref&&t.$attrs$.ref(null),t.$children$&&t.$children$.map(S1)},wm=(t,e,n)=>t?.insertBefore(e,n),pz=(t,e,n=!1)=>{const r=t.$hostElement$,s=t.$cmpMeta$,i=t.$vnode$||D_(null,null),l=cz(e)?e:vm(null,null,e);if(g0=r.tagName,s.$attrsToReflect$&&(l.$attrs$=l.$attrs$||{},s.$attrsToReflect$.map(([u,d])=>l.$attrs$[d]=r[u])),n&&l.$attrs$)for(const u of Object.keys(l.$attrs$))r.hasAttribute(u)&&!["key","ref","style","class"].includes(u)&&(l.$attrs$[u]=r[u]);l.$tag$=null,l.$flags$|=4,t.$vnode$=l,l.$elm$=i.$elm$=r.shadowRoot||r,Uc(i,l,n)},I1=(t,e)=>{if(e&&!t.$onRenderResolve$&&e["s-p"]){const n=e["s-p"].push(new Promise(r=>t.$onRenderResolve$=()=>{e["s-p"].splice(n-1,1),r()}))}},y0=(t,e)=>{if(t.$flags$|=16,t.$flags$&4){t.$flags$|=512;return}return I1(t,t.$ancestorComponent$),XU(()=>mz(t,e))},mz=(t,e)=>{const n=t.$hostElement$,r=Sl("scheduleUpdate",t.$cmpMeta$.$tagName$),s=n;if(!s)throw new Error(`Can't render component <${n.tagName.toLowerCase()} /> with invalid Stencil runtime! Make sure this imported component is compiled with a \`externalRuntime: true\` flag. For more information, please refer to https://stenciljs.com/docs/custom-elements#externalruntime`);let i;return e?i=iu(s,"componentWillLoad",void 0,n):i=iu(s,"componentWillUpdate",void 0,n),i=QI(i,()=>iu(s,"componentWillRender",void 0,n)),r(),QI(i,()=>yz(t,s,e))},QI=(t,e)=>gz(t)?t.then(e).catch(n=>{console.error(n),e()}):e(),gz=t=>t instanceof Promise||t&&t.then&&typeof t.then=="function",yz=async(t,e,n)=>{var r;const s=t.$hostElement$,i=Sl("update",t.$cmpMeta$.$tagName$),a=s["s-rc"];n&&lz(t);const l=Sl("render",t.$cmpMeta$.$tagName$);vz(t,e,s,n),a&&(a.map(u=>u()),s["s-rc"]=void 0),l(),i();{const u=(r=s["s-p"])!=null?r:[],d=()=>wz(t);u.length===0?d():(Promise.all(u).then(d),t.$flags$|=4,u.length=0)}},vz=(t,e,n,r)=>{try{e=e.render(),t.$flags$&=-17,t.$flags$|=2,pz(t,e,r)}catch(s){Hg(s,t.$hostElement$)}return null},wz=t=>{const e=t.$cmpMeta$.$tagName$,n=t.$hostElement$,r=Sl("postUpdate",e),s=n,i=t.$ancestorComponent$;iu(s,"componentDidRender",void 0,n),t.$flags$&64?(iu(s,"componentDidUpdate",void 0,n),r()):(t.$flags$|=64,bz(n),iu(s,"componentDidLoad",void 0,n),r(),t.$onReadyResolve$(n),i||_z()),t.$onRenderResolve$&&(t.$onRenderResolve$(),t.$onRenderResolve$=void 0),t.$flags$&512&&f0(()=>y0(t,!1)),t.$flags$&=-517},_z=t=>{f0(()=>uz(js,"appload",{detail:{namespace:zU}}))},iu=(t,e,n,r)=>{if(t&&t[e])try{return t[e](n)}catch(s){Hg(s,r)}},bz=t=>{var e;return t.classList.add((e=Wg.hydratedSelectorName)!=null?e:"hydrated")},xz=(t,e)=>Tl(t).$instanceValues$.get(e),YI=(t,e,n,r)=>{const s=Tl(t),i=t,a=s.$instanceValues$.get(e),l=s.$flags$,u=i;n=w1(n,r.$members$[e][0]);const d=Number.isNaN(a)&&Number.isNaN(n);if(n!==a&&!d){s.$instanceValues$.set(e,n);{if(r.$watchers$&&l&128){const g=r.$watchers$[e];g&&g.map(y=>{try{u[y](n,a,e)}catch(x){Hg(x,i)}})}if((l&18)===2){if(u.componentShouldUpdate&&u.componentShouldUpdate(n,a,e)===!1)return;y0(s,!1)}}}},Ez=(t,e,n)=>{var r,s;const i=t.prototype;if(e.$members$||e.$watchers$||t.watchers){t.watchers&&!e.$watchers$&&(e.$watchers$=t.watchers);const a=Object.entries((r=e.$members$)!=null?r:{});a.map(([l,[u]])=>{if(u&31||u&32){const{get:d,set:f}=Object.getOwnPropertyDescriptor(i,l)||{};d&&(e.$members$[l][0]|=2048),f&&(e.$members$[l][0]|=4096),Object.defineProperty(i,l,{get(){return d?d.apply(this):xz(this,l)},configurable:!0,enumerable:!0}),Object.defineProperty(i,l,{set(g){const y=Tl(this);if(f){const x=u&32?this[l]:y.$hostElement$[l];typeof x>"u"&&y.$instanceValues$.get(l)?g=y.$instanceValues$.get(l):!y.$instanceValues$.get(l)&&x&&y.$instanceValues$.set(l,x),f.apply(this,[w1(g,u)]),g=u&32?this[l]:y.$hostElement$[l],YI(this,l,g,e);return}{YI(this,l,g,e);return}}})}});{const l=new Map;i.attributeChangedCallback=function(u,d,f){pa.jmp(()=>{var g;const y=l.get(u);if(!(this.hasOwnProperty(y)&&Wg.lazyLoad)){if(i.hasOwnProperty(y)&&typeof this[y]=="number"&&this[y]==f)return;if(y==null){const I=Tl(this),E=I?.$flags$;if(E&&!(E&8)&&E&128&&f!==d){const k=this,A=(g=e.$watchers$)==null?void 0:g[u];A?.forEach(N=>{k[N]!=null&&k[N].call(k,f,d,u)})}return}}const x=Object.getOwnPropertyDescriptor(i,y);f=f===null&&typeof this[y]=="boolean"?!1:f,f!==this[y]&&(!x.get||x.set)&&(this[y]=f)})},t.observedAttributes=Array.from(new Set([...Object.keys((s=e.$watchers$)!=null?s:{}),...a.filter(([u,d])=>d[0]&15).map(([u,d])=>{var f;const g=d[1]||u;return l.set(g,u),d[0]&512&&((f=e.$attrsToReflect$)==null||f.push([u,g])),g})]))}}return t},XI=async(t,e,n,r)=>{let s;if((e.$flags$&32)===0){e.$flags$|=32;{s=t.constructor;const l=t.localName;customElements.whenDefined(l).then(()=>e.$flags$|=128)}if(s&&s.style){let l;typeof s.style=="string"&&(l=s.style);const u=y1(n);if(!Gm.has(u)){const d=Sl("registerStyles",n.$tagName$);oz(u,l,!!(n.$flags$&1)),d()}}}const i=e.$ancestorComponent$,a=()=>y0(e,!0);i&&i["s-rc"]?i["s-rc"].push(a):a()},Tz=(t,e)=>{},Sz=t=>{{const e=Tl(t),n=e.$cmpMeta$,r=Sl("connectedCallback",n.$tagName$);if(e.$flags$&1)e?.$lazyInstance$||e?.$onReadyPromise$&&e.$onReadyPromise$.then(()=>Tz());else{e.$flags$|=1;{let s=t;for(;s=s.parentNode||s.host;)if(s["s-p"]){I1(e,e.$ancestorComponent$=s);break}}n.$members$&&Object.entries(n.$members$).map(([s,[i]])=>{if(i&31&&t.hasOwnProperty(s)){const a=t[s];delete t[s],t[s]=a}}),Wg.initializeNextTick?f0(()=>XI(t,e,n)):XI(t,e,n)}r()}},Iz=async t=>{Tl(t),Yc.has(t)&&Yc.delete(t),t.shadowRoot&&Yc.has(t.shadowRoot)&&Yc.delete(t.shadowRoot)},Cz=(t,e)=>{const n={$flags$:e[0],$tagName$:e[1]};n.$members$=e[2],n.$watchers$=t.$watchers$,n.$attrsToReflect$=[];const r=t.prototype.connectedCallback,s=t.prototype.disconnectedCallback;return Object.assign(t.prototype,{__hasHostListenerAttached:!1,__registerHost(){qU(this,n)},connectedCallback(){this.__hasHostListenerAttached||(Tl(this),this.__hasHostListenerAttached=!0),Sz(this),r&&r.call(this)},disconnectedCallback(){Iz(this),s&&s.call(this)},__attachShadow(){if(!this.shadowRoot)iz.call(this,n);else if(this.shadowRoot.mode!=="open")throw new Error(`Unable to re-use existing shadow root for ${n.$tagName$}! Mode is set to ${this.shadowRoot.mode} but Stencil only supports open shadow roots.`)}}),t.is=n.$tagName$,Ez(t,n)};let Ew;const Az=()=>{if(typeof window>"u")return new Map;if(!Ew){const t=window;t.Ionicons=t.Ionicons||{},Ew=t.Ionicons.map=t.Ionicons.map||new Map}return Ew},Pz=t=>{let e=Tw(t.src);return e||(e=C1(t.name,t.icon,t.mode,t.ios,t.md),e?Rz(e,t):t.icon&&(e=Tw(t.icon),e||(e=Tw(t.icon[t.mode]),e))?e:null)},Rz=(t,e)=>{const n=Az().get(t);if(n)return n;try{return ZU(`svg/${t}.svg`)}catch(r){console.log("e",r),console.warn(`[Ionicons Warning]: Could not load icon with name "${t}". Ensure that the icon is registered using addIcons or that the icon SVG data is passed directly to the icon component.`,e)}},C1=(t,e,n,r,s)=>(n=(n&&Qp(n))==="ios"?"ios":"md",r&&n==="ios"?t=Qp(r):s&&n==="md"?t=Qp(s):(!t&&e&&!A1(e)&&(t=e),Ym(t)&&(t=Qp(t))),!Ym(t)||t.trim()===""||t.replace(/[a-z]|-|\d/gi,"")!==""?null:t),Tw=t=>Ym(t)&&(t=t.trim(),A1(t))?t:null,A1=t=>t.length>0&&/(\/|\.)/.test(t),Ym=t=>typeof t=="string",Qp=t=>t.toLowerCase(),kz=(t,e=[])=>{const n={};return e.forEach(r=>{t.hasAttribute(r)&&(t.getAttribute(r)!==null&&(n[r]=t.getAttribute(r)),t.removeAttribute(r))}),n},Dz=t=>t&&t.dir!==""?t.dir.toLowerCase()==="rtl":document?.dir.toLowerCase()==="rtl",Nz=t=>{const e=document.createElement("div");e.innerHTML=t;for(let r=e.childNodes.length-1;r>=0;r--)e.childNodes[r].nodeName.toLowerCase()!=="svg"&&e.removeChild(e.childNodes[r]);const n=e.firstElementChild;if(n&&n.nodeName.toLowerCase()==="svg"){const r=n.getAttribute("class")||"";if(n.setAttribute("class",(r+" s-ion-icon").trim()),P1(n))return e.innerHTML}return""},P1=t=>{if(t.nodeType===1){if(t.nodeName.toLowerCase()==="script")return!1;for(let e=0;e<t.attributes.length;e++){const n=t.attributes[e].name;if(Ym(n)&&n.toLowerCase().indexOf("on")===0)return!1}for(let e=0;e<t.childNodes.length;e++)if(!P1(t.childNodes[e]))return!1}return!0},Oz=t=>t.startsWith("data:image/svg+xml"),Vz=t=>t.indexOf(";utf8,")!==-1,ou=new Map,R1=new Map;let Sw;function N_(t){return ou.set(t,""),""}const Lz=(t,e)=>{const n=R1.get(t);return n||(typeof fetch<"u"&&typeof document<"u"?Oz(t)&&Vz(t)?Promise.resolve(Mz(t)):$z(t,e):Promise.resolve(N_(t)))};function Mz(t){Sw||(Sw=new DOMParser);const n=Sw.parseFromString(t,"text/html").querySelector("svg");if(n)return ou.set(t,n.outerHTML),n.outerHTML;throw new Error(`Could not parse svg from ${t}`)}function $z(t,e){const n=fetch(t).then(r=>r.text().then(s=>{s&&e!==!1&&(s=Nz(s));const i=s||"";return ou.set(t,i),i}).catch(()=>N_(t))).catch(()=>N_(t));return R1.set(t,n),n}const jz=":host{display:inline-block;width:1em;height:1em;contain:strict;fill:currentColor;box-sizing:content-box !important}:host .ionicon{stroke:currentColor}.ionicon-fill-none{fill:none}.ionicon-stroke-width{stroke-width:var(--ionicon-stroke-width, 32px)}.icon-inner,.ionicon,svg{display:block;height:100%;width:100%}@supports (background: -webkit-named-image(i)){:host(.icon-rtl) .icon-inner{transform:scaleX(-1)}}@supports not selector(:dir(rtl)) and selector(:host-context([dir='rtl'])){:host(.icon-rtl) .icon-inner{transform:scaleX(-1)}}:host(.flip-rtl):host-context([dir='rtl']) .icon-inner{transform:scaleX(-1)}@supports selector(:dir(rtl)){:host(.flip-rtl:dir(rtl)) .icon-inner{transform:scaleX(-1)}:host(.flip-rtl:dir(ltr)) .icon-inner{transform:scaleX(1)}}:host(.icon-small){font-size:1.125rem !important}:host(.icon-large){font-size:2rem !important}:host(.ion-color){color:var(--ion-color-base) !important}:host(.ion-color-primary){--ion-color-base:var(--ion-color-primary, #3880ff)}:host(.ion-color-secondary){--ion-color-base:var(--ion-color-secondary, #0cd1e8)}:host(.ion-color-tertiary){--ion-color-base:var(--ion-color-tertiary, #f4a942)}:host(.ion-color-success){--ion-color-base:var(--ion-color-success, #10dc60)}:host(.ion-color-warning){--ion-color-base:var(--ion-color-warning, #ffce00)}:host(.ion-color-danger){--ion-color-base:var(--ion-color-danger, #f14141)}:host(.ion-color-light){--ion-color-base:var(--ion-color-light, #f4f5f8)}:host(.ion-color-medium){--ion-color-base:var(--ion-color-medium, #989aa2)}:host(.ion-color-dark){--ion-color-base:var(--ion-color-dark, #222428)}",Fz=Cz(class extends GU{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.iconName=null,this.inheritedAttributes={},this.didLoadIcon=!1,this.isVisible=!1,this.mode=Bz(),this.lazy=!1,this.sanitize=!0}componentWillLoad(){this.inheritedAttributes=kz(this.el,["aria-label"])}connectedCallback(){this.waitUntilVisible(this.el,"50px",()=>{this.isVisible=!0,this.loadIcon()})}componentDidLoad(){this.didLoadIcon||this.loadIcon()}disconnectedCallback(){this.io&&(this.io.disconnect(),this.io=void 0)}waitUntilVisible(e,n,r){if(!!!(this.lazy&&typeof window<"u"&&window.IntersectionObserver))return r();const i=this.io=new window.IntersectionObserver(a=>{a[0].isIntersecting&&(i.disconnect(),this.io=void 0,r())},{rootMargin:n});i.observe(e)}loadIcon(){if(this.isVisible){const e=Pz(this);e&&(ou.has(e)?this.svgContent=ou.get(e):Lz(e,this.sanitize).then(()=>this.svgContent=ou.get(e)),this.didLoadIcon=!0)}this.iconName=C1(this.name,this.icon,this.mode,this.ios,this.md)}render(){const{flipRtl:e,iconName:n,inheritedAttributes:r,el:s}=this,i=this.mode||"md",a=n?(n.includes("arrow")||n.includes("chevron"))&&e!==!1:!1,l=e||a;return vm(v1,Object.assign({key:"0578c899781ca145dd8205acd9670af39b57cf2e",role:"img",class:Object.assign(Object.assign({[i]:!0},Uz(this.color)),{[`icon-${this.size}`]:!!this.size,"flip-rtl":l,"icon-rtl":l&&Dz(s)})},r),this.svgContent?vm("div",{class:"icon-inner",innerHTML:this.svgContent}):vm("div",{class:"icon-inner"}))}static get assetsDirs(){return["svg"]}get el(){return this}static get watchers(){return{name:["loadIcon"],src:["loadIcon"],icon:["loadIcon"],ios:["loadIcon"],md:["loadIcon"]}}static get style(){return jz}},[1,"ion-icon",{mode:[1025],color:[1],ios:[1],md:[1],flipRtl:[4,"flip-rtl"],name:[513],src:[1],icon:[8],size:[1],lazy:[4],sanitize:[4],svgContent:[32],isVisible:[32]},void 0,{name:["loadIcon"],src:["loadIcon"],icon:["loadIcon"],ios:["loadIcon"],md:["loadIcon"]}]),Bz=()=>typeof document<"u"&&document.documentElement.getAttribute("mode")||"md",Uz=t=>t?{"ion-color":!0,[`ion-color-${t}`]:!0}:null;function zz(){if(typeof customElements>"u")return;["ion-icon"].forEach(e=>{e==="ion-icon"&&(customElements.get(e)||customElements.define(e,Fz))})}const Wz=zz,v0=Se.createContext({onIonViewWillEnter:()=>{},ionViewWillEnter:()=>{},onIonViewDidEnter:()=>{},ionViewDidEnter:()=>{},onIonViewWillLeave:()=>{},ionViewWillLeave:()=>{},onIonViewDidLeave:()=>{},ionViewDidLeave:()=>{},cleanupIonViewWillEnter:()=>{},cleanupIonViewDidEnter:()=>{},cleanupIonViewWillLeave:()=>{},cleanupIonViewDidLeave:()=>{}}),Hz=class{constructor(){this.ionViewWillEnterCallbacks=[],this.ionViewDidEnterCallbacks=[],this.ionViewWillLeaveCallbacks=[],this.ionViewDidLeaveCallbacks=[],this.ionViewWillEnterDestructorCallbacks=[],this.ionViewDidEnterDestructorCallbacks=[],this.ionViewWillLeaveDestructorCallbacks=[],this.ionViewDidLeaveDestructorCallbacks=[]}onIonViewWillEnter(t){if(t.id){const e=this.ionViewWillEnterCallbacks.findIndex(n=>n.id===t.id);e>-1?this.ionViewWillEnterCallbacks[e]=t:this.ionViewWillEnterCallbacks.push(t)}else this.ionViewWillEnterCallbacks.push(t)}teardownCallback(t,e){const n=e.filter(r=>r.id===t.id);n.length!==0&&(n.forEach(r=>{r&&typeof r.destructor=="function"&&r.destructor()}),e=e.filter(r=>r.id!==t.id))}cleanupIonViewWillEnter(t){this.teardownCallback(t,this.ionViewWillEnterDestructorCallbacks)}cleanupIonViewDidEnter(t){this.teardownCallback(t,this.ionViewDidEnterDestructorCallbacks)}cleanupIonViewWillLeave(t){this.teardownCallback(t,this.ionViewWillLeaveDestructorCallbacks)}cleanupIonViewDidLeave(t){this.teardownCallback(t,this.ionViewDidLeaveDestructorCallbacks)}ionViewWillEnter(){this.ionViewWillEnterCallbacks.forEach(t=>{const e=t();t.id&&this.ionViewWillEnterDestructorCallbacks.push({id:t.id,destructor:e})})}onIonViewDidEnter(t){if(t.id){const e=this.ionViewDidEnterCallbacks.findIndex(n=>n.id===t.id);e>-1?this.ionViewDidEnterCallbacks[e]=t:this.ionViewDidEnterCallbacks.push(t)}else this.ionViewDidEnterCallbacks.push(t)}ionViewDidEnter(){this.ionViewDidEnterCallbacks.forEach(t=>{const e=t();t.id&&this.ionViewDidEnterDestructorCallbacks.push({id:t.id,destructor:e})})}onIonViewWillLeave(t){if(t.id){const e=this.ionViewWillLeaveCallbacks.findIndex(n=>n.id===t.id);e>-1?this.ionViewWillLeaveCallbacks[e]=t:this.ionViewWillLeaveCallbacks.push(t)}else this.ionViewWillLeaveCallbacks.push(t)}ionViewWillLeave(){this.ionViewWillLeaveCallbacks.forEach(t=>{const e=t();t.id&&this.ionViewWillLeaveDestructorCallbacks.push({id:t.id,destructor:e})})}onIonViewDidLeave(t){if(t.id){const e=this.ionViewDidLeaveCallbacks.findIndex(n=>n.id===t.id);e>-1?this.ionViewDidLeaveCallbacks[e]=t:this.ionViewDidLeaveCallbacks.push(t)}else this.ionViewDidLeaveCallbacks.push(t)}ionViewDidLeave(){this.ionViewDidLeaveCallbacks.forEach(t=>{const e=t();t.id&&this.ionViewDidLeaveDestructorCallbacks.push({id:t.id,destructor:e})}),this.componentCanBeDestroyed()}onComponentCanBeDestroyed(t){this.componentCanBeDestroyedCallback=t}componentCanBeDestroyed(){this.componentCanBeDestroyedCallback&&this.componentCanBeDestroyedCallback()}},_i=Se.createContext({getIonRedirect:()=>{},getIonRoute:()=>{},getPageManager:()=>{},getStackManager:()=>{},goBack:t=>{typeof window<"u"&&(typeof t=="string"?window.location.pathname=t:window.history.back())},navigate:t=>{typeof window<"u"&&(window.location.pathname=t)},hasIonicRouter:()=>!1,routeInfo:void 0,setCurrentTab:()=>{},changeTab:(t,e)=>{typeof window<"u"&&(window.location.pathname=e)},resetTab:(t,e)=>{typeof window<"u"&&(window.location.pathname=e)}}),qz=t=>t.toLowerCase().split("-").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(""),k1=t=>t.replace(/([A-Z])/g,e=>`-${e[0].toLowerCase()}`),Kz=(t,e,n={})=>{if(t instanceof Element){const r=Gz(t.classList,e,n);r!==""&&(t.className=r),Object.keys(e).forEach(s=>{if(!(s==="children"||s==="style"||s==="ref"||s==="class"||s==="className"||s==="forwardedRef"))if(s.indexOf("on")===0&&s[2]===s[2].toUpperCase()){const i=s.substring(2),a=i[0].toLowerCase()+i.substring(1);D1(a)||Yz(t,a,e[s])}else t[s]=e[s],typeof e[s]==="string"&&t.setAttribute(k1(s),e[s])})}},Gz=(t,e,n)=>{const r=e.className||e.class,s=n.className||n.class,i=Iw(t),a=Iw(r?r.split(" "):[]),l=Iw(s?s.split(" "):[]),u=[];return i.forEach(d=>{a.has(d)?(u.push(d),a.delete(d)):l.has(d)||u.push(d)}),a.forEach(d=>u.push(d)),u.join(" ")},Qz=t=>t==="doubleclick"?"dblclick":t;const D1=t=>{if(typeof document>"u")return!0;{const e="on"+Qz(t);let n=e in document;if(!n){const r=document.createElement("div");r.setAttribute(e,"return;"),n=typeof r[e]=="function"}return n}},Yz=(t,e,n)=>{const r=t.__events||(t.__events={}),s=r[e];s&&t.removeEventListener(e,s),t.addEventListener(e,r[e]=function(a){n&&n.call(this,a)})},Iw=t=>{const e=new Map;return t.forEach(n=>e.set(n,n)),e},Xz=(t,e)=>{typeof t=="function"?t(e):t!=null&&(t.current=e)},N1=(...t)=>e=>{t.forEach(n=>{Xz(n,e)})},Zz=(t,e)=>{const n=(r,s)=>v.jsx(t,{...r,forwardedRef:s});return n.displayName=e,Se.forwardRef(n)},io=(t,e,n,r)=>{r!==void 0&&r();const s=qz(t),i=class extends Se.Component{constructor(a){super(a),this.setComponentElRef=l=>{this.componentEl=l}}componentDidMount(){this.componentDidUpdate(this.props)}componentDidUpdate(a){Kz(this.componentEl,this.props,a)}render(){const{children:a,forwardedRef:l,style:u,className:d,ref:f,...g}=this.props,x={...Object.keys(g).reduce((I,E)=>{const S=g[E];if(E.indexOf("on")===0&&E[2]===E[2].toUpperCase()){const k=E.substring(2).toLowerCase();typeof document<"u"&&D1(k)&&(I[E]=S)}else{const k=typeof S;(k==="string"||k==="boolean"||k==="number")&&(I[k1(E)]=S)}return I},{}),ref:N1(l,this.setComponentElRef),style:u};return T.createElement(t,x,a)}static get displayName(){return s}};return Zz(i,s)},Jz=io("ion-tab",void 0,void 0,fU),nf=(t,e)=>{const n=(r,s)=>v.jsx(t,{...r,forwardedRef:s});return n.displayName=e,Se.forwardRef(n)},e3=()=>{if(typeof window<"u"){const t=window.Ionic;if(t&&t.config)return t.config}return null},t3=Se.createContext({addOverlay:()=>{},removeOverlay:()=>{}}),n3=({onAddOverlay:t,onRemoveOverlay:e})=>{const[n,r]=T.useState({}),s=T.useRef({});T.useEffect(()=>{t(i),e(a)},[]);const i=(u,d,f)=>{const g={...s.current};g[u]={component:d,containerElement:f},s.current=g,r(g)},a=u=>{const d={...s.current};delete d[u],s.current=d,r(d)},l=Object.keys(n);return v.jsx(v.Fragment,{children:l.map(u=>{const d=n[u];return s1.createPortal(d.component,d.containerElement,`overlay-${u}`)})})},r3=io("ion-tab-button",void 0,void 0,$U),s3=io("ion-tab-bar",void 0,void 0,NU),ZI=io("ion-tabs",void 0,void 0,UU),i3=io("ion-back-button",void 0,void 0,TU),O_=io("ion-router-outlet",void 0,void 0,AU),o3=io("ion-app",void 0,void 0,wU),a3=io("ion-icon",void 0,void 0,Wz);class O1 extends Se.Component{constructor(e){super(e),this.ionContext={addOverlay:(n,r,s)=>{this.addOverlayCallback&&this.addOverlayCallback(n,r,s)},removeOverlay:n=>{this.removeOverlayCallback&&this.removeOverlayCallback(n)}}}render(){return v.jsxs(t3.Provider,{value:this.ionContext,children:[v.jsx(o3,{...this.props,children:this.props.children}),v.jsx(n3,{onAddOverlay:e=>{this.addOverlayCallback=e},onRemoveOverlay:e=>{this.removeOverlayCallback=e}})]})}}O1.displayName="IonApp";const V1=Se.createContext({registerIonPage:()=>{},isInOutlet:()=>!1});class w0 extends Se.PureComponent{constructor(e){super(e),this.ionPageElementRef=Se.createRef(),this.stableMergedRefs=N1(this.ionPageElementRef,this.props.forwardedRef),this.ionViewWillEnterHandler=this.ionViewWillEnterHandler.bind(this),this.ionViewDidEnterHandler=this.ionViewDidEnterHandler.bind(this),this.ionViewWillLeaveHandler=this.ionViewWillLeaveHandler.bind(this),this.ionViewDidLeaveHandler=this.ionViewDidLeaveHandler.bind(this)}componentDidMount(){this.ionPageElementRef.current&&(this.context.isInOutlet()&&this.ionPageElementRef.current.classList.add("ion-page-invisible"),this.context.registerIonPage(this.ionPageElementRef.current,this.props.routeInfo),this.ionPageElementRef.current.addEventListener("ionViewWillEnter",this.ionViewWillEnterHandler),this.ionPageElementRef.current.addEventListener("ionViewDidEnter",this.ionViewDidEnterHandler),this.ionPageElementRef.current.addEventListener("ionViewWillLeave",this.ionViewWillLeaveHandler),this.ionPageElementRef.current.addEventListener("ionViewDidLeave",this.ionViewDidLeaveHandler))}componentWillUnmount(){this.ionPageElementRef.current&&(this.ionPageElementRef.current.removeEventListener("ionViewWillEnter",this.ionViewWillEnterHandler),this.ionPageElementRef.current.removeEventListener("ionViewDidEnter",this.ionViewDidEnterHandler),this.ionPageElementRef.current.removeEventListener("ionViewWillLeave",this.ionViewWillLeaveHandler))}ionViewWillEnterHandler(){this.ionLifeCycleContext.ionViewWillEnter()}ionViewDidEnterHandler(){this.ionLifeCycleContext.ionViewDidEnter()}ionViewWillLeaveHandler(){this.ionLifeCycleContext.ionViewWillLeave()}ionViewDidLeaveHandler(){this.ionLifeCycleContext.ionViewDidLeave()}render(){const{className:e,children:n,routeInfo:r,forwardedRef:s,...i}=this.props;return v.jsx(v0.Consumer,{children:a=>(this.ionLifeCycleContext=a,v.jsx("div",{className:e?`${e} ion-page`:"ion-page",ref:this.stableMergedRefs,...i,children:n}))})}static get contextType(){return V1}}class l3 extends Se.Component{constructor(e){super(e)}render(){const{className:e,children:n,forwardedRef:r,...s}=this.props;return this.context.hasIonicRouter()?v.jsx(w0,{className:e?`${e}`:"",routeInfo:this.context.routeInfo,forwardedRef:r,...s,children:n}):v.jsx("div",{className:e?`ion-page ${e}`:"ion-page",ref:r,...s,children:n})}static get displayName(){return"IonPage"}static get contextType(){return _i}}nf(l3,"IonPage");const JI={main:0},c3=(t="main")=>{const e=(JI[t]??0)+1;return JI[t]=e,e.toString()},u3=(t,e)=>{const n=new WeakMap,r=`react-delegate-${c3()}`;let s=0;return{attachViewToDom:async(l,u,d,f)=>{const g=document.createElement("div");f&&g.classList.add(...f),l.appendChild(g);const y=u(d),x=`${r}-${s++}`,I=zl.createPortal(y,g,x);return n.set(g,I),t(I),Promise.resolve(g)},removeViewFromDom:(l,u)=>{const d=n.get(u);return d&&e(d),u.remove(),Promise.resolve()}}},d3=io("ion-nav",void 0,void 0,cU),h3=({children:t,forwardedRef:e,...n})=>{const[r,s]=T.useState([]),i=u=>s(d=>[...d,u]),a=u=>s(d=>d.filter(f=>f!==u)),l=T.useMemo(()=>u3(i,a),[]);return v.jsx(d3,{delegate:l,ref:e,...n,children:r})};nf(h3,"IonNav");const L1=Se.createContext({activeTab:void 0,selectTab:()=>!1,hasRouterOutlet:!1,tabBarProps:{ref:Se.createRef()}}),f3=typeof HTMLElement<"u"?HTMLElement:class{};class p3 extends Se.Component{constructor(e){super(e),this.outletIsReady=!1,this.ionViewWillEnterHandler=this.ionViewWillEnterHandler.bind(this),this.ionViewDidEnterHandler=this.ionViewDidEnterHandler.bind(this),this.ionViewWillLeaveHandler=this.ionViewWillLeaveHandler.bind(this),this.ionViewDidLeaveHandler=this.ionViewDidLeaveHandler.bind(this)}componentDidMount(){this.ionRouterOutlet&&(this.outletIsReady||Fk(this.ionRouterOutlet,()=>{this.outletIsReady=!0,this.context.registerIonPage(this.ionRouterOutlet,this.props.routeInfo)}),this.ionRouterOutlet.addEventListener("ionViewWillEnter",this.ionViewWillEnterHandler),this.ionRouterOutlet.addEventListener("ionViewDidEnter",this.ionViewDidEnterHandler),this.ionRouterOutlet.addEventListener("ionViewWillLeave",this.ionViewWillLeaveHandler),this.ionRouterOutlet.addEventListener("ionViewDidLeave",this.ionViewDidLeaveHandler))}componentWillUnmount(){this.ionRouterOutlet&&(this.ionRouterOutlet.removeEventListener("ionViewWillEnter",this.ionViewWillEnterHandler),this.ionRouterOutlet.removeEventListener("ionViewDidEnter",this.ionViewDidEnterHandler),this.ionRouterOutlet.removeEventListener("ionViewWillLeave",this.ionViewWillLeaveHandler),this.ionRouterOutlet.removeEventListener("ionViewDidLeave",this.ionViewDidLeaveHandler))}ionViewWillEnterHandler(){this.ionLifeCycleContext.ionViewWillEnter()}ionViewDidEnterHandler(){this.ionLifeCycleContext.ionViewDidEnter()}ionViewWillLeaveHandler(){this.ionLifeCycleContext.ionViewWillLeave()}ionViewDidLeaveHandler(){this.ionLifeCycleContext.ionViewDidLeave()}render(){const{StackManager:e,children:n,routeInfo:r,...s}=this.props;return v.jsx(v0.Consumer,{children:i=>(this.ionLifeCycleContext=i,v.jsx(e,{routeInfo:r,children:v.jsx(O_,{setRef:a=>this.ionRouterOutlet=a,...s,children:n})}))})}static get contextType(){return V1}}class m3 extends Se.Component{constructor(e){super(e)}render(){const e=this.context.getStackManager(),{children:n,forwardedRef:r,...s}=this.props;return this.context.hasIonicRouter()?s.ionPage?v.jsx(p3,{StackManager:e,routeInfo:this.context.routeInfo,...s,children:n}):v.jsx(e,{routeInfo:this.context.routeInfo,children:v.jsx(O_,{...s,forwardedRef:r,children:n})}):v.jsx(O_,{ref:r,...this.props,children:this.props.children})}static get contextType(){return _i}}const Yp=nf(m3,"IonRouterOutlet");class g3 extends f3{constructor(){super()}}typeof window<"u"&&window.customElements&&(window.customElements.get("ion-tabs")||window.customElements.define("ion-tabs",g3));class Jre extends Se.Component{shouldComponentUpdate(){return!0}constructor(e){super(e),this.routerOutletRef=Se.createRef(),this.tabBarRef=Se.createRef(),this.ionTabContextState={activeTab:void 0,selectTab:()=>!1,hasRouterOutlet:!1,tabBarProps:{ref:this.tabBarRef}}}componentDidMount(){this.tabBarRef.current&&(this.ionTabContextState.activeTab=this.tabBarRef.current.state.activeTab,this.tabBarRef.current.setActiveTabOnContext=e=>{this.ionTabContextState.activeTab=e},this.ionTabContextState.selectTab=this.tabBarRef.current.selectTab)}renderTabsInner(e,n){return v.jsx(ZI,{...this.props,children:Se.Children.map(e,r=>Se.isValidElement(r)&&(r.type===Yp||r.type.isRouterOutlet||r.type===T.Fragment&&r.props.children[0].type===Yp)?n:r)})}render(){let e,n=!1;const{className:r,onIonTabsDidChange:s,onIonTabsWillChange:i,...a}=this.props,l=typeof this.props.children=="function"?this.props.children(this.ionTabContextState):this.props.children;if(Se.Children.forEach(l,u=>{if(u==null||typeof u!="object"||!u.hasOwnProperty("type"))return;u.type===Yp||u.type.isRouterOutlet?e=Se.cloneElement(u):u.type===T.Fragment&&u.props.children[0].type===Yp?e=Se.cloneElement(u.props.children[0]):u.type===Jz&&(n=!0),this.ionTabContextState.hasRouterOutlet=!!e;let d={...this.ionTabContextState.tabBarProps};s!==void 0&&(d={...d,onIonTabsDidChange:s}),i!==void 0&&(d={...d,onIonTabsWillChange:i}),this.ionTabContextState.tabBarProps=d}),!e&&!n)throw new Error("IonTabs must contain an IonRouterOutlet or an IonTab");if(e&&n)throw new Error("IonTabs cannot contain an IonRouterOutlet and an IonTab at the same time");return n?v.jsx(ZI,{...this.props}):v.jsx(L1.Provider,{value:this.ionTabContextState,children:this.context.hasIonicRouter()?v.jsx(w0,{className:r?`${r}`:"",routeInfo:this.context.routeInfo,...a,children:this.renderTabsInner(l,e)}):this.renderTabsInner(l,e)})}static get contextType(){return _i}}class Cw extends Se.Component{shouldComponentUpdate(){return!0}constructor(e){super(e),this.handleIonTabButtonClick=this.handleIonTabButtonClick.bind(this)}handleIonTabButtonClick(){this.props.onClick&&this.props.onClick(new CustomEvent("ionTabButtonClick",{detail:{tab:this.props.tab,href:this.props.href,routeOptions:this.props.routerOptions}}))}render(){const{onClick:e,...n}=this.props;return v.jsx(r3,{onIonTabButtonClick:this.handleIonTabButtonClick,...n})}static get displayName(){return"IonTabButton"}}const eC=(t,e)=>{if(e===void 0)return!1;const n=e.endsWith("/")&&e!=="/"?e.slice(0,-1):e;return t===n||t.startsWith(n+"/")};class y3 extends Se.PureComponent{constructor(e){super(e),this.setActiveTabOnContext=r=>{};const n={};Se.Children.forEach(e.children,r=>{r!=null&&typeof r=="object"&&r.props&&(r.type===Cw||r.type.isTabButton)&&(n[r.props.tab]={originalHref:r.props.href,currentHref:r.props.href,originalRouteOptions:r.props.href===e.routeInfo?.pathname?e.routeInfo?.routeOptions:void 0,currentRouteOptions:r.props.href===e.routeInfo?.pathname?e.routeInfo?.routeOptions:void 0})}),this.state={tabs:n},this.onTabButtonClick=this.onTabButtonClick.bind(this),this.renderTabButton=this.renderTabButton.bind(this),this.setActiveTabOnContext=this.setActiveTabOnContext.bind(this),this.selectTab=this.selectTab.bind(this)}componentDidMount(){const e=this.state.tabs,r=Object.keys(e).find(s=>{const i=e[s].originalHref;return eC(this.props.routeInfo.pathname,i)});r&&this.setState({activeTab:r})}componentDidUpdate(){this.state.activeTab&&this.setActiveTabOnContext(this.state.activeTab)}selectTab(e){const n=this.state.tabs[e];return n?(this.onTabButtonClick(new CustomEvent("ionTabButtonClick",{detail:{href:n.currentHref,tab:e,selected:e===this.state.activeTab,routeOptions:void 0}})),!0):!1}static getDerivedStateFromProps(e,n){const r={...n.tabs},i=Object.keys(n.tabs).find(l=>{const u=n.tabs[l].originalHref;return eC(e.routeInfo.pathname,u)});Se.Children.forEach(e.children,l=>{if(l!=null&&typeof l=="object"&&l.props&&(l.type===Cw||l.type.isTabButton)){const u=r[l.props.tab];(!u||u.originalHref!==l.props.href)&&(r[l.props.tab]={originalHref:l.props.href,currentHref:l.props.href,originalRouteOptions:l.props.routeOptions,currentRouteOptions:l.props.routeOptions})}});const{activeTab:a}=n;if(i&&a){const l=n.tabs[a].currentHref,u=n.tabs[a].currentRouteOptions;(i!==a||l!==e.routeInfo?.pathname||u!==e.routeInfo?.routeOptions)&&(r[i]={originalHref:r[i].originalHref,currentHref:e.routeInfo.pathname+(e.routeInfo.search||""),originalRouteOptions:r[i].originalRouteOptions,currentRouteOptions:e.routeInfo?.routeOptions},e.routeInfo.routeAction==="pop"&&i!==a&&(r[a]={originalHref:r[a].originalHref,currentHref:r[a].originalHref,originalRouteOptions:r[a].originalRouteOptions,currentRouteOptions:r[a].currentRouteOptions}))}return i&&e.onSetCurrentTab(i,e.routeInfo),{activeTab:i,tabs:r}}onTabButtonClick(e,n){const r=this.state.tabs[e.detail.tab],s=r.originalHref,i=this.props.tabsContext?.hasRouterOutlet,a=i?e.detail.href:"",{activeTab:l}=this.state;n&&n(e),l===e.detail.tab?s!==a&&this.context.resetTab(e.detail.tab,s,r.originalRouteOptions):(this.props.onIonTabsWillChange&&this.props.onIonTabsWillChange(new CustomEvent("ionTabWillChange",{detail:{tab:e.detail.tab}})),this.props.onIonTabsDidChange&&this.props.onIonTabsDidChange(new CustomEvent("ionTabDidChange",{detail:{tab:e.detail.tab}})),i&&(this.setActiveTabOnContext(e.detail.tab),this.context.changeTab(e.detail.tab,a,e.detail.routeOptions)))}renderTabButton(e){return n=>{if(n!=null&&n.props&&(n.type===Cw||n.type.isTabButton)){const r=n.props.tab===e?this.props.routeInfo?.pathname:this.state.tabs[n.props.tab].currentHref,s=n.props.tab===e?this.props.routeInfo?.routeOptions:this.state.tabs[n.props.tab].currentRouteOptions;return Se.cloneElement(n,{href:r,routeOptions:s,onClick:i=>this.onTabButtonClick(i,n.props.onClick)})}return null}}render(){const{activeTab:e}=this.state;return v.jsx(s3,{...this.props,selectedTab:e,children:Se.Children.map(this.props.children,this.renderTabButton(e))})}static get contextType(){return _i}}const v3=Se.memo(({forwardedRef:t,...e})=>{const n=T.useContext(_i),r=T.useContext(L1),s=t||r.tabBarProps.ref,i={...r.tabBarProps,ref:s};return v.jsx(y3,{ref:s,...e,routeInfo:e.routeInfo||n.routeInfo||{pathname:window.location.pathname},onSetCurrentTab:n.setCurrentTab,tabsContext:{...r,tabBarProps:i},children:e.children})});nf(v3,"IonTabBar");class ese extends Se.Component{constructor(){super(...arguments),this.clickButton=e=>{if(e.target&&e.target.closest("ion-nav")!==null)return;const{defaultHref:n,routerAnimation:r}=this.props;this.context.hasIonicRouter()?(e.stopPropagation(),this.context.goBack(n,r)):n!==void 0&&(window.location.href=n)}}render(){return v.jsx(i3,{onClick:this.clickButton,...this.props})}static get displayName(){return"IonBackButton"}static get contextType(){return _i}shouldComponentUpdate(){return!0}}class w3 extends Se.PureComponent{constructor(e){super(e),this.props.name&&console.warn('In Ionic React, you import icons from "ionicons/icons" and set the icon you imported to the "icon" property. Setting the "name" property has no effect.')}render(){const{icon:e,ios:n,md:r,mode:s,...i}=this.props;let a;const l=e3(),u=s||l?.get("mode");return n||r?u==="ios"?a=n??r??e:a=r??n??e:a=e,v.jsx(a3,{ref:this.props.forwardedRef,icon:a,...i,children:this.props.children})}static get contextType(){return _i}}nf(w3,"IonIcon");class M1 extends Se.PureComponent{render(){const e=this.context.getIonRoute();return!this.context.hasIonicRouter()||!M1?(console.error("You either do not have an Ionic Router package, or your router does not support using <IonRoute>"),null):v.jsx(e,{...this.props})}static get contextType(){return _i}}class $1 extends Se.PureComponent{render(){const e=this.context.getIonRedirect();return!this.context.hasIonicRouter()||!$1?(console.error("You either do not have an Ionic Router package, or your router does not support using <IonRedirect>"),null):v.jsx(e,{...this.props})}static get contextType(){return _i}}const _3=Se.createContext({routeInfo:void 0,push:()=>{throw new Error("An Ionic Router is required for IonRouterContext")},back:()=>{throw new Error("An Ionic Router is required for IonRouterContext")},canGoBack:()=>{throw new Error("An Ionic Router is required for IonRouterContext")},nativeBack:()=>{throw new Error("An Ionic Router is required for IonRouterContext")}});class tse extends Se.PureComponent{constructor(e){super(e),this.nodes=new Map,this.animation=z4(e.id)}setupAnimation(e){const n=this.animation;this.nodes.size>0&&n.addElement(Array.from(this.nodes.values())),tC(n,e),nC(n,e)}componentDidMount(){const e=this.props;this.setupAnimation(e)}componentDidUpdate(e){const n=this.animation,r=this.props;tC(n,r,e),b3(n,r,e),nC(n,r,e)}render(){const{children:e}=this.props;return v.jsx(v.Fragment,{children:Se.Children.map(e,(n,r)=>Se.cloneElement(n,{ref:s=>this.nodes.set(r,s)}))})}}const tC=(t,e={},n={})=>{const r=["children","progressStart","progressStep","progressEnd","pause","stop","destroy","play","from","to","fromTo","onFinish"];for(const u in e)e.hasOwnProperty(u)&&!r.includes(u)&&e[u]!==n[u]&&t[u](e[u]);const s=e.from;s&&s!==n.from&&(Array.isArray(s)?s:[s]).forEach(d=>t.from(d.property,d.value));const i=e.to;i&&i!==n.to&&(Array.isArray(i)?i:[i]).forEach(d=>t.to(d.property,d.value));const a=e.fromTo;a&&a!==n.fromTo&&(Array.isArray(a)?a:[a]).forEach(d=>t.fromTo(d.property,d.fromValue,d.toValue));const l=e.onFinish;l&&l!==n.onFinish&&(Array.isArray(l)?l:[l]).forEach(d=>t.onFinish(d.callback,d.opts))},b3=(t,e={},n={})=>{const{progressStart:r,progressStep:s,progressEnd:i}=e;r&&(n.progressStart?.forceLinearEasing!==r?.forceLinearEasing||n.progressStart?.step!==r?.step)&&t.progressStart(r.forceLinearEasing,r.step),s&&n.progressStep?.step!==s?.step&&t.progressStep(s.step),i&&(n.progressEnd?.playTo!==i?.playTo||n.progressEnd?.step!==i?.step||n?.dur!==i?.dur)&&t.progressEnd(i.playTo,i.step,i.dur)},nC=(t,e={},n={})=>{!n.play&&e.play&&t.play(),!n.pause&&e.pause&&t.pause(),!n.stop&&e.stop&&t.stop(),!n.destroy&&e.destroy&&t.destroy()},x3=(t={})=>{typeof document<"u"&&document.documentElement.classList.add("ion-ce"),EB({...t})};class nse extends Se.Component{constructor(e){super(e),this.ionLifeCycleContext=new Hz,this._isMounted=!1,this.ionLifeCycleContext.onComponentCanBeDestroyed(()=>{this.props.mount||this._isMounted&&this.setState({show:!1},()=>this.props.removeView())}),this.state={show:!0}}componentDidMount(){this._isMounted=!0}componentWillUnmount(){this._isMounted=!1}render(){const{show:e}=this.state;return v.jsx(v0.Provider,{value:this.ionLifeCycleContext,children:e&&this.props.children})}}class rse extends Se.PureComponent{constructor(e){super(e),this.ionRouterContextValue={push:(n,r,s,i,a)=>{this.navigate(n,r,s,a,i)},back:n=>{this.goBack(void 0,n)},canGoBack:()=>this.props.locationHistory.canGoBack(),nativeBack:()=>this.props.onNativeBack(),routeInfo:this.props.routeInfo},this.state={goBack:this.goBack.bind(this),hasIonicRouter:()=>!0,navigate:this.navigate.bind(this),getIonRedirect:this.getIonRedirect.bind(this),getIonRoute:this.getIonRoute.bind(this),getStackManager:this.getStackManager.bind(this),getPageManager:this.getPageManager.bind(this),routeInfo:this.props.routeInfo,setCurrentTab:this.props.onSetCurrentTab,changeTab:this.props.onChangeTab,resetTab:this.props.onResetTab}}componentDidMount(){typeof document<"u"&&(this.handleHardwareBackButton=this.handleHardwareBackButton.bind(this),document.addEventListener("ionBackButton",this.handleHardwareBackButton))}componentWillUnmount(){typeof document<"u"&&document.removeEventListener("ionBackButton",this.handleHardwareBackButton)}handleHardwareBackButton(e){e.detail.register(0,n=>{this.nativeGoBack(),n()})}goBack(e,n){this.props.onNavigateBack(e,n)}nativeGoBack(){this.props.onNativeBack()}navigate(e,n="forward",r="push",s,i,a){this.props.onNavigate(e,r,n,s,i,a)}getPageManager(){return w0}getIonRedirect(){return this.props.ionRedirect}getIonRoute(){return this.props.ionRoute}getStackManager(){return this.props.stackManager}render(){return v.jsx(_i.Provider,{value:{...this.state,routeInfo:this.props.routeInfo},children:v.jsx(_3.Provider,{value:{...this.ionRouterContextValue,routeInfo:this.props.routeInfo},children:this.props.children})})}}function E3(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var n,r,s,i,a=[],l="",u=t.split("/");for(u[0]||u.shift();s=u.shift();)n=s[0],n==="*"?(a.push(n),l+=s[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(r=s.indexOf("?",1),i=s.indexOf(".",1),a.push(s.substring(1,~r?r:~i?i:s.length)),l+=~r&&!~i?"(?:/([^/]+?))?":"/([^/]+?)",~i&&(l+=(~r?"?":"")+"\\"+s.substring(i))):l+="/"+s;return{keys:a,pattern:new RegExp("^"+l+(e?"(?=$|/)":"/?$"),"i")}}var Aw={exports:{}},Pw={};var rC;function T3(){if(rC)return Pw;rC=1;var t=Bg();function e(g,y){return g===y&&(g!==0||1/g===1/y)||g!==g&&y!==y}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,s=t.useEffect,i=t.useLayoutEffect,a=t.useDebugValue;function l(g,y){var x=y(),I=r({inst:{value:x,getSnapshot:y}}),E=I[0].inst,S=I[1];return i(function(){E.value=x,E.getSnapshot=y,u(E)&&S({inst:E})},[g,x,y]),s(function(){return u(E)&&S({inst:E}),g(function(){u(E)&&S({inst:E})})},[g]),a(x),x}function u(g){var y=g.getSnapshot;g=g.value;try{var x=y();return!n(g,x)}catch{return!0}}function d(g,y){return y()}var f=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:l;return Pw.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:f,Pw}var sC;function S3(){return sC||(sC=1,Aw.exports=T3()),Aw.exports}var I3=S3();const C3=bk.useInsertionEffect,A3=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",P3=A3?T.useLayoutEffect:T.useEffect,R3=C3||P3,j1=t=>{const e=T.useRef([t,(...n)=>e[0](...n)]).current;return R3(()=>{e[0]=t}),e[1]},k3="popstate",_0="pushState",b0="replaceState",D3="hashchange",iC=[k3,_0,b0,D3],N3=t=>{for(const e of iC)addEventListener(e,t);return()=>{for(const e of iC)removeEventListener(e,t)}},F1=(t,e)=>I3.useSyncExternalStore(N3,t,e),O3=()=>location.search,V3=({ssrSearch:t=""}={})=>F1(O3,()=>t),oC=()=>location.pathname,L3=({ssrPath:t}={})=>F1(oC,t?()=>t:oC),M3=(t,{replace:e=!1,state:n=null}={})=>history[e?b0:_0](n,"",t),$3=(t={})=>[L3(t),M3],aC=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[aC]>"u"){for(const t of[_0,b0]){const e=history[t];history[t]=function(){const n=e.apply(this,arguments),r=new Event(t);return r.arguments=arguments,dispatchEvent(r),n}}Object.defineProperty(window,aC,{value:!0})}const j3=(t,e)=>e.toLowerCase().indexOf(t.toLowerCase())?"~"+e:e.slice(t.length)||"/",B1=(t="")=>t==="/"?"":t,F3=(t,e)=>t[0]==="~"?t.slice(1):B1(e)+t,B3=(t="",e)=>j3(lC(B1(t)),lC(e)),lC=t=>{try{return decodeURI(t)}catch{return t}},U1={hook:$3,searchHook:V3,parser:E3,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:t=>t},z1=T.createContext(U1),rf=()=>T.useContext(z1),W1={},H1=T.createContext(W1),U3=()=>T.useContext(H1),qg=t=>{const[e,n]=t.hook(t);return[B3(t.base,e),j1((r,s)=>n(F3(r,t.base),s))]},q1=()=>qg(rf()),K1=(t,e,n,r)=>{const{pattern:s,keys:i}=e instanceof RegExp?{keys:!1,pattern:e}:t(e||"*",r),a=s.exec(n)||[],[l,...u]=a;return l!==void 0?[!0,(()=>{const d=i!==!1?Object.fromEntries(i.map((g,y)=>[g,u[y]])):a.groups;let f={...u};return d&&Object.assign(f,d),f})(),...r?[l]:[]]:[!1,null]},G1=({children:t,...e})=>{const n=rf(),r=e.hook?U1:n;let s=r;const[i,a]=e.ssrPath?.split("?")??[];a&&(e.ssrSearch=a,e.ssrPath=i),e.hrefs=e.hrefs??e.hook?.hrefs;let l=T.useRef({}),u=l.current,d=u;for(let f in r){const g=f==="base"?r[f]+(e[f]||""):e[f]||r[f];u===d&&g!==d[f]&&(l.current=d={...d}),d[f]=g,g!==r[f]&&(s=d)}return T.createElement(z1.Provider,{value:s,children:t})},cC=({children:t,component:e},n)=>e?T.createElement(e,{params:n}):typeof t=="function"?t(n):t,z3=t=>{let e=T.useRef(W1),n=e.current;for(const r in t)t[r]!==n[r]&&(n=t);return Object.keys(t).length===0&&(n=t),e.current=n},Xp=({path:t,nest:e,match:n,...r})=>{const s=rf(),[i]=qg(s),[a,l,u]=n??K1(s.parser,t,i,e),d=z3({...U3(),...l});if(!a)return null;const f=u?T.createElement(G1,{base:u},cC(r,d)):cC(r,d);return T.createElement(H1.Provider,{value:d,children:f})},Q1=T.forwardRef((t,e)=>{const n=rf(),[r,s]=qg(n),{to:i="",href:a=i,onClick:l,asChild:u,children:d,className:f,replace:g,state:y,...x}=t,I=j1(S=>{S.ctrlKey||S.metaKey||S.altKey||S.shiftKey||S.button!==0||(l?.(S),S.defaultPrevented||(S.preventDefault(),s(a,t)))}),E=n.hrefs(a[0]==="~"?a.slice(1):n.base+a,n);return u&&T.isValidElement(d)?T.cloneElement(d,{onClick:I,href:E}):T.createElement("a",{...x,onClick:I,href:E,className:f?.call?f(r===a):f,children:d,ref:e})}),Y1=t=>Array.isArray(t)?t.flatMap(e=>Y1(e&&e.type===T.Fragment?e.props.children:e)):[t],W3=({children:t,location:e})=>{const n=rf(),[r]=qg(n);for(const s of Y1(t)){let i=0;if(T.isValidElement(s)&&(i=K1(n.parser,s.props.path,e||r,s.props.nest))[0])return T.cloneElement(s,{match:i})}return null};var qu=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Il=typeof window>"u"||"Deno"in globalThis;function ps(){}function H3(t,e){return typeof t=="function"?t(e):t}function V_(t){return typeof t=="number"&&t>=0&&t!==1/0}function X1(t,e){return Math.max(t+(e||0)-Date.now(),0)}function au(t,e){return typeof t=="function"?t(e):t}function Ls(t,e){return typeof t=="function"?t(e):t}function uC(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:a,stale:l}=t;if(a){if(r){if(e.queryHash!==x0(a,e.options))return!1}else if(!Ph(e.queryKey,a))return!1}if(n!=="all"){const u=e.isActive();if(n==="active"&&!u||n==="inactive"&&u)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||s&&s!==e.state.fetchStatus||i&&!i(e))}function dC(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(Cl(e.options.mutationKey)!==Cl(i))return!1}else if(!Ph(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function x0(t,e){return(e?.queryKeyHashFn||Cl)(t)}function Cl(t){return JSON.stringify(t,(e,n)=>L_(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Ph(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!Ph(t[n],e[n])):!1}function Z1(t,e){if(t===e)return t;const n=hC(t)&&hC(e);if(n||L_(t)&&L_(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),a=i.length,l=n?[]:{};let u=0;for(let d=0;d<a;d++){const f=n?d:i[d];(!n&&r.includes(f)||n)&&t[f]===void 0&&e[f]===void 0?(l[f]=void 0,u++):(l[f]=Z1(t[f],e[f]),l[f]===t[f]&&t[f]!==void 0&&u++)}return s===a&&u===s?t:l}return e}function Xm(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function hC(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function L_(t){if(!fC(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!fC(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function fC(t){return Object.prototype.toString.call(t)==="[object Object]"}function q3(t){return new Promise(e=>{setTimeout(e,t)})}function M_(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?Z1(t,e):e}function K3(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function G3(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var E0=Symbol();function J1(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===E0?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Q3=class extends qu{#e;#t;#r;constructor(){super(),this.#r=t=>{if(!Il&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#r=t,this.#t?.(),this.#t=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#e!==t&&(this.#e=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},T0=new Q3,Y3=class extends qu{#e=!0;#t;#r;constructor(){super(),this.#r=t=>{if(!Il&&window.addEventListener){const e=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#r=t,this.#t?.(),this.#t=t(this.setOnline.bind(this))}setOnline(t){this.#e!==t&&(this.#e=t,this.listeners.forEach(n=>{n(t)}))}isOnline(){return this.#e}},Zm=new Y3;function $_(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function X3(t){return Math.min(1e3*2**t,3e4)}function eD(t){return(t??"online")==="online"?Zm.isOnline():!0}var tD=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function Rw(t){return t instanceof tD}function nD(t){let e=!1,n=0,r=!1,s;const i=$_(),a=E=>{r||(y(new tD(E)),t.abort?.())},l=()=>{e=!0},u=()=>{e=!1},d=()=>T0.isFocused()&&(t.networkMode==="always"||Zm.isOnline())&&t.canRun(),f=()=>eD(t.networkMode)&&t.canRun(),g=E=>{r||(r=!0,t.onSuccess?.(E),s?.(),i.resolve(E))},y=E=>{r||(r=!0,t.onError?.(E),s?.(),i.reject(E))},x=()=>new Promise(E=>{s=S=>{(r||d())&&E(S)},t.onPause?.()}).then(()=>{s=void 0,r||t.onContinue?.()}),I=()=>{if(r)return;let E;const S=n===0?t.initialPromise:void 0;try{E=S??t.fn()}catch(k){E=Promise.reject(k)}Promise.resolve(E).then(g).catch(k=>{if(r)return;const A=t.retry??(Il?0:3),N=t.retryDelay??X3,B=typeof N=="function"?N(n,k):N,j=A===!0||typeof A=="number"&&n<A||typeof A=="function"&&A(n,k);if(e||!j){y(k);return}n++,t.onFail?.(n,k),q3(B).then(()=>d()?void 0:x()).then(()=>{e?y(k):I()})})};return{promise:i,cancel:a,continue:()=>(s?.(),i),cancelRetry:l,continueRetry:u,canStart:f,start:()=>(f()?I():x().then(I),i)}}function Z3(){let t=[],e=0,n=l=>{l()},r=l=>{l()},s=l=>setTimeout(l,0);const i=l=>{e?t.push(l):s(()=>{n(l)})},a=()=>{const l=t;t=[],l.length&&s(()=>{r(()=>{l.forEach(u=>{n(u)})})})};return{batch:l=>{let u;e++;try{u=l()}finally{e--,e||a()}return u},batchCalls:l=>(...u)=>{i(()=>{l(...u)})},schedule:i,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{s=l}}}var In=Z3(),rD=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),V_(this.gcTime)&&(this.#e=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Il?1/0:300*1e3))}clearGcTimeout(){this.#e&&(clearTimeout(this.#e),this.#e=void 0)}},J3=class extends rD{#e;#t;#r;#n;#o;#i;constructor(e){super(),this.#i=!1,this.#o=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#r=e.cache,this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=e5(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#n?.promise}setOptions(e){this.options={...this.#o,...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#r.remove(this)}setData(e,n){const r=M_(this.state.data,e,this.options);return this.#s({data:r,type:"success",dataUpdatedAt:n?.updatedAt,manual:n?.manual}),r}setState(e,n){this.#s({type:"setState",state:e,setStateOptions:n})}cancel(e){const n=this.#n?.promise;return this.#n?.cancel(e),n?n.then(ps).catch(ps):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>Ls(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===E0||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!X1(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(n=>n.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#n?.continue()}onOnline(){this.observers.find(n=>n.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#n?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#r.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(this.#n&&(this.#i?this.#n.cancel({revert:!0}):this.#n.cancelRetry()),this.scheduleGc()),this.#r.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#s({type:"invalidate"})}fetch(e,n){if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&n?.cancelRefetch)this.cancel({silent:!0});else if(this.#n)return this.#n.continueRetry(),this.#n.promise}if(e&&this.setOptions(e),!this.options.queryFn){const u=this.observers.find(d=>d.options.queryFn);u&&this.setOptions(u.options)}const r=new AbortController,s=u=>{Object.defineProperty(u,"signal",{enumerable:!0,get:()=>(this.#i=!0,r.signal)})},i=()=>{const u=J1(this.options,n),d={queryKey:this.queryKey,meta:this.meta};return s(d),this.#i=!1,this.options.persister?this.options.persister(u,d,this):u(d)},a={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:i};s(a),this.options.behavior?.onFetch(a,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==a.fetchOptions?.meta)&&this.#s({type:"fetch",meta:a.fetchOptions?.meta});const l=u=>{Rw(u)&&u.silent||this.#s({type:"error",error:u}),Rw(u)||(this.#r.config.onError?.(u,this),this.#r.config.onSettled?.(this.state.data,u,this)),this.scheduleGc()};return this.#n=nD({initialPromise:n?.initialPromise,fn:a.fetchFn,abort:r.abort.bind(r),onSuccess:u=>{if(u===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(u)}catch(d){l(d);return}this.#r.config.onSuccess?.(u,this),this.#r.config.onSettled?.(u,this.state.error,this),this.scheduleGc()},onError:l,onFail:(u,d)=>{this.#s({type:"failed",failureCount:u,error:d})},onPause:()=>{this.#s({type:"pause"})},onContinue:()=>{this.#s({type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0}),this.#n.start()}#s(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...sD(r.data,this.options),fetchMeta:e.meta??null};case"success":return{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=e.error;return Rw(s)&&s.revert&&this.#t?{...this.#t,fetchStatus:"idle"}:{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),In.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),this.#r.notify({query:this,type:"updated",action:e})})}};function sD(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:eD(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function e5(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var t5=class extends qu{constructor(t={}){super(),this.config=t,this.#e=new Map}#e;build(t,e,n){const r=e.queryKey,s=e.queryHash??x0(r,e);let i=this.get(s);return i||(i=new J3({cache:this,queryKey:r,queryHash:s,options:t.defaultQueryOptions(e),state:n,defaultOptions:t.getQueryDefaults(r)}),this.add(i)),i}add(t){this.#e.has(t.queryHash)||(this.#e.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=this.#e.get(t.queryHash);e&&(t.destroy(),e===t&&this.#e.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){In.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#e.get(t)}getAll(){return[...this.#e.values()]}find(t){const e={exact:!0,...t};return this.getAll().find(n=>uC(e,n))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(n=>uC(t,n)):e}notify(t){In.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){In.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){In.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},n5=class extends rD{#e;#t;#r;constructor(e){super(),this.mutationId=e.mutationId,this.#t=e.mutationCache,this.#e=[],this.state=e.state||iD(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#e.includes(e)||(this.#e.push(e),this.clearGcTimeout(),this.#t.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#e=this.#e.filter(n=>n!==e),this.scheduleGc(),this.#t.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#e.length||(this.state.status==="pending"?this.scheduleGc():this.#t.remove(this))}continue(){return this.#r?.continue()??this.execute(this.state.variables)}async execute(e){this.#r=nD({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(s,i)=>{this.#n({type:"failed",failureCount:s,error:i})},onPause:()=>{this.#n({type:"pause"})},onContinue:()=>{this.#n({type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#t.canRun(this)});const n=this.state.status==="pending",r=!this.#r.canStart();try{if(!n){this.#n({type:"pending",variables:e,isPaused:r}),await this.#t.config.onMutate?.(e,this);const i=await this.options.onMutate?.(e);i!==this.state.context&&this.#n({type:"pending",context:i,variables:e,isPaused:r})}const s=await this.#r.start();return await this.#t.config.onSuccess?.(s,e,this.state.context,this),await this.options.onSuccess?.(s,e,this.state.context),await this.#t.config.onSettled?.(s,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(s,null,e,this.state.context),this.#n({type:"success",data:s}),s}catch(s){try{throw await this.#t.config.onError?.(s,e,this.state.context,this),await this.options.onError?.(s,e,this.state.context),await this.#t.config.onSettled?.(void 0,s,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,s,e,this.state.context),s}finally{this.#n({type:"error",error:s})}}finally{this.#t.runNext(this)}}#n(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),In.batch(()=>{this.#e.forEach(r=>{r.onMutationUpdate(e)}),this.#t.notify({mutation:this,type:"updated",action:e})})}};function iD(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var r5=class extends qu{constructor(t={}){super(),this.config=t,this.#e=new Map,this.#t=Date.now()}#e;#t;build(t,e,n){const r=new n5({mutationCache:this,mutationId:++this.#t,options:t.defaultMutationOptions(e),state:n});return this.add(r),r}add(t){const e=Zp(t),n=this.#e.get(e)??[];n.push(t),this.#e.set(e,n),this.notify({type:"added",mutation:t})}remove(t){const e=Zp(t);if(this.#e.has(e)){const n=this.#e.get(e)?.filter(r=>r!==t);n&&(n.length===0?this.#e.delete(e):this.#e.set(e,n))}this.notify({type:"removed",mutation:t})}canRun(t){const e=this.#e.get(Zp(t))?.find(n=>n.state.status==="pending");return!e||e===t}runNext(t){return this.#e.get(Zp(t))?.find(n=>n!==t&&n.state.isPaused)?.continue()??Promise.resolve()}clear(){In.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...this.#e.values()].flat()}find(t){const e={exact:!0,...t};return this.getAll().find(n=>dC(e,n))}findAll(t={}){return this.getAll().filter(e=>dC(t,e))}notify(t){In.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return In.batch(()=>Promise.all(t.map(e=>e.continue().catch(ps))))}};function Zp(t){return t.options.scope?.id??String(t.mutationId)}function pC(t){return{onFetch:(e,n)=>{const r=e.options,s=e.fetchOptions?.meta?.fetchMore?.direction,i=e.state.data?.pages||[],a=e.state.data?.pageParams||[];let l={pages:[],pageParams:[]},u=0;const d=async()=>{let f=!1;const g=I=>{Object.defineProperty(I,"signal",{enumerable:!0,get:()=>(e.signal.aborted?f=!0:e.signal.addEventListener("abort",()=>{f=!0}),e.signal)})},y=J1(e.options,e.fetchOptions),x=async(I,E,S)=>{if(f)return Promise.reject();if(E==null&&I.pages.length)return Promise.resolve(I);const k={queryKey:e.queryKey,pageParam:E,direction:S?"backward":"forward",meta:e.options.meta};g(k);const A=await y(k),{maxPages:N}=e.options,B=S?G3:K3;return{pages:B(I.pages,A,N),pageParams:B(I.pageParams,E,N)}};if(s&&i.length){const I=s==="backward",E=I?s5:mC,S={pages:i,pageParams:a},k=E(r,S);l=await x(S,k,I)}else{const I=t??i.length;do{const E=u===0?a[0]??r.initialPageParam:mC(r,l);if(u>0&&E==null)break;l=await x(l,E),u++}while(u<I)}return l};e.options.persister?e.fetchFn=()=>e.options.persister?.(d,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n):e.fetchFn=d}}}function mC(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function s5(t,{pages:e,pageParams:n}){return e.length>0?t.getPreviousPageParam?.(e[0],e,n[0],n):void 0}var i5=class{#e;#t;#r;#n;#o;#i;#s;#a;constructor(t={}){this.#e=t.queryCache||new t5,this.#t=t.mutationCache||new r5,this.#r=t.defaultOptions||{},this.#n=new Map,this.#o=new Map,this.#i=0}mount(){this.#i++,this.#i===1&&(this.#s=T0.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#a=Zm.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#i--,this.#i===0&&(this.#s?.(),this.#s=void 0,this.#a?.(),this.#a=void 0)}isFetching(t){return this.#e.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#t.findAll({...t,status:"pending"}).length}getQueryData(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const n=this.defaultQueryOptions(t),r=this.#e.build(this,n);return t.revalidateIfStale&&r.isStaleByTime(au(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(e)}}getQueriesData(t){return this.#e.findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),i=this.#e.get(r.queryHash)?.state.data,a=H3(e,i);if(a!==void 0)return this.#e.build(this,r).setData(a,{...n,manual:!0})}setQueriesData(t,e,n){return In.batch(()=>this.#e.findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state}removeQueries(t){const e=this.#e;In.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=this.#e,r={type:"active",...t};return In.batch(()=>(n.findAll(t).forEach(s=>{s.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const n={revert:!0,...e},r=In.batch(()=>this.#e.findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(ps).catch(ps)}invalidateQueries(t={},e={}){return In.batch(()=>{if(this.#e.findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t={},e){const n={...e,cancelRefetch:e?.cancelRefetch??!0},r=In.batch(()=>this.#e.findAll(t).filter(s=>!s.isDisabled()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(ps)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(ps)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=this.#e.build(this,e);return n.isStaleByTime(au(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(ps).catch(ps)}fetchInfiniteQuery(t){return t.behavior=pC(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(ps).catch(ps)}ensureInfiniteQueryData(t){return t.behavior=pC(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Zm.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#r}setDefaultOptions(t){this.#r=t}setQueryDefaults(t,e){this.#n.set(Cl(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...this.#n.values()];let n={};return e.forEach(r=>{Ph(t,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(t,e){this.#o.set(Cl(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...this.#o.values()];let n={};return e.forEach(r=>{Ph(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...this.#r.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=x0(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===E0&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#r.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},o5=class extends qu{constructor(t,e){super(),this.options=e,this.#e=t,this.#a=null,this.#s=$_(),this.options.experimental_prefetchInRender||this.#s.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(e)}#e;#t=void 0;#r=void 0;#n=void 0;#o;#i;#s;#a;#m;#h;#f;#c;#u;#l;#p=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),gC(this.#t,this.options)?this.#d():this.updateResult(),this.#w())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return j_(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return j_(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#_(),this.#b(),this.#t.removeObserver(this)}setOptions(t,e){const n=this.options,r=this.#t;if(this.options=this.#e.defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Ls(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#x(),this.#t.setOptions(this.options),n._defaulted&&!Xm(this.options,n)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const s=this.hasListeners();s&&yC(this.#t,r,this.options,n)&&this.#d(),this.updateResult(e),s&&(this.#t!==r||Ls(this.options.enabled,this.#t)!==Ls(n.enabled,this.#t)||au(this.options.staleTime,this.#t)!==au(n.staleTime,this.#t))&&this.#g();const i=this.#y();s&&(this.#t!==r||Ls(this.options.enabled,this.#t)!==Ls(n.enabled,this.#t)||i!==this.#l)&&this.#v(i)}getOptimisticResult(t){const e=this.#e.getQueryCache().build(this.#e,t),n=this.createResult(e,t);return l5(this,n)&&(this.#n=n,this.#i=this.options,this.#o=this.#t.state),n}getCurrentResult(){return this.#n}trackResult(t,e){const n={};return Object.keys(t).forEach(r=>{Object.defineProperty(n,r,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(r),e?.(r),t[r])})}),n}trackProp(t){this.#p.add(t)}getCurrentQuery(){return this.#t}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const e=this.#e.defaultQueryOptions(t),n=this.#e.getQueryCache().build(this.#e,e);return n.fetch().then(()=>this.createResult(n,e))}fetch(t){return this.#d({...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#n))}#d(t){this.#x();let e=this.#t.fetch(this.options,t);return t?.throwOnError||(e=e.catch(ps)),e}#g(){this.#_();const t=au(this.options.staleTime,this.#t);if(Il||this.#n.isStale||!V_(t))return;const n=X1(this.#n.dataUpdatedAt,t)+1;this.#c=setTimeout(()=>{this.#n.isStale||this.updateResult()},n)}#y(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#v(t){this.#b(),this.#l=t,!(Il||Ls(this.options.enabled,this.#t)===!1||!V_(this.#l)||this.#l===0)&&(this.#u=setInterval(()=>{(this.options.refetchIntervalInBackground||T0.isFocused())&&this.#d()},this.#l))}#w(){this.#g(),this.#v(this.#y())}#_(){this.#c&&(clearTimeout(this.#c),this.#c=void 0)}#b(){this.#u&&(clearInterval(this.#u),this.#u=void 0)}createResult(t,e){const n=this.#t,r=this.options,s=this.#n,i=this.#o,a=this.#i,u=t!==n?t.state:this.#r,{state:d}=t;let f={...d},g=!1,y;if(e._optimisticResults){const O=this.hasListeners(),P=!O&&gC(t,e),D=O&&yC(t,n,e,r);(P||D)&&(f={...f,...sD(d.data,t.options)}),e._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:x,errorUpdatedAt:I,status:E}=f;if(e.select&&f.data!==void 0)if(s&&f.data===i?.data&&e.select===this.#m)y=this.#h;else try{this.#m=e.select,y=e.select(f.data),y=M_(s?.data,y,e),this.#h=y,this.#a=null}catch(O){this.#a=O}else y=f.data;if(e.placeholderData!==void 0&&y===void 0&&E==="pending"){let O;if(s?.isPlaceholderData&&e.placeholderData===a?.placeholderData)O=s.data;else if(O=typeof e.placeholderData=="function"?e.placeholderData(this.#f?.state.data,this.#f):e.placeholderData,e.select&&O!==void 0)try{O=e.select(O),this.#a=null}catch(P){this.#a=P}O!==void 0&&(E="success",y=M_(s?.data,O,e),g=!0)}this.#a&&(x=this.#a,y=this.#h,I=Date.now(),E="error");const S=f.fetchStatus==="fetching",k=E==="pending",A=E==="error",N=k&&S,B=y!==void 0,G={status:E,fetchStatus:f.fetchStatus,isPending:k,isSuccess:E==="success",isError:A,isInitialLoading:N,isLoading:N,data:y,dataUpdatedAt:f.dataUpdatedAt,error:x,errorUpdatedAt:I,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:S,isRefetching:S&&!k,isLoadingError:A&&!B,isPaused:f.fetchStatus==="paused",isPlaceholderData:g,isRefetchError:A&&B,isStale:S0(t,e),refetch:this.refetch,promise:this.#s};if(this.options.experimental_prefetchInRender){const O=M=>{G.status==="error"?M.reject(G.error):G.data!==void 0&&M.resolve(G.data)},P=()=>{const M=this.#s=G.promise=$_();O(M)},D=this.#s;switch(D.status){case"pending":t.queryHash===n.queryHash&&O(D);break;case"fulfilled":(G.status==="error"||G.data!==D.value)&&P();break;case"rejected":(G.status!=="error"||G.error!==D.reason)&&P();break}}return G}updateResult(t){const e=this.#n,n=this.createResult(this.#t,this.options);if(this.#o=this.#t.state,this.#i=this.options,this.#o.data!==void 0&&(this.#f=this.#t),Xm(n,e))return;this.#n=n;const r={},s=()=>{if(!e)return!0;const{notifyOnChangeProps:i}=this.options,a=typeof i=="function"?i():i;if(a==="all"||!a&&!this.#p.size)return!0;const l=new Set(a??this.#p);return this.options.throwOnError&&l.add("error"),Object.keys(this.#n).some(u=>{const d=u;return this.#n[d]!==e[d]&&l.has(d)})};t?.listeners!==!1&&s()&&(r.listeners=!0),this.#E({...r,...t})}#x(){const t=this.#e.getQueryCache().build(this.#e,this.options);if(t===this.#t)return;const e=this.#t;this.#t=t,this.#r=t.state,this.hasListeners()&&(e?.removeObserver(this),t.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#w()}#E(t){In.batch(()=>{t.listeners&&this.listeners.forEach(e=>{e(this.#n)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function a5(t,e){return Ls(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function gC(t,e){return a5(t,e)||t.state.data!==void 0&&j_(t,e,e.refetchOnMount)}function j_(t,e,n){if(Ls(e.enabled,t)!==!1){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&S0(t,e)}return!1}function yC(t,e,n,r){return(t!==e||Ls(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&S0(t,n)}function S0(t,e){return Ls(e.enabled,t)!==!1&&t.isStaleByTime(au(e.staleTime,t))}function l5(t,e){return!Xm(t.getCurrentResult(),e)}var c5=class extends qu{#e;#t=void 0;#r;#n;constructor(e,n){super(),this.#e=e,this.setOptions(n),this.bindMethods(),this.#o()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const n=this.options;this.options=this.#e.defaultMutationOptions(e),Xm(this.options,n)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#r,observer:this}),n?.mutationKey&&this.options.mutationKey&&Cl(n.mutationKey)!==Cl(this.options.mutationKey)?this.reset():this.#r?.state.status==="pending"&&this.#r.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#r?.removeObserver(this)}onMutationUpdate(e){this.#o(),this.#i(e)}getCurrentResult(){return this.#t}reset(){this.#r?.removeObserver(this),this.#r=void 0,this.#o(),this.#i()}mutate(e,n){return this.#n=n,this.#r?.removeObserver(this),this.#r=this.#e.getMutationCache().build(this.#e,this.options),this.#r.addObserver(this),this.#r.execute(e)}#o(){const e=this.#r?.state??iD();this.#t={...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset}}#i(e){In.batch(()=>{if(this.#n&&this.hasListeners()){const n=this.#t.variables,r=this.#t.context;e?.type==="success"?(this.#n.onSuccess?.(e.data,n,r),this.#n.onSettled?.(e.data,null,n,r)):e?.type==="error"&&(this.#n.onError?.(e.error,n,r),this.#n.onSettled?.(void 0,e.error,n,r))}this.listeners.forEach(n=>{n(this.#t)})})}},oD=T.createContext(void 0),gr=t=>{const e=T.useContext(oD);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},u5=({client:t,children:e})=>(T.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),v.jsx(oD.Provider,{value:t,children:e})),aD=T.createContext(!1),d5=()=>T.useContext(aD);aD.Provider;function h5(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var f5=T.createContext(h5()),p5=()=>T.useContext(f5);function lD(t,e){return typeof t=="function"?t(...e):!!t}function F_(){}var m5=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},g5=t=>{T.useEffect(()=>{t.clearReset()},[t])},y5=({result:t,errorResetBoundary:e,throwOnError:n,query:r})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&lD(n,[t.error,r]),v5=t=>{t.suspense&&(t.staleTime===void 0&&(t.staleTime=1e3),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3)))},w5=(t,e)=>t.isLoading&&t.isFetching&&!e,_5=(t,e)=>t?.suspense&&e.isPending,vC=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function b5(t,e,n){const r=gr(),s=d5(),i=p5(),a=r.defaultQueryOptions(t);r.getDefaultOptions().queries?._experimental_beforeQuery?.(a),a._optimisticResults=s?"isRestoring":"optimistic",v5(a),m5(a,i),g5(i);const l=!r.getQueryCache().get(a.queryHash),[u]=T.useState(()=>new e(r,a)),d=u.getOptimisticResult(a);if(T.useSyncExternalStore(T.useCallback(f=>{const g=s?F_:u.subscribe(In.batchCalls(f));return u.updateResult(),g},[u,s]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),T.useEffect(()=>{u.setOptions(a,{listeners:!1})},[a,u]),_5(a,d))throw vC(a,u,i);if(y5({result:d,errorResetBoundary:i,throwOnError:a.throwOnError,query:r.getQueryCache().get(a.queryHash)}))throw d.error;return r.getDefaultOptions().queries?._experimental_afterQuery?.(a,d),a.experimental_prefetchInRender&&!Il&&w5(d,s)&&(l?vC(a,u,i):r.getQueryCache().get(a.queryHash)?.promise)?.catch(F_).finally(()=>{u.updateResult()}),a.notifyOnChangeProps?d:u.trackResult(d)}function Wl(t,e){return b5(t,o5)}function ws(t,e){const n=gr(),[r]=T.useState(()=>new c5(n,t));T.useEffect(()=>{r.setOptions(t)},[r,t]);const s=T.useSyncExternalStore(T.useCallback(a=>r.subscribe(In.batchCalls(a)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),i=T.useCallback((a,l)=>{r.mutate(a,l).catch(F_)},[r]);if(s.error&&lD(r.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}async function x5(t){if(!t.ok){const e=await t.text()||t.statusText;throw new Error(`${t.status}: ${e}`)}}const E5=({on401:t})=>async({queryKey:e})=>{const n=await fetch(e.join("/"),{credentials:"include"});return await x5(n),await n.json()},T5=new i5({defaultOptions:{queries:{queryFn:E5({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),S5=1,I5=1e6;let kw=0;function C5(){return kw=(kw+1)%Number.MAX_SAFE_INTEGER,kw.toString()}const Dw=new Map,wC=t=>{if(Dw.has(t))return;const e=setTimeout(()=>{Dw.delete(t),fh({type:"REMOVE_TOAST",toastId:t})},I5);Dw.set(t,e)},A5=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,S5)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?wC(n):t.toasts.forEach(r=>{wC(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},_m=[];let bm={toasts:[]};function fh(t){bm=A5(bm,t),_m.forEach(e=>{e(bm)})}function P5({...t}){const e=C5(),n=s=>fh({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>fh({type:"DISMISS_TOAST",toastId:e});return fh({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function Ku(){const[t,e]=T.useState(bm);return T.useEffect(()=>(_m.push(e),()=>{const n=_m.indexOf(e);n>-1&&_m.splice(n,1)}),[t]),{...t,toast:P5,dismiss:n=>fh({type:"DISMISS_TOAST",toastId:n})}}function We(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t?.(s),n===!1||!s.defaultPrevented)return e?.(s)}}function _C(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function cD(...t){return e=>{let n=!1;const r=t.map(s=>{const i=_C(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():_C(t[s],null)}}}}function Tt(...t){return T.useCallback(cD(...t),t)}function R5(t,e){const n=T.createContext(e),r=i=>{const{children:a,...l}=i,u=T.useMemo(()=>l,Object.values(l));return v.jsx(n.Provider,{value:u,children:a})};r.displayName=t+"Provider";function s(i){const a=T.useContext(n);if(a)return a;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function Ws(t,e=[]){let n=[];function r(i,a){const l=T.createContext(a),u=n.length;n=[...n,a];const d=g=>{const{scope:y,children:x,...I}=g,E=y?.[t]?.[u]||l,S=T.useMemo(()=>I,Object.values(I));return v.jsx(E.Provider,{value:S,children:x})};d.displayName=i+"Provider";function f(g,y){const x=y?.[t]?.[u]||l,I=T.useContext(x);if(I)return I;if(a!==void 0)return a;throw new Error(`\`${g}\` must be used within \`${i}\``)}return[d,f]}const s=()=>{const i=n.map(a=>T.createContext(a));return function(l){const u=l?.[t]||i;return T.useMemo(()=>({[`__scope${t}`]:{...l,[t]:u}}),[l,u])}};return s.scopeName=t,[r,k5(s,...e)]}function k5(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const a=r.reduce((l,{useScope:u,scopeName:d})=>{const g=u(i)[`__scope${d}`];return{...l,...g}},{});return T.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return n.scopeName=e.scopeName,n}function mu(t){const e=D5(t),n=T.forwardRef((r,s)=>{const{children:i,...a}=r,l=T.Children.toArray(i),u=l.find(O5);if(u){const d=u.props.children,f=l.map(g=>g===u?T.Children.count(d)>1?T.Children.only(null):T.isValidElement(d)?d.props.children:null:g);return v.jsx(e,{...a,ref:s,children:T.isValidElement(d)?T.cloneElement(d,void 0,f):null})}return v.jsx(e,{...a,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}var uD=mu("Slot");function D5(t){const e=T.forwardRef((n,r)=>{const{children:s,...i}=n;if(T.isValidElement(s)){const a=L5(s),l=V5(i,s.props);return s.type!==T.Fragment&&(l.ref=r?cD(r,a):a),T.cloneElement(s,l)}return T.Children.count(s)>1?T.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var dD=Symbol("radix.slottable");function N5(t){const e=({children:n})=>v.jsx(v.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=dD,e}function O5(t){return T.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===dD}function V5(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...l)=>{i(...l),s(...l)}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function L5(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function I0(t){const e=t+"CollectionProvider",[n,r]=Ws(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),a=E=>{const{scope:S,children:k}=E,A=Se.useRef(null),N=Se.useRef(new Map).current;return v.jsx(s,{scope:S,itemMap:N,collectionRef:A,children:k})};a.displayName=e;const l=t+"CollectionSlot",u=mu(l),d=Se.forwardRef((E,S)=>{const{scope:k,children:A}=E,N=i(l,k),B=Tt(S,N.collectionRef);return v.jsx(u,{ref:B,children:A})});d.displayName=l;const f=t+"CollectionItemSlot",g="data-radix-collection-item",y=mu(f),x=Se.forwardRef((E,S)=>{const{scope:k,children:A,...N}=E,B=Se.useRef(null),j=Tt(S,B),G=i(f,k);return Se.useEffect(()=>(G.itemMap.set(B,{ref:B,...N}),()=>{G.itemMap.delete(B)})),v.jsx(y,{[g]:"",ref:j,children:A})});x.displayName=f;function I(E){const S=i(t+"CollectionConsumer",E);return Se.useCallback(()=>{const A=S.collectionRef.current;if(!A)return[];const N=Array.from(A.querySelectorAll(`[${g}]`));return Array.from(S.itemMap.values()).sort((G,O)=>N.indexOf(G.ref.current)-N.indexOf(O.ref.current))},[S.collectionRef,S.itemMap])}return[{Provider:a,Slot:d,ItemSlot:x},I,r]}var M5=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Je=M5.reduce((t,e)=>{const n=mu(`Primitive.${e}`),r=T.forwardRef((s,i)=>{const{asChild:a,...l}=s,u=a?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),v.jsx(u,{...l,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function hD(t,e){t&&zl.flushSync(()=>t.dispatchEvent(e))}function sn(t){const e=T.useRef(t);return T.useEffect(()=>{e.current=t}),T.useMemo(()=>(...n)=>e.current?.(...n),[])}function $5(t,e=globalThis?.document){const n=sn(t);T.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var j5="DismissableLayer",B_="dismissableLayer.update",F5="dismissableLayer.pointerDownOutside",B5="dismissableLayer.focusOutside",bC,fD=T.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),sf=T.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:a,onDismiss:l,...u}=t,d=T.useContext(fD),[f,g]=T.useState(null),y=f?.ownerDocument??globalThis?.document,[,x]=T.useState({}),I=Tt(e,O=>g(O)),E=Array.from(d.layers),[S]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),k=E.indexOf(S),A=f?E.indexOf(f):-1,N=d.layersWithOutsidePointerEventsDisabled.size>0,B=A>=k,j=z5(O=>{const P=O.target,D=[...d.branches].some(M=>M.contains(P));!B||D||(s?.(O),a?.(O),O.defaultPrevented||l?.())},y),G=W5(O=>{const P=O.target;[...d.branches].some(M=>M.contains(P))||(i?.(O),a?.(O),O.defaultPrevented||l?.())},y);return $5(O=>{A===d.layers.size-1&&(r?.(O),!O.defaultPrevented&&l&&(O.preventDefault(),l()))},y),T.useEffect(()=>{if(f)return n&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(bC=y.body.style.pointerEvents,y.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(f)),d.layers.add(f),xC(),()=>{n&&d.layersWithOutsidePointerEventsDisabled.size===1&&(y.body.style.pointerEvents=bC)}},[f,y,n,d]),T.useEffect(()=>()=>{f&&(d.layers.delete(f),d.layersWithOutsidePointerEventsDisabled.delete(f),xC())},[f,d]),T.useEffect(()=>{const O=()=>x({});return document.addEventListener(B_,O),()=>document.removeEventListener(B_,O)},[]),v.jsx(Je.div,{...u,ref:I,style:{pointerEvents:N?B?"auto":"none":void 0,...t.style},onFocusCapture:We(t.onFocusCapture,G.onFocusCapture),onBlurCapture:We(t.onBlurCapture,G.onBlurCapture),onPointerDownCapture:We(t.onPointerDownCapture,j.onPointerDownCapture)})});sf.displayName=j5;var U5="DismissableLayerBranch",pD=T.forwardRef((t,e)=>{const n=T.useContext(fD),r=T.useRef(null),s=Tt(e,r);return T.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),v.jsx(Je.div,{...t,ref:s})});pD.displayName=U5;function z5(t,e=globalThis?.document){const n=sn(t),r=T.useRef(!1),s=T.useRef(()=>{});return T.useEffect(()=>{const i=l=>{if(l.target&&!r.current){let u=function(){mD(F5,n,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=u,e.addEventListener("click",s.current,{once:!0})):u()}else e.removeEventListener("click",s.current);r.current=!1},a=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(a),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function W5(t,e=globalThis?.document){const n=sn(t),r=T.useRef(!1);return T.useEffect(()=>{const s=i=>{i.target&&!r.current&&mD(B5,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function xC(){const t=new CustomEvent(B_);document.dispatchEvent(t)}function mD(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?hD(s,i):s.dispatchEvent(i)}var H5=sf,q5=pD,yn=globalThis?.document?T.useLayoutEffect:()=>{},K5="Portal",Kg=T.forwardRef((t,e)=>{const{container:n,...r}=t,[s,i]=T.useState(!1);yn(()=>i(!0),[]);const a=n||s&&globalThis?.document?.body;return a?s1.createPortal(v.jsx(Je.div,{...r,ref:e}),a):null});Kg.displayName=K5;function G5(t,e){return T.useReducer((n,r)=>e[n][r]??n,t)}var _s=t=>{const{present:e,children:n}=t,r=Q5(e),s=typeof n=="function"?n({present:r.isPresent}):T.Children.only(n),i=Tt(r.ref,Y5(s));return typeof n=="function"||r.isPresent?T.cloneElement(s,{ref:i}):null};_s.displayName="Presence";function Q5(t){const[e,n]=T.useState(),r=T.useRef({}),s=T.useRef(t),i=T.useRef("none"),a=t?"mounted":"unmounted",[l,u]=G5(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return T.useEffect(()=>{const d=Jp(r.current);i.current=l==="mounted"?d:"none"},[l]),yn(()=>{const d=r.current,f=s.current;if(f!==t){const y=i.current,x=Jp(d);t?u("MOUNT"):x==="none"||d?.display==="none"?u("UNMOUNT"):u(f&&y!==x?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,u]),yn(()=>{if(e){let d;const f=e.ownerDocument.defaultView??window,g=x=>{const E=Jp(r.current).includes(x.animationName);if(x.target===e&&E&&(u("ANIMATION_END"),!s.current)){const S=e.style.animationFillMode;e.style.animationFillMode="forwards",d=f.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=S)})}},y=x=>{x.target===e&&(i.current=Jp(r.current))};return e.addEventListener("animationstart",y),e.addEventListener("animationcancel",g),e.addEventListener("animationend",g),()=>{f.clearTimeout(d),e.removeEventListener("animationstart",y),e.removeEventListener("animationcancel",g),e.removeEventListener("animationend",g)}}else u("ANIMATION_END")},[e,u]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:T.useCallback(d=>{d&&(r.current=getComputedStyle(d)),n(d)},[])}}function Jp(t){return t?.animationName||"none"}function Y5(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Al({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,s]=X5({defaultProp:e,onChange:n}),i=t!==void 0,a=i?t:r,l=sn(n),u=T.useCallback(d=>{if(i){const g=typeof d=="function"?d(t):d;g!==t&&l(g)}else s(d)},[i,t,s,l]);return[a,u]}function X5({defaultProp:t,onChange:e}){const n=T.useState(t),[r]=n,s=T.useRef(r),i=sn(e);return T.useEffect(()=>{s.current!==r&&(i(r),s.current=r)},[r,s,i]),n}var Z5="VisuallyHidden",of=T.forwardRef((t,e)=>v.jsx(Je.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));of.displayName=Z5;var J5=of,C0="ToastProvider",[A0,e9,t9]=I0("Toast"),[gD]=Ws("Toast",[t9]),[n9,Gg]=gD(C0),yD=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:a}=t,[l,u]=T.useState(null),[d,f]=T.useState(0),g=T.useRef(!1),y=T.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${C0}\`. Expected non-empty \`string\`.`),v.jsx(A0.Provider,{scope:e,children:v.jsx(n9,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:d,viewport:l,onViewportChange:u,onToastAdd:T.useCallback(()=>f(x=>x+1),[]),onToastRemove:T.useCallback(()=>f(x=>x-1),[]),isFocusedToastEscapeKeyDownRef:g,isClosePausedRef:y,children:a})})};yD.displayName=C0;var vD="ToastViewport",r9=["F8"],U_="toast.viewportPause",z_="toast.viewportResume",wD=T.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=r9,label:s="Notifications ({hotkey})",...i}=t,a=Gg(vD,n),l=e9(n),u=T.useRef(null),d=T.useRef(null),f=T.useRef(null),g=T.useRef(null),y=Tt(e,g,a.onViewportChange),x=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),I=a.toastCount>0;T.useEffect(()=>{const S=k=>{r.length!==0&&r.every(N=>k[N]||k.code===N)&&g.current?.focus()};return document.addEventListener("keydown",S),()=>document.removeEventListener("keydown",S)},[r]),T.useEffect(()=>{const S=u.current,k=g.current;if(I&&S&&k){const A=()=>{if(!a.isClosePausedRef.current){const G=new CustomEvent(U_);k.dispatchEvent(G),a.isClosePausedRef.current=!0}},N=()=>{if(a.isClosePausedRef.current){const G=new CustomEvent(z_);k.dispatchEvent(G),a.isClosePausedRef.current=!1}},B=G=>{!S.contains(G.relatedTarget)&&N()},j=()=>{S.contains(document.activeElement)||N()};return S.addEventListener("focusin",A),S.addEventListener("focusout",B),S.addEventListener("pointermove",A),S.addEventListener("pointerleave",j),window.addEventListener("blur",A),window.addEventListener("focus",N),()=>{S.removeEventListener("focusin",A),S.removeEventListener("focusout",B),S.removeEventListener("pointermove",A),S.removeEventListener("pointerleave",j),window.removeEventListener("blur",A),window.removeEventListener("focus",N)}}},[I,a.isClosePausedRef]);const E=T.useCallback(({tabbingDirection:S})=>{const A=l().map(N=>{const B=N.ref.current,j=[B,...g9(B)];return S==="forwards"?j:j.reverse()});return(S==="forwards"?A.reverse():A).flat()},[l]);return T.useEffect(()=>{const S=g.current;if(S){const k=A=>{const N=A.altKey||A.ctrlKey||A.metaKey;if(A.key==="Tab"&&!N){const j=document.activeElement,G=A.shiftKey;if(A.target===S&&G){d.current?.focus();return}const D=E({tabbingDirection:G?"backwards":"forwards"}),M=D.findIndex(F=>F===j);Nw(D.slice(M+1))?A.preventDefault():G?d.current?.focus():f.current?.focus()}};return S.addEventListener("keydown",k),()=>S.removeEventListener("keydown",k)}},[l,E]),v.jsxs(q5,{ref:u,role:"region","aria-label":s.replace("{hotkey}",x),tabIndex:-1,style:{pointerEvents:I?void 0:"none"},children:[I&&v.jsx(W_,{ref:d,onFocusFromOutsideViewport:()=>{const S=E({tabbingDirection:"forwards"});Nw(S)}}),v.jsx(A0.Slot,{scope:n,children:v.jsx(Je.ol,{tabIndex:-1,...i,ref:y})}),I&&v.jsx(W_,{ref:f,onFocusFromOutsideViewport:()=>{const S=E({tabbingDirection:"backwards"});Nw(S)}})]})});wD.displayName=vD;var _D="ToastFocusProxy",W_=T.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=Gg(_D,n);return v.jsx(of,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:a=>{const l=a.relatedTarget;!i.viewport?.contains(l)&&r()}})});W_.displayName=_D;var Qg="Toast",s9="toast.swipeStart",i9="toast.swipeMove",o9="toast.swipeCancel",a9="toast.swipeEnd",bD=T.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...a}=t,[l=!0,u]=Al({prop:r,defaultProp:s,onChange:i});return v.jsx(_s,{present:n||l,children:v.jsx(u9,{open:l,...a,ref:e,onClose:()=>u(!1),onPause:sn(t.onPause),onResume:sn(t.onResume),onSwipeStart:We(t.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:We(t.onSwipeMove,d=>{const{x:f,y:g}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${f}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${g}px`)}),onSwipeCancel:We(t.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:We(t.onSwipeEnd,d=>{const{x:f,y:g}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${f}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${g}px`),u(!1)})})})});bD.displayName=Qg;var[l9,c9]=gD(Qg,{onClose(){}}),u9=T.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:a,onEscapeKeyDown:l,onPause:u,onResume:d,onSwipeStart:f,onSwipeMove:g,onSwipeCancel:y,onSwipeEnd:x,...I}=t,E=Gg(Qg,n),[S,k]=T.useState(null),A=Tt(e,ne=>k(ne)),N=T.useRef(null),B=T.useRef(null),j=s||E.duration,G=T.useRef(0),O=T.useRef(j),P=T.useRef(0),{onToastAdd:D,onToastRemove:M}=E,F=sn(()=>{S?.contains(document.activeElement)&&E.viewport?.focus(),a()}),$=T.useCallback(ne=>{!ne||ne===1/0||(window.clearTimeout(P.current),G.current=new Date().getTime(),P.current=window.setTimeout(F,ne))},[F]);T.useEffect(()=>{const ne=E.viewport;if(ne){const ve=()=>{$(O.current),d?.()},de=()=>{const me=new Date().getTime()-G.current;O.current=O.current-me,window.clearTimeout(P.current),u?.()};return ne.addEventListener(U_,de),ne.addEventListener(z_,ve),()=>{ne.removeEventListener(U_,de),ne.removeEventListener(z_,ve)}}},[E.viewport,j,u,d,$]),T.useEffect(()=>{i&&!E.isClosePausedRef.current&&$(j)},[i,j,E.isClosePausedRef,$]),T.useEffect(()=>(D(),()=>M()),[D,M]);const V=T.useMemo(()=>S?AD(S):null,[S]);return E.viewport?v.jsxs(v.Fragment,{children:[V&&v.jsx(d9,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:V}),v.jsx(l9,{scope:n,onClose:F,children:zl.createPortal(v.jsx(A0.ItemSlot,{scope:n,children:v.jsx(H5,{asChild:!0,onEscapeKeyDown:We(l,()=>{E.isFocusedToastEscapeKeyDownRef.current||F(),E.isFocusedToastEscapeKeyDownRef.current=!1}),children:v.jsx(Je.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":E.swipeDirection,...I,ref:A,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:We(t.onKeyDown,ne=>{ne.key==="Escape"&&(l?.(ne.nativeEvent),ne.nativeEvent.defaultPrevented||(E.isFocusedToastEscapeKeyDownRef.current=!0,F()))}),onPointerDown:We(t.onPointerDown,ne=>{ne.button===0&&(N.current={x:ne.clientX,y:ne.clientY})}),onPointerMove:We(t.onPointerMove,ne=>{if(!N.current)return;const ve=ne.clientX-N.current.x,de=ne.clientY-N.current.y,me=!!B.current,Z=["left","right"].includes(E.swipeDirection),ce=["left","up"].includes(E.swipeDirection)?Math.min:Math.max,ue=Z?ce(0,ve):0,q=Z?0:ce(0,de),re=ne.pointerType==="touch"?10:2,Ce={x:ue,y:q},Re={originalEvent:ne,delta:Ce};me?(B.current=Ce,em(i9,g,Re,{discrete:!1})):EC(Ce,E.swipeDirection,re)?(B.current=Ce,em(s9,f,Re,{discrete:!1}),ne.target.setPointerCapture(ne.pointerId)):(Math.abs(ve)>re||Math.abs(de)>re)&&(N.current=null)}),onPointerUp:We(t.onPointerUp,ne=>{const ve=B.current,de=ne.target;if(de.hasPointerCapture(ne.pointerId)&&de.releasePointerCapture(ne.pointerId),B.current=null,N.current=null,ve){const me=ne.currentTarget,Z={originalEvent:ne,delta:ve};EC(ve,E.swipeDirection,E.swipeThreshold)?em(a9,x,Z,{discrete:!0}):em(o9,y,Z,{discrete:!0}),me.addEventListener("click",ce=>ce.preventDefault(),{once:!0})}})})})}),E.viewport)})]}):null}),d9=t=>{const{__scopeToast:e,children:n,...r}=t,s=Gg(Qg,e),[i,a]=T.useState(!1),[l,u]=T.useState(!1);return p9(()=>a(!0)),T.useEffect(()=>{const d=window.setTimeout(()=>u(!0),1e3);return()=>window.clearTimeout(d)},[]),l?null:v.jsx(Kg,{asChild:!0,children:v.jsx(of,{...r,children:i&&v.jsxs(v.Fragment,{children:[s.label," ",n]})})})},h9="ToastTitle",xD=T.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return v.jsx(Je.div,{...r,ref:e})});xD.displayName=h9;var f9="ToastDescription",ED=T.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return v.jsx(Je.div,{...r,ref:e})});ED.displayName=f9;var TD="ToastAction",SD=T.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?v.jsx(CD,{altText:n,asChild:!0,children:v.jsx(P0,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${TD}\`. Expected non-empty \`string\`.`),null)});SD.displayName=TD;var ID="ToastClose",P0=T.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=c9(ID,n);return v.jsx(CD,{asChild:!0,children:v.jsx(Je.button,{type:"button",...r,ref:e,onClick:We(t.onClick,s.onClose)})})});P0.displayName=ID;var CD=T.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return v.jsx(Je.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function AD(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),m9(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const a=r.dataset.radixToastAnnounceAlt;a&&e.push(a)}else e.push(...AD(r))}}),e}function em(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?hD(s,i):s.dispatchEvent(i)}var EC=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function p9(t=()=>{}){const e=sn(t);yn(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function m9(t){return t.nodeType===t.ELEMENT_NODE}function g9(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Nw(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var y9=yD,PD=wD,RD=bD,kD=xD,DD=ED,ND=SD,OD=P0;function VD(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=VD(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function LD(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=VD(t))&&(r&&(r+=" "),r+=e);return r}const TC=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,SC=LD,R0=(t,e)=>n=>{var r;if(e?.variants==null)return SC(t,n?.class,n?.className);const{variants:s,defaultVariants:i}=e,a=Object.keys(s).map(d=>{const f=n?.[d],g=i?.[d];if(f===null)return null;const y=TC(f)||TC(g);return s[d][y]}),l=n&&Object.entries(n).reduce((d,f)=>{let[g,y]=f;return y===void 0||(d[g]=y),d},{}),u=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((d,f)=>{let{class:g,className:y,...x}=f;return Object.entries(x).every(I=>{let[E,S]=I;return Array.isArray(S)?S.includes({...i,...l}[E]):{...i,...l}[E]===S})?[...d,g,y]:d},[]);return SC(t,a,u,n?.class,n?.className)};const v9=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),MD=(...t)=>t.filter((e,n,r)=>!!e&&r.indexOf(e)===n).join(" ");var w9={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const _9=T.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:a,...l},u)=>T.createElement("svg",{ref:u,...w9,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:MD("lucide",s),...l},[...a.map(([d,f])=>T.createElement(d,f)),...Array.isArray(i)?i:[i]]));const wn=(t,e)=>{const n=T.forwardRef(({className:r,...s},i)=>T.createElement(_9,{ref:i,iconNode:e,className:MD(`lucide-${v9(t)}`,r),...s}));return n.displayName=`${t}`,n};const b9=wn("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);const k0=wn("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);const $D=wn("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);const x9=wn("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);const E9=wn("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);const T9=wn("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);const S9=wn("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);const jD=wn("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);const I9=wn("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);const C9=wn("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);const H_=wn("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);const D0=wn("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);const FD=wn("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);const A9=wn("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);const q_=wn("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);const BD=wn("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);const P9=wn("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);const K_=wn("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);const N0=wn("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);const UD=wn("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),O0="-",R9=t=>{const e=D9(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:a=>{const l=a.split(O0);return l[0]===""&&l.length!==1&&l.shift(),zD(l,e)||k9(a)},getConflictingClassGroupIds:(a,l)=>{const u=n[a]||[];return l&&r[a]?[...u,...r[a]]:u}}},zD=(t,e)=>{if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?zD(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(O0);return e.validators.find(({validator:a})=>a(i))?.classGroupId},IC=/^\[(.+)\]$/,k9=t=>{if(IC.test(t)){const e=IC.exec(t)[1],n=e?.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},D9=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return O9(Object.entries(t.classGroups),n).forEach(([i,a])=>{G_(a,r,i,e)}),r},G_=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:CC(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(N9(s)){G_(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,a])=>{G_(a,CC(e,i),n,r)})})},CC=(t,e)=>{let n=t;return e.split(O0).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},N9=t=>t.isThemeGetter,O9=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([a,l])=>[e+a,l])):i);return[n,s]}):t,V9=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,a)=>{n.set(i,a),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let a=n.get(i);if(a!==void 0)return a;if((a=r.get(i))!==void 0)return s(i,a),a},set(i,a){n.has(i)?n.set(i,a):s(i,a)}}},WD="!",L9=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,a=l=>{const u=[];let d=0,f=0,g;for(let S=0;S<l.length;S++){let k=l[S];if(d===0){if(k===s&&(r||l.slice(S,S+i)===e)){u.push(l.slice(f,S)),f=S+i;continue}if(k==="/"){g=S;continue}}k==="["?d++:k==="]"&&d--}const y=u.length===0?l:l.substring(f),x=y.startsWith(WD),I=x?y.substring(1):y,E=g&&g>f?g-f:void 0;return{modifiers:u,hasImportantModifier:x,baseClassName:I,maybePostfixModifierPosition:E}};return n?l=>n({className:l,parseClassName:a}):a},M9=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},$9=t=>({cache:V9(t.cacheSize),parseClassName:L9(t),...R9(t)}),j9=/\s+/,F9=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],a=t.trim().split(j9);let l="";for(let u=a.length-1;u>=0;u-=1){const d=a[u],{modifiers:f,hasImportantModifier:g,baseClassName:y,maybePostfixModifierPosition:x}=n(d);let I=!!x,E=r(I?y.substring(0,x):y);if(!E){if(!I){l=d+(l.length>0?" "+l:l);continue}if(E=r(y),!E){l=d+(l.length>0?" "+l:l);continue}I=!1}const S=M9(f).join(":"),k=g?S+WD:S,A=k+E;if(i.includes(A))continue;i.push(A);const N=s(E,I);for(let B=0;B<N.length;++B){const j=N[B];i.push(k+j)}l=d+(l.length>0?" "+l:l)}return l};function B9(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=HD(e))&&(r&&(r+=" "),r+=n);return r}const HD=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=HD(t[r]))&&(n&&(n+=" "),n+=e);return n};function U9(t,...e){let n,r,s,i=a;function a(u){const d=e.reduce((f,g)=>g(f),t());return n=$9(d),r=n.cache.get,s=n.cache.set,i=l,l(u)}function l(u){const d=r(u);if(d)return d;const f=F9(u,n);return s(u,f),f}return function(){return i(B9.apply(null,arguments))}}const Ut=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},qD=/^\[(?:([a-z-]+):)?(.+)\]$/i,z9=/^\d+\/\d+$/,W9=new Set(["px","full","screen"]),H9=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,q9=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,K9=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,G9=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Q9=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Bi=t=>lu(t)||W9.has(t)||z9.test(t),$o=t=>Gu(t,"length",r6),lu=t=>!!t&&!Number.isNaN(Number(t)),Ow=t=>Gu(t,"number",lu),qd=t=>!!t&&Number.isInteger(Number(t)),Y9=t=>t.endsWith("%")&&lu(t.slice(0,-1)),ut=t=>qD.test(t),jo=t=>H9.test(t),X9=new Set(["length","size","percentage"]),Z9=t=>Gu(t,X9,KD),J9=t=>Gu(t,"position",KD),e6=new Set(["image","url"]),t6=t=>Gu(t,e6,i6),n6=t=>Gu(t,"",s6),Kd=()=>!0,Gu=(t,e,n)=>{const r=qD.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},r6=t=>q9.test(t)&&!K9.test(t),KD=()=>!1,s6=t=>G9.test(t),i6=t=>Q9.test(t),o6=()=>{const t=Ut("colors"),e=Ut("spacing"),n=Ut("blur"),r=Ut("brightness"),s=Ut("borderColor"),i=Ut("borderRadius"),a=Ut("borderSpacing"),l=Ut("borderWidth"),u=Ut("contrast"),d=Ut("grayscale"),f=Ut("hueRotate"),g=Ut("invert"),y=Ut("gap"),x=Ut("gradientColorStops"),I=Ut("gradientColorStopPositions"),E=Ut("inset"),S=Ut("margin"),k=Ut("opacity"),A=Ut("padding"),N=Ut("saturate"),B=Ut("scale"),j=Ut("sepia"),G=Ut("skew"),O=Ut("space"),P=Ut("translate"),D=()=>["auto","contain","none"],M=()=>["auto","hidden","clip","visible","scroll"],F=()=>["auto",ut,e],$=()=>[ut,e],V=()=>["",Bi,$o],ne=()=>["auto",lu,ut],ve=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],de=()=>["solid","dashed","dotted","double","none"],me=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Z=()=>["start","end","center","between","around","evenly","stretch"],ce=()=>["","0",ut],ue=()=>["auto","avoid","all","avoid-page","page","left","right","column"],q=()=>[lu,ut];return{cacheSize:500,separator:":",theme:{colors:[Kd],spacing:[Bi,$o],blur:["none","",jo,ut],brightness:q(),borderColor:[t],borderRadius:["none","","full",jo,ut],borderSpacing:$(),borderWidth:V(),contrast:q(),grayscale:ce(),hueRotate:q(),invert:ce(),gap:$(),gradientColorStops:[t],gradientColorStopPositions:[Y9,$o],inset:F(),margin:F(),opacity:q(),padding:$(),saturate:q(),scale:q(),sepia:ce(),skew:q(),space:$(),translate:$()},classGroups:{aspect:[{aspect:["auto","square","video",ut]}],container:["container"],columns:[{columns:[jo]}],"break-after":[{"break-after":ue()}],"break-before":[{"break-before":ue()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ve(),ut]}],overflow:[{overflow:M()}],"overflow-x":[{"overflow-x":M()}],"overflow-y":[{"overflow-y":M()}],overscroll:[{overscroll:D()}],"overscroll-x":[{"overscroll-x":D()}],"overscroll-y":[{"overscroll-y":D()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[E]}],"inset-x":[{"inset-x":[E]}],"inset-y":[{"inset-y":[E]}],start:[{start:[E]}],end:[{end:[E]}],top:[{top:[E]}],right:[{right:[E]}],bottom:[{bottom:[E]}],left:[{left:[E]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",qd,ut]}],basis:[{basis:F()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ut]}],grow:[{grow:ce()}],shrink:[{shrink:ce()}],order:[{order:["first","last","none",qd,ut]}],"grid-cols":[{"grid-cols":[Kd]}],"col-start-end":[{col:["auto",{span:["full",qd,ut]},ut]}],"col-start":[{"col-start":ne()}],"col-end":[{"col-end":ne()}],"grid-rows":[{"grid-rows":[Kd]}],"row-start-end":[{row:["auto",{span:[qd,ut]},ut]}],"row-start":[{"row-start":ne()}],"row-end":[{"row-end":ne()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ut]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ut]}],gap:[{gap:[y]}],"gap-x":[{"gap-x":[y]}],"gap-y":[{"gap-y":[y]}],"justify-content":[{justify:["normal",...Z()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...Z(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...Z(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[A]}],px:[{px:[A]}],py:[{py:[A]}],ps:[{ps:[A]}],pe:[{pe:[A]}],pt:[{pt:[A]}],pr:[{pr:[A]}],pb:[{pb:[A]}],pl:[{pl:[A]}],m:[{m:[S]}],mx:[{mx:[S]}],my:[{my:[S]}],ms:[{ms:[S]}],me:[{me:[S]}],mt:[{mt:[S]}],mr:[{mr:[S]}],mb:[{mb:[S]}],ml:[{ml:[S]}],"space-x":[{"space-x":[O]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[O]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ut,e]}],"min-w":[{"min-w":[ut,e,"min","max","fit"]}],"max-w":[{"max-w":[ut,e,"none","full","min","max","fit","prose",{screen:[jo]},jo]}],h:[{h:[ut,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ut,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ut,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ut,e,"auto","min","max","fit"]}],"font-size":[{text:["base",jo,$o]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Ow]}],"font-family":[{font:[Kd]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ut]}],"line-clamp":[{"line-clamp":["none",lu,Ow]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Bi,ut]}],"list-image":[{"list-image":["none",ut]}],"list-style-type":[{list:["none","disc","decimal",ut]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[k]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[k]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...de(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Bi,$o]}],"underline-offset":[{"underline-offset":["auto",Bi,ut]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:$()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ut]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ut]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[k]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ve(),J9]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Z9]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},t6]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[I]}],"gradient-via-pos":[{via:[I]}],"gradient-to-pos":[{to:[I]}],"gradient-from":[{from:[x]}],"gradient-via":[{via:[x]}],"gradient-to":[{to:[x]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[k]}],"border-style":[{border:[...de(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[k]}],"divide-style":[{divide:de()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...de()]}],"outline-offset":[{"outline-offset":[Bi,ut]}],"outline-w":[{outline:[Bi,$o]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:V()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[k]}],"ring-offset-w":[{"ring-offset":[Bi,$o]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",jo,n6]}],"shadow-color":[{shadow:[Kd]}],opacity:[{opacity:[k]}],"mix-blend":[{"mix-blend":[...me(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":me()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[u]}],"drop-shadow":[{"drop-shadow":["","none",jo,ut]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[g]}],saturate:[{saturate:[N]}],sepia:[{sepia:[j]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[u]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[g]}],"backdrop-opacity":[{"backdrop-opacity":[k]}],"backdrop-saturate":[{"backdrop-saturate":[N]}],"backdrop-sepia":[{"backdrop-sepia":[j]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ut]}],duration:[{duration:q()}],ease:[{ease:["linear","in","out","in-out",ut]}],delay:[{delay:q()}],animate:[{animate:["none","spin","ping","pulse","bounce",ut]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[B]}],"scale-x":[{"scale-x":[B]}],"scale-y":[{"scale-y":[B]}],rotate:[{rotate:[qd,ut]}],"translate-x":[{"translate-x":[P]}],"translate-y":[{"translate-y":[P]}],"skew-x":[{"skew-x":[G]}],"skew-y":[{"skew-y":[G]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ut]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ut]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":$()}],"scroll-mx":[{"scroll-mx":$()}],"scroll-my":[{"scroll-my":$()}],"scroll-ms":[{"scroll-ms":$()}],"scroll-me":[{"scroll-me":$()}],"scroll-mt":[{"scroll-mt":$()}],"scroll-mr":[{"scroll-mr":$()}],"scroll-mb":[{"scroll-mb":$()}],"scroll-ml":[{"scroll-ml":$()}],"scroll-p":[{"scroll-p":$()}],"scroll-px":[{"scroll-px":$()}],"scroll-py":[{"scroll-py":$()}],"scroll-ps":[{"scroll-ps":$()}],"scroll-pe":[{"scroll-pe":$()}],"scroll-pt":[{"scroll-pt":$()}],"scroll-pr":[{"scroll-pr":$()}],"scroll-pb":[{"scroll-pb":$()}],"scroll-pl":[{"scroll-pl":$()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ut]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Bi,$o,Ow]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},a6=U9(o6);function tt(...t){return a6(LD(t))}function GD(t){const e=t.trim();if(!e)return"--";const n=e.split(/\s+/).filter(Boolean);return n.length>=2?`${n[0][0]}${n[1][0]}`.toUpperCase():e.substring(0,2).toUpperCase()}const l6=y9,QD=T.forwardRef(({className:t,...e},n)=>v.jsx(PD,{ref:n,className:tt("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));QD.displayName=PD.displayName;const c6=R0("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),YD=T.forwardRef(({className:t,variant:e,...n},r)=>v.jsx(RD,{ref:r,className:tt(c6({variant:e}),t),...n}));YD.displayName=RD.displayName;const u6=T.forwardRef(({className:t,...e},n)=>v.jsx(ND,{ref:n,className:tt("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));u6.displayName=ND.displayName;const XD=T.forwardRef(({className:t,...e},n)=>v.jsx(OD,{ref:n,className:tt("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:v.jsx(N0,{className:"h-4 w-4"})}));XD.displayName=OD.displayName;const ZD=T.forwardRef(({className:t,...e},n)=>v.jsx(kD,{ref:n,className:tt("text-sm font-semibold",t),...e}));ZD.displayName=kD.displayName;const JD=T.forwardRef(({className:t,...e},n)=>v.jsx(DD,{ref:n,className:tt("text-sm opacity-90",t),...e}));JD.displayName=DD.displayName;function d6(){const{toasts:t}=Ku();return v.jsxs(l6,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return v.jsxs(YD,{...i,children:[v.jsxs("div",{className:"grid gap-1",children:[n&&v.jsx(ZD,{children:n}),r&&v.jsx(JD,{children:r})]}),s,v.jsx(XD,{})]},e)}),v.jsx(QD,{})]})}var h6=bk[" useId ".trim().toString()]||(()=>{}),f6=0;function na(t){const[e,n]=T.useState(h6());return yn(()=>{n(r=>r??String(f6++))},[t]),e?`radix-${e}`:""}const p6=["top","right","bottom","left"],ma=Math.min,Hr=Math.max,Jm=Math.round,tm=Math.floor,di=t=>({x:t,y:t}),m6={left:"right",right:"left",bottom:"top",top:"bottom"},g6={start:"end",end:"start"};function Q_(t,e,n){return Hr(t,ma(e,n))}function Xi(t,e){return typeof t=="function"?t(e):t}function Zi(t){return t.split("-")[0]}function Qu(t){return t.split("-")[1]}function V0(t){return t==="x"?"y":"x"}function L0(t){return t==="y"?"height":"width"}function ga(t){return["top","bottom"].includes(Zi(t))?"y":"x"}function M0(t){return V0(ga(t))}function y6(t,e,n){n===void 0&&(n=!1);const r=Qu(t),s=M0(t),i=L0(s);let a=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(a=eg(a)),[a,eg(a)]}function v6(t){const e=eg(t);return[Y_(t),e,Y_(e)]}function Y_(t){return t.replace(/start|end/g,e=>g6[e])}function w6(t,e,n){const r=["left","right"],s=["right","left"],i=["top","bottom"],a=["bottom","top"];switch(t){case"top":case"bottom":return n?e?s:r:e?r:s;case"left":case"right":return e?i:a;default:return[]}}function _6(t,e,n,r){const s=Qu(t);let i=w6(Zi(t),n==="start",r);return s&&(i=i.map(a=>a+"-"+s),e&&(i=i.concat(i.map(Y_)))),i}function eg(t){return t.replace(/left|right|bottom|top/g,e=>m6[e])}function b6(t){return{top:0,right:0,bottom:0,left:0,...t}}function eN(t){return typeof t!="number"?b6(t):{top:t,right:t,bottom:t,left:t}}function tg(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function AC(t,e,n){let{reference:r,floating:s}=t;const i=ga(e),a=M0(e),l=L0(a),u=Zi(e),d=i==="y",f=r.x+r.width/2-s.width/2,g=r.y+r.height/2-s.height/2,y=r[l]/2-s[l]/2;let x;switch(u){case"top":x={x:f,y:r.y-s.height};break;case"bottom":x={x:f,y:r.y+r.height};break;case"right":x={x:r.x+r.width,y:g};break;case"left":x={x:r.x-s.width,y:g};break;default:x={x:r.x,y:r.y}}switch(Qu(e)){case"start":x[a]-=y*(n&&d?-1:1);break;case"end":x[a]+=y*(n&&d?-1:1);break}return x}const x6=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:a}=n,l=i.filter(Boolean),u=await(a.isRTL==null?void 0:a.isRTL(e));let d=await a.getElementRects({reference:t,floating:e,strategy:s}),{x:f,y:g}=AC(d,r,u),y=r,x={},I=0;for(let E=0;E<l.length;E++){const{name:S,fn:k}=l[E],{x:A,y:N,data:B,reset:j}=await k({x:f,y:g,initialPlacement:r,placement:y,strategy:s,middlewareData:x,rects:d,platform:a,elements:{reference:t,floating:e}});f=A??f,g=N??g,x={...x,[S]:{...x[S],...B}},j&&I<=50&&(I++,typeof j=="object"&&(j.placement&&(y=j.placement),j.rects&&(d=j.rects===!0?await a.getElementRects({reference:t,floating:e,strategy:s}):j.rects),{x:f,y:g}=AC(d,y,u)),E=-1)}return{x:f,y:g,placement:y,strategy:s,middlewareData:x}};async function Rh(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:a,elements:l,strategy:u}=t,{boundary:d="clippingAncestors",rootBoundary:f="viewport",elementContext:g="floating",altBoundary:y=!1,padding:x=0}=Xi(e,t),I=eN(x),S=l[y?g==="floating"?"reference":"floating":g],k=tg(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(S)))==null||n?S:S.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:d,rootBoundary:f,strategy:u})),A=g==="floating"?{x:r,y:s,width:a.floating.width,height:a.floating.height}:a.reference,N=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),B=await(i.isElement==null?void 0:i.isElement(N))?await(i.getScale==null?void 0:i.getScale(N))||{x:1,y:1}:{x:1,y:1},j=tg(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:A,offsetParent:N,strategy:u}):A);return{top:(k.top-j.top+I.top)/B.y,bottom:(j.bottom-k.bottom+I.bottom)/B.y,left:(k.left-j.left+I.left)/B.x,right:(j.right-k.right+I.right)/B.x}}const E6=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:a,elements:l,middlewareData:u}=e,{element:d,padding:f=0}=Xi(t,e)||{};if(d==null)return{};const g=eN(f),y={x:n,y:r},x=M0(s),I=L0(x),E=await a.getDimensions(d),S=x==="y",k=S?"top":"left",A=S?"bottom":"right",N=S?"clientHeight":"clientWidth",B=i.reference[I]+i.reference[x]-y[x]-i.floating[I],j=y[x]-i.reference[x],G=await(a.getOffsetParent==null?void 0:a.getOffsetParent(d));let O=G?G[N]:0;(!O||!await(a.isElement==null?void 0:a.isElement(G)))&&(O=l.floating[N]||i.floating[I]);const P=B/2-j/2,D=O/2-E[I]/2-1,M=ma(g[k],D),F=ma(g[A],D),$=M,V=O-E[I]-F,ne=O/2-E[I]/2+P,ve=Q_($,ne,V),de=!u.arrow&&Qu(s)!=null&&ne!==ve&&i.reference[I]/2-(ne<$?M:F)-E[I]/2<0,me=de?ne<$?ne-$:ne-V:0;return{[x]:y[x]+me,data:{[x]:ve,centerOffset:ne-ve-me,...de&&{alignmentOffset:me}},reset:de}}}),T6=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:a,initialPlacement:l,platform:u,elements:d}=e,{mainAxis:f=!0,crossAxis:g=!0,fallbackPlacements:y,fallbackStrategy:x="bestFit",fallbackAxisSideDirection:I="none",flipAlignment:E=!0,...S}=Xi(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const k=Zi(s),A=ga(l),N=Zi(l)===l,B=await(u.isRTL==null?void 0:u.isRTL(d.floating)),j=y||(N||!E?[eg(l)]:v6(l)),G=I!=="none";!y&&G&&j.push(..._6(l,E,I,B));const O=[l,...j],P=await Rh(e,S),D=[];let M=((r=i.flip)==null?void 0:r.overflows)||[];if(f&&D.push(P[k]),g){const ne=y6(s,a,B);D.push(P[ne[0]],P[ne[1]])}if(M=[...M,{placement:s,overflows:D}],!D.every(ne=>ne<=0)){var F,$;const ne=(((F=i.flip)==null?void 0:F.index)||0)+1,ve=O[ne];if(ve)return{data:{index:ne,overflows:M},reset:{placement:ve}};let de=($=M.filter(me=>me.overflows[0]<=0).sort((me,Z)=>me.overflows[1]-Z.overflows[1])[0])==null?void 0:$.placement;if(!de)switch(x){case"bestFit":{var V;const me=(V=M.filter(Z=>{if(G){const ce=ga(Z.placement);return ce===A||ce==="y"}return!0}).map(Z=>[Z.placement,Z.overflows.filter(ce=>ce>0).reduce((ce,ue)=>ce+ue,0)]).sort((Z,ce)=>Z[1]-ce[1])[0])==null?void 0:V[0];me&&(de=me);break}case"initialPlacement":de=l;break}if(s!==de)return{reset:{placement:de}}}return{}}}};function PC(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function RC(t){return p6.some(e=>t[e]>=0)}const S6=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=Xi(t,e);switch(r){case"referenceHidden":{const i=await Rh(e,{...s,elementContext:"reference"}),a=PC(i,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:RC(a)}}}case"escaped":{const i=await Rh(e,{...s,altBoundary:!0}),a=PC(i,n.floating);return{data:{escapedOffsets:a,escaped:RC(a)}}}default:return{}}}}};async function I6(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),a=Zi(n),l=Qu(n),u=ga(n)==="y",d=["left","top"].includes(a)?-1:1,f=i&&u?-1:1,g=Xi(e,t);let{mainAxis:y,crossAxis:x,alignmentAxis:I}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:g.mainAxis||0,crossAxis:g.crossAxis||0,alignmentAxis:g.alignmentAxis};return l&&typeof I=="number"&&(x=l==="end"?I*-1:I),u?{x:x*f,y:y*d}:{x:y*d,y:x*f}}const C6=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:a,middlewareData:l}=e,u=await I6(e,t);return a===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:s+u.x,y:i+u.y,data:{...u,placement:a}}}}},A6=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:a=!1,limiter:l={fn:S=>{let{x:k,y:A}=S;return{x:k,y:A}}},...u}=Xi(t,e),d={x:n,y:r},f=await Rh(e,u),g=ga(Zi(s)),y=V0(g);let x=d[y],I=d[g];if(i){const S=y==="y"?"top":"left",k=y==="y"?"bottom":"right",A=x+f[S],N=x-f[k];x=Q_(A,x,N)}if(a){const S=g==="y"?"top":"left",k=g==="y"?"bottom":"right",A=I+f[S],N=I-f[k];I=Q_(A,I,N)}const E=l.fn({...e,[y]:x,[g]:I});return{...E,data:{x:E.x-n,y:E.y-r,enabled:{[y]:i,[g]:a}}}}}},P6=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:a}=e,{offset:l=0,mainAxis:u=!0,crossAxis:d=!0}=Xi(t,e),f={x:n,y:r},g=ga(s),y=V0(g);let x=f[y],I=f[g];const E=Xi(l,e),S=typeof E=="number"?{mainAxis:E,crossAxis:0}:{mainAxis:0,crossAxis:0,...E};if(u){const N=y==="y"?"height":"width",B=i.reference[y]-i.floating[N]+S.mainAxis,j=i.reference[y]+i.reference[N]-S.mainAxis;x<B?x=B:x>j&&(x=j)}if(d){var k,A;const N=y==="y"?"width":"height",B=["top","left"].includes(Zi(s)),j=i.reference[g]-i.floating[N]+(B&&((k=a.offset)==null?void 0:k[g])||0)+(B?0:S.crossAxis),G=i.reference[g]+i.reference[N]+(B?0:((A=a.offset)==null?void 0:A[g])||0)-(B?S.crossAxis:0);I<j?I=j:I>G&&(I=G)}return{[y]:x,[g]:I}}}},R6=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:a,elements:l}=e,{apply:u=()=>{},...d}=Xi(t,e),f=await Rh(e,d),g=Zi(s),y=Qu(s),x=ga(s)==="y",{width:I,height:E}=i.floating;let S,k;g==="top"||g==="bottom"?(S=g,k=y===(await(a.isRTL==null?void 0:a.isRTL(l.floating))?"start":"end")?"left":"right"):(k=g,S=y==="end"?"top":"bottom");const A=E-f.top-f.bottom,N=I-f.left-f.right,B=ma(E-f[S],A),j=ma(I-f[k],N),G=!e.middlewareData.shift;let O=B,P=j;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(P=N),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(O=A),G&&!y){const M=Hr(f.left,0),F=Hr(f.right,0),$=Hr(f.top,0),V=Hr(f.bottom,0);x?P=I-2*(M!==0||F!==0?M+F:Hr(f.left,f.right)):O=E-2*($!==0||V!==0?$+V:Hr(f.top,f.bottom))}await u({...e,availableWidth:P,availableHeight:O});const D=await a.getDimensions(l.floating);return I!==D.width||E!==D.height?{reset:{rects:!0}}:{}}}};function Yg(){return typeof window<"u"}function Yu(t){return tN(t)?(t.nodeName||"").toLowerCase():"#document"}function Kr(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function bi(t){var e;return(e=(tN(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function tN(t){return Yg()?t instanceof Node||t instanceof Kr(t).Node:!1}function Us(t){return Yg()?t instanceof Element||t instanceof Kr(t).Element:!1}function mi(t){return Yg()?t instanceof HTMLElement||t instanceof Kr(t).HTMLElement:!1}function kC(t){return!Yg()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Kr(t).ShadowRoot}function af(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=zs(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(s)}function k6(t){return["table","td","th"].includes(Yu(t))}function Xg(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function $0(t){const e=j0(),n=Us(t)?zs(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function D6(t){let e=ya(t);for(;mi(e)&&!gu(e);){if($0(e))return e;if(Xg(e))return null;e=ya(e)}return null}function j0(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function gu(t){return["html","body","#document"].includes(Yu(t))}function zs(t){return Kr(t).getComputedStyle(t)}function Zg(t){return Us(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function ya(t){if(Yu(t)==="html")return t;const e=t.assignedSlot||t.parentNode||kC(t)&&t.host||bi(t);return kC(e)?e.host:e}function nN(t){const e=ya(t);return gu(e)?t.ownerDocument?t.ownerDocument.body:t.body:mi(e)&&af(e)?e:nN(e)}function kh(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=nN(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),a=Kr(s);if(i){const l=X_(a);return e.concat(a,a.visualViewport||[],af(s)?s:[],l&&n?kh(l):[])}return e.concat(s,kh(s,[],n))}function X_(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function rN(t){const e=zs(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=mi(t),i=s?t.offsetWidth:n,a=s?t.offsetHeight:r,l=Jm(n)!==i||Jm(r)!==a;return l&&(n=i,r=a),{width:n,height:r,$:l}}function F0(t){return Us(t)?t:t.contextElement}function cu(t){const e=F0(t);if(!mi(e))return di(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=rN(e);let a=(i?Jm(n.width):n.width)/r,l=(i?Jm(n.height):n.height)/s;return(!a||!Number.isFinite(a))&&(a=1),(!l||!Number.isFinite(l))&&(l=1),{x:a,y:l}}const N6=di(0);function sN(t){const e=Kr(t);return!j0()||!e.visualViewport?N6:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function O6(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Kr(t)?!1:e}function Pl(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=F0(t);let a=di(1);e&&(r?Us(r)&&(a=cu(r)):a=cu(t));const l=O6(i,n,r)?sN(i):di(0);let u=(s.left+l.x)/a.x,d=(s.top+l.y)/a.y,f=s.width/a.x,g=s.height/a.y;if(i){const y=Kr(i),x=r&&Us(r)?Kr(r):r;let I=y,E=X_(I);for(;E&&r&&x!==I;){const S=cu(E),k=E.getBoundingClientRect(),A=zs(E),N=k.left+(E.clientLeft+parseFloat(A.paddingLeft))*S.x,B=k.top+(E.clientTop+parseFloat(A.paddingTop))*S.y;u*=S.x,d*=S.y,f*=S.x,g*=S.y,u+=N,d+=B,I=Kr(E),E=X_(I)}}return tg({width:f,height:g,x:u,y:d})}function B0(t,e){const n=Zg(t).scrollLeft;return e?e.left+n:Pl(bi(t)).left+n}function iN(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),s=r.left+e.scrollLeft-(n?0:B0(t,r)),i=r.top+e.scrollTop;return{x:s,y:i}}function V6(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",a=bi(r),l=e?Xg(e.floating):!1;if(r===a||l&&i)return n;let u={scrollLeft:0,scrollTop:0},d=di(1);const f=di(0),g=mi(r);if((g||!g&&!i)&&((Yu(r)!=="body"||af(a))&&(u=Zg(r)),mi(r))){const x=Pl(r);d=cu(r),f.x=x.x+r.clientLeft,f.y=x.y+r.clientTop}const y=a&&!g&&!i?iN(a,u,!0):di(0);return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-u.scrollLeft*d.x+f.x+y.x,y:n.y*d.y-u.scrollTop*d.y+f.y+y.y}}function L6(t){return Array.from(t.getClientRects())}function M6(t){const e=bi(t),n=Zg(t),r=t.ownerDocument.body,s=Hr(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=Hr(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+B0(t);const l=-n.scrollTop;return zs(r).direction==="rtl"&&(a+=Hr(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:a,y:l}}function $6(t,e){const n=Kr(t),r=bi(t),s=n.visualViewport;let i=r.clientWidth,a=r.clientHeight,l=0,u=0;if(s){i=s.width,a=s.height;const d=j0();(!d||d&&e==="fixed")&&(l=s.offsetLeft,u=s.offsetTop)}return{width:i,height:a,x:l,y:u}}function j6(t,e){const n=Pl(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=mi(t)?cu(t):di(1),a=t.clientWidth*i.x,l=t.clientHeight*i.y,u=s*i.x,d=r*i.y;return{width:a,height:l,x:u,y:d}}function DC(t,e,n){let r;if(e==="viewport")r=$6(t,n);else if(e==="document")r=M6(bi(t));else if(Us(e))r=j6(e,n);else{const s=sN(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return tg(r)}function oN(t,e){const n=ya(t);return n===e||!Us(n)||gu(n)?!1:zs(n).position==="fixed"||oN(n,e)}function F6(t,e){const n=e.get(t);if(n)return n;let r=kh(t,[],!1).filter(l=>Us(l)&&Yu(l)!=="body"),s=null;const i=zs(t).position==="fixed";let a=i?ya(t):t;for(;Us(a)&&!gu(a);){const l=zs(a),u=$0(a);!u&&l.position==="fixed"&&(s=null),(i?!u&&!s:!u&&l.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||af(a)&&!u&&oN(t,a))?r=r.filter(f=>f!==a):s=l,a=ya(a)}return e.set(t,r),r}function B6(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const a=[...n==="clippingAncestors"?Xg(e)?[]:F6(e,this._c):[].concat(n),r],l=a[0],u=a.reduce((d,f)=>{const g=DC(e,f,s);return d.top=Hr(g.top,d.top),d.right=ma(g.right,d.right),d.bottom=ma(g.bottom,d.bottom),d.left=Hr(g.left,d.left),d},DC(e,l,s));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function U6(t){const{width:e,height:n}=rN(t);return{width:e,height:n}}function z6(t,e,n){const r=mi(e),s=bi(e),i=n==="fixed",a=Pl(t,!0,i,e);let l={scrollLeft:0,scrollTop:0};const u=di(0);if(r||!r&&!i)if((Yu(e)!=="body"||af(s))&&(l=Zg(e)),r){const y=Pl(e,!0,i,e);u.x=y.x+e.clientLeft,u.y=y.y+e.clientTop}else s&&(u.x=B0(s));const d=s&&!r&&!i?iN(s,l):di(0),f=a.left+l.scrollLeft-u.x-d.x,g=a.top+l.scrollTop-u.y-d.y;return{x:f,y:g,width:a.width,height:a.height}}function Vw(t){return zs(t).position==="static"}function NC(t,e){if(!mi(t)||zs(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return bi(t)===n&&(n=n.ownerDocument.body),n}function aN(t,e){const n=Kr(t);if(Xg(t))return n;if(!mi(t)){let s=ya(t);for(;s&&!gu(s);){if(Us(s)&&!Vw(s))return s;s=ya(s)}return n}let r=NC(t,e);for(;r&&k6(r)&&Vw(r);)r=NC(r,e);return r&&gu(r)&&Vw(r)&&!$0(r)?n:r||D6(t)||n}const W6=async function(t){const e=this.getOffsetParent||aN,n=this.getDimensions,r=await n(t.floating);return{reference:z6(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function H6(t){return zs(t).direction==="rtl"}const q6={convertOffsetParentRelativeRectToViewportRelativeRect:V6,getDocumentElement:bi,getClippingRect:B6,getOffsetParent:aN,getElementRects:W6,getClientRects:L6,getDimensions:U6,getScale:cu,isElement:Us,isRTL:H6};function lN(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function K6(t,e){let n=null,r;const s=bi(t);function i(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function a(l,u){l===void 0&&(l=!1),u===void 0&&(u=1),i();const d=t.getBoundingClientRect(),{left:f,top:g,width:y,height:x}=d;if(l||e(),!y||!x)return;const I=tm(g),E=tm(s.clientWidth-(f+y)),S=tm(s.clientHeight-(g+x)),k=tm(f),N={rootMargin:-I+"px "+-E+"px "+-S+"px "+-k+"px",threshold:Hr(0,ma(1,u))||1};let B=!0;function j(G){const O=G[0].intersectionRatio;if(O!==u){if(!B)return a();O?a(!1,O):r=setTimeout(()=>{a(!1,1e-7)},1e3)}O===1&&!lN(d,t.getBoundingClientRect())&&a(),B=!1}try{n=new IntersectionObserver(j,{...N,root:s.ownerDocument})}catch{n=new IntersectionObserver(j,N)}n.observe(t)}return a(!0),i}function G6(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:u=!1}=r,d=F0(t),f=s||i?[...d?kh(d):[],...kh(e)]:[];f.forEach(k=>{s&&k.addEventListener("scroll",n,{passive:!0}),i&&k.addEventListener("resize",n)});const g=d&&l?K6(d,n):null;let y=-1,x=null;a&&(x=new ResizeObserver(k=>{let[A]=k;A&&A.target===d&&x&&(x.unobserve(e),cancelAnimationFrame(y),y=requestAnimationFrame(()=>{var N;(N=x)==null||N.observe(e)})),n()}),d&&!u&&x.observe(d),x.observe(e));let I,E=u?Pl(t):null;u&&S();function S(){const k=Pl(t);E&&!lN(E,k)&&n(),E=k,I=requestAnimationFrame(S)}return n(),()=>{var k;f.forEach(A=>{s&&A.removeEventListener("scroll",n),i&&A.removeEventListener("resize",n)}),g?.(),(k=x)==null||k.disconnect(),x=null,u&&cancelAnimationFrame(I)}}const Q6=C6,Y6=A6,X6=T6,Z6=R6,J6=S6,OC=E6,eW=P6,tW=(t,e,n)=>{const r=new Map,s={platform:q6,...n},i={...s.platform,_c:r};return x6(t,e,{...s,platform:i})};var xm=typeof document<"u"?T.useLayoutEffect:T.useEffect;function ng(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!ng(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!ng(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function cN(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function VC(t,e){const n=cN(t);return Math.round(e*n)/n}function Lw(t){const e=T.useRef(t);return xm(()=>{e.current=t}),e}function nW(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:a}={},transform:l=!0,whileElementsMounted:u,open:d}=t,[f,g]=T.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[y,x]=T.useState(r);ng(y,r)||x(r);const[I,E]=T.useState(null),[S,k]=T.useState(null),A=T.useCallback(Z=>{Z!==G.current&&(G.current=Z,E(Z))},[]),N=T.useCallback(Z=>{Z!==O.current&&(O.current=Z,k(Z))},[]),B=i||I,j=a||S,G=T.useRef(null),O=T.useRef(null),P=T.useRef(f),D=u!=null,M=Lw(u),F=Lw(s),$=Lw(d),V=T.useCallback(()=>{if(!G.current||!O.current)return;const Z={placement:e,strategy:n,middleware:y};F.current&&(Z.platform=F.current),tW(G.current,O.current,Z).then(ce=>{const ue={...ce,isPositioned:$.current!==!1};ne.current&&!ng(P.current,ue)&&(P.current=ue,zl.flushSync(()=>{g(ue)}))})},[y,e,n,F,$]);xm(()=>{d===!1&&P.current.isPositioned&&(P.current.isPositioned=!1,g(Z=>({...Z,isPositioned:!1})))},[d]);const ne=T.useRef(!1);xm(()=>(ne.current=!0,()=>{ne.current=!1}),[]),xm(()=>{if(B&&(G.current=B),j&&(O.current=j),B&&j){if(M.current)return M.current(B,j,V);V()}},[B,j,V,M,D]);const ve=T.useMemo(()=>({reference:G,floating:O,setReference:A,setFloating:N}),[A,N]),de=T.useMemo(()=>({reference:B,floating:j}),[B,j]),me=T.useMemo(()=>{const Z={position:n,left:0,top:0};if(!de.floating)return Z;const ce=VC(de.floating,f.x),ue=VC(de.floating,f.y);return l?{...Z,transform:"translate("+ce+"px, "+ue+"px)",...cN(de.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:ce,top:ue}},[n,l,de.floating,f.x,f.y]);return T.useMemo(()=>({...f,update:V,refs:ve,elements:de,floatingStyles:me}),[f,V,ve,de,me])}const rW=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?OC({element:r.current,padding:s}).fn(n):{}:r?OC({element:r,padding:s}).fn(n):{}}}},sW=(t,e)=>({...Q6(t),options:[t,e]}),iW=(t,e)=>({...Y6(t),options:[t,e]}),oW=(t,e)=>({...eW(t),options:[t,e]}),aW=(t,e)=>({...X6(t),options:[t,e]}),lW=(t,e)=>({...Z6(t),options:[t,e]}),cW=(t,e)=>({...J6(t),options:[t,e]}),uW=(t,e)=>({...rW(t),options:[t,e]});var dW="Arrow",uN=T.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return v.jsx(Je.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:v.jsx("polygon",{points:"0,0 30,0 15,10"})})});uN.displayName=dW;var hW=uN;function dN(t){const[e,n]=T.useState(void 0);return yn(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let a,l;if("borderBoxSize"in i){const u=i.borderBoxSize,d=Array.isArray(u)?u[0]:u;a=d.inlineSize,l=d.blockSize}else a=t.offsetWidth,l=t.offsetHeight;n({width:a,height:l})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var U0="Popper",[hN,Jg]=Ws(U0),[fW,fN]=hN(U0),pN=t=>{const{__scopePopper:e,children:n}=t,[r,s]=T.useState(null);return v.jsx(fW,{scope:e,anchor:r,onAnchorChange:s,children:n})};pN.displayName=U0;var mN="PopperAnchor",gN=T.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=fN(mN,n),a=T.useRef(null),l=Tt(e,a);return T.useEffect(()=>{i.onAnchorChange(r?.current||a.current)}),r?null:v.jsx(Je.div,{...s,ref:l})});gN.displayName=mN;var z0="PopperContent",[pW,mW]=hN(z0),yN=T.forwardRef((t,e)=>{const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:a=0,arrowPadding:l=0,avoidCollisions:u=!0,collisionBoundary:d=[],collisionPadding:f=0,sticky:g="partial",hideWhenDetached:y=!1,updatePositionStrategy:x="optimized",onPlaced:I,...E}=t,S=fN(z0,n),[k,A]=T.useState(null),N=Tt(e,xe=>A(xe)),[B,j]=T.useState(null),G=dN(B),O=G?.width??0,P=G?.height??0,D=r+(i!=="center"?"-"+i:""),M=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},F=Array.isArray(d)?d:[d],$=F.length>0,V={padding:M,boundary:F.filter(yW),altBoundary:$},{refs:ne,floatingStyles:ve,placement:de,isPositioned:me,middlewareData:Z}=nW({strategy:"fixed",placement:D,whileElementsMounted:(...xe)=>G6(...xe,{animationFrame:x==="always"}),elements:{reference:S.anchor},middleware:[sW({mainAxis:s+P,alignmentAxis:a}),u&&iW({mainAxis:!0,crossAxis:!1,limiter:g==="partial"?oW():void 0,...V}),u&&aW({...V}),lW({...V,apply:({elements:xe,rects:Ve,availableWidth:Ke,availableHeight:Ge})=>{const{width:lt,height:pt}=Ve.reference,Vt=xe.floating.style;Vt.setProperty("--radix-popper-available-width",`${Ke}px`),Vt.setProperty("--radix-popper-available-height",`${Ge}px`),Vt.setProperty("--radix-popper-anchor-width",`${lt}px`),Vt.setProperty("--radix-popper-anchor-height",`${pt}px`)}}),B&&uW({element:B,padding:l}),vW({arrowWidth:O,arrowHeight:P}),y&&cW({strategy:"referenceHidden",...V})]}),[ce,ue]=_N(de),q=sn(I);yn(()=>{me&&q?.()},[me,q]);const re=Z.arrow?.x,Ce=Z.arrow?.y,Re=Z.arrow?.centerOffset!==0,[qe,et]=T.useState();return yn(()=>{k&&et(window.getComputedStyle(k).zIndex)},[k]),v.jsx("div",{ref:ne.setFloating,"data-radix-popper-content-wrapper":"",style:{...ve,transform:me?ve.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:qe,"--radix-popper-transform-origin":[Z.transformOrigin?.x,Z.transformOrigin?.y].join(" "),...Z.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:v.jsx(pW,{scope:n,placedSide:ce,onArrowChange:j,arrowX:re,arrowY:Ce,shouldHideArrow:Re,children:v.jsx(Je.div,{"data-side":ce,"data-align":ue,...E,ref:N,style:{...E.style,animation:me?void 0:"none"}})})})});yN.displayName=z0;var vN="PopperArrow",gW={top:"bottom",right:"left",bottom:"top",left:"right"},wN=T.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=mW(vN,r),a=gW[i.placedSide];return v.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:v.jsx(hW,{...s,ref:n,style:{...s.style,display:"block"}})})});wN.displayName=vN;function yW(t){return t!==null}var vW=t=>({name:"transformOrigin",options:t,fn(e){const{placement:n,rects:r,middlewareData:s}=e,a=s.arrow?.centerOffset!==0,l=a?0:t.arrowWidth,u=a?0:t.arrowHeight,[d,f]=_N(n),g={start:"0%",center:"50%",end:"100%"}[f],y=(s.arrow?.x??0)+l/2,x=(s.arrow?.y??0)+u/2;let I="",E="";return d==="bottom"?(I=a?g:`${y}px`,E=`${-u}px`):d==="top"?(I=a?g:`${y}px`,E=`${r.floating.height+u}px`):d==="right"?(I=`${-u}px`,E=a?g:`${x}px`):d==="left"&&(I=`${r.floating.width+u}px`,E=a?g:`${x}px`),{data:{x:I,y:E}}}});function _N(t){const[e,n="center"]=t.split("-");return[e,n]}var wW=pN,bN=gN,xN=yN,EN=wN,[ey]=Ws("Tooltip",[Jg]),W0=Jg(),TN="TooltipProvider",_W=700,LC="tooltip.open",[bW,SN]=ey(TN),IN=t=>{const{__scopeTooltip:e,delayDuration:n=_W,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,a=T.useRef(!0),l=T.useRef(!1),u=T.useRef(0);return T.useEffect(()=>{const d=u.current;return()=>window.clearTimeout(d)},[]),v.jsx(bW,{scope:e,isOpenDelayedRef:a,delayDuration:n,onOpen:T.useCallback(()=>{window.clearTimeout(u.current),a.current=!1},[]),onClose:T.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>a.current=!0,r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:T.useCallback(d=>{l.current=d},[]),disableHoverableContent:s,children:i})};IN.displayName=TN;var CN="Tooltip",[ase,ty]=ey(CN),Z_="TooltipTrigger",xW=T.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=ty(Z_,n),i=SN(Z_,n),a=W0(n),l=T.useRef(null),u=Tt(e,l,s.onTriggerChange),d=T.useRef(!1),f=T.useRef(!1),g=T.useCallback(()=>d.current=!1,[]);return T.useEffect(()=>()=>document.removeEventListener("pointerup",g),[g]),v.jsx(bN,{asChild:!0,...a,children:v.jsx(Je.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:u,onPointerMove:We(t.onPointerMove,y=>{y.pointerType!=="touch"&&!f.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),f.current=!0)}),onPointerLeave:We(t.onPointerLeave,()=>{s.onTriggerLeave(),f.current=!1}),onPointerDown:We(t.onPointerDown,()=>{s.open&&s.onClose(),d.current=!0,document.addEventListener("pointerup",g,{once:!0})}),onFocus:We(t.onFocus,()=>{d.current||s.onOpen()}),onBlur:We(t.onBlur,s.onClose),onClick:We(t.onClick,s.onClose)})})});xW.displayName=Z_;var EW="TooltipPortal",[lse,TW]=ey(EW,{forceMount:void 0}),yu="TooltipContent",AN=T.forwardRef((t,e)=>{const n=TW(yu,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,a=ty(yu,t.__scopeTooltip);return v.jsx(_s,{present:r||a.open,children:a.disableHoverableContent?v.jsx(PN,{side:s,...i,ref:e}):v.jsx(SW,{side:s,...i,ref:e})})}),SW=T.forwardRef((t,e)=>{const n=ty(yu,t.__scopeTooltip),r=SN(yu,t.__scopeTooltip),s=T.useRef(null),i=Tt(e,s),[a,l]=T.useState(null),{trigger:u,onClose:d}=n,f=s.current,{onPointerInTransitChange:g}=r,y=T.useCallback(()=>{l(null),g(!1)},[g]),x=T.useCallback((I,E)=>{const S=I.currentTarget,k={x:I.clientX,y:I.clientY},A=RW(k,S.getBoundingClientRect()),N=kW(k,A),B=DW(E.getBoundingClientRect()),j=OW([...N,...B]);l(j),g(!0)},[g]);return T.useEffect(()=>()=>y(),[y]),T.useEffect(()=>{if(u&&f){const I=S=>x(S,f),E=S=>x(S,u);return u.addEventListener("pointerleave",I),f.addEventListener("pointerleave",E),()=>{u.removeEventListener("pointerleave",I),f.removeEventListener("pointerleave",E)}}},[u,f,x,y]),T.useEffect(()=>{if(a){const I=E=>{const S=E.target,k={x:E.clientX,y:E.clientY},A=u?.contains(S)||f?.contains(S),N=!NW(k,a);A?y():N&&(y(),d())};return document.addEventListener("pointermove",I),()=>document.removeEventListener("pointermove",I)}},[u,f,a,d,y]),v.jsx(PN,{...t,ref:i})}),[IW,CW]=ey(CN,{isInside:!1}),AW=N5("TooltipContent"),PN=T.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:a,...l}=t,u=ty(yu,n),d=W0(n),{onClose:f}=u;return T.useEffect(()=>(document.addEventListener(LC,f),()=>document.removeEventListener(LC,f)),[f]),T.useEffect(()=>{if(u.trigger){const g=y=>{y.target?.contains(u.trigger)&&f()};return window.addEventListener("scroll",g,{capture:!0}),()=>window.removeEventListener("scroll",g,{capture:!0})}},[u.trigger,f]),v.jsx(sf,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:g=>g.preventDefault(),onDismiss:f,children:v.jsxs(xN,{"data-state":u.stateAttribute,...d,...l,ref:e,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[v.jsx(AW,{children:r}),v.jsx(IW,{scope:n,isInside:!0,children:v.jsx(J5,{id:u.contentId,role:"tooltip",children:s||r})})]})})});AN.displayName=yu;var RN="TooltipArrow",PW=T.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=W0(n);return CW(RN,n).isInside?null:v.jsx(EN,{...s,...r,ref:e})});PW.displayName=RN;function RW(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function kW(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function DW(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function NW(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,a=e.length-1;i<e.length;a=i++){const l=e[i].x,u=e[i].y,d=e[a].x,f=e[a].y;u>r!=f>r&&n<(d-l)*(r-u)/(f-u)+l&&(s=!s)}return s}function OW(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),VW(e)}function VW(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],a=e[e.length-2];if((i.x-a.x)*(s.y-a.y)>=(i.y-a.y)*(s.x-a.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],a=n[n.length-2];if((i.x-a.x)*(s.y-a.y)>=(i.y-a.y)*(s.x-a.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var LW=IN,kN=AN;const MW=LW,$W=T.forwardRef(({className:t,sideOffset:e=4,...n},r)=>v.jsx(kN,{ref:r,sideOffset:e,className:tt("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",t),...n}));$W.displayName=kN.displayName;const Qo=T.forwardRef(({className:t,...e},n)=>v.jsx("div",{ref:n,className:tt("shadcn-card rounded-xl border bg-card border-card-border text-card-foreground shadow-sm",t),...e}));Qo.displayName="Card";const H0=T.forwardRef(({className:t,...e},n)=>v.jsx("div",{ref:n,className:tt("flex flex-col space-y-1.5 p-6",t),...e}));H0.displayName="CardHeader";const q0=T.forwardRef(({className:t,...e},n)=>v.jsx("div",{ref:n,className:tt("text-2xl font-semibold leading-none tracking-tight",t),...e}));q0.displayName="CardTitle";const K0=T.forwardRef(({className:t,...e},n)=>v.jsx("div",{ref:n,className:tt("text-sm text-muted-foreground",t),...e}));K0.displayName="CardDescription";const Yo=T.forwardRef(({className:t,...e},n)=>v.jsx("div",{ref:n,className:tt("p-6 pt-0",t),...e}));Yo.displayName="CardContent";const jW=T.forwardRef(({className:t,...e},n)=>v.jsx("div",{ref:n,className:tt("flex items-center p-6 pt-0",t),...e}));jW.displayName="CardFooter";function FW(){return v.jsx("div",{className:"page-scroll w-full flex items-center justify-center bg-gray-50 safe-area-top safe-area-bottom",children:v.jsx(Qo,{className:"w-full max-w-md mx-4",children:v.jsxs(Yo,{className:"pt-6",children:[v.jsxs("div",{className:"flex mb-4 gap-2",children:[v.jsx(E9,{className:"h-8 w-8 text-red-500"}),v.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Pgina no encontrada"})]}),v.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Parece que a rota no foi configurada."})]})})})}var MC={};const DN=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},BW=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],a=t[n++],l=t[n++],u=((s&7)<<18|(i&63)<<12|(a&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const i=t[n++],a=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|a&63)}}return e.join("")},NN={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],a=s+1<t.length,l=a?t[s+1]:0,u=s+2<t.length,d=u?t[s+2]:0,f=i>>2,g=(i&3)<<4|l>>4;let y=(l&15)<<2|d>>6,x=d&63;u||(x=64,a||(y=64)),r.push(n[f],n[g],n[y],n[x])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(DN(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):BW(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],l=s<t.length?n[t.charAt(s)]:0;++s;const d=s<t.length?n[t.charAt(s)]:64;++s;const g=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||l==null||d==null||g==null)throw new UW;const y=i<<2|l>>4;if(r.push(y),d!==64){const x=l<<4&240|d>>2;if(r.push(x),g!==64){const I=d<<6&192|g;r.push(I)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class UW extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const zW=function(t){const e=DN(t);return NN.encodeByteArray(e,!0)},ON=function(t){return zW(t).replace(/\./g,"")},VN=function(t){try{return NN.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function WW(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const HW=()=>WW().__FIREBASE_DEFAULTS__,qW=()=>{if(typeof process>"u"||typeof MC>"u")return;const t=MC.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},KW=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&VN(t[1]);return e&&JSON.parse(e)},G0=()=>{try{return HW()||qW()||KW()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},GW=()=>{var t;return(t=G0())===null||t===void 0?void 0:t.config},QW=t=>{var e;return(e=G0())===null||e===void 0?void 0:e[`_${t}`]};class YW{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function Hn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function XW(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Hn())}function ZW(){var t;const e=(t=G0())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function JW(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function eH(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function tH(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function nH(){const t=Hn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function LN(){return!ZW()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function MN(){try{return typeof indexedDB=="object"}catch{return!1}}function rH(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}const sH="FirebaseError";class xi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=sH,Object.setPrototypeOf(this,xi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,lf.prototype.create)}}class lf{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],a=i?iH(i,r):"Error",l=`${this.serviceName}: ${a} (${s}).`;return new xi(s,l,r)}}function iH(t,e){return t.replace(oH,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const oH=/\{\$([^}]+)}/g;function Dh(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],a=e[s];if($C(i)&&$C(a)){if(!Dh(i,a))return!1}else if(i!==a)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function $C(t){return t!==null&&typeof t=="object"}function $N(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function nh(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function rh(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function aH(t,e){const n=new lH(t,e);return n.subscribe.bind(n)}class lH{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");cH(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Mw),s.error===void 0&&(s.error=Mw),s.complete===void 0&&(s.complete=Mw);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function cH(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Mw(){}function Cn(t){return t&&t._delegate?t._delegate:t}class Rl{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const rl="[DEFAULT]";class uH{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new YW;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),s=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(hH(e))try{this.getOrInitializeService({instanceIdentifier:rl})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=rl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=rl){return this.instances.has(e)}getOptions(e=rl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);r===l&&a.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const a=this.instances.get(s);return a&&e(a,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:dH(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=rl){return this.component?this.component.multipleInstances?e:rl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function dH(t){return t===rl?void 0:t}function hH(t){return t.instantiationMode==="EAGER"}class fH{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new uH(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var mt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(mt||(mt={}));const pH={debug:mt.DEBUG,verbose:mt.VERBOSE,info:mt.INFO,warn:mt.WARN,error:mt.ERROR,silent:mt.SILENT},mH=mt.INFO,gH={[mt.DEBUG]:"log",[mt.VERBOSE]:"log",[mt.INFO]:"info",[mt.WARN]:"warn",[mt.ERROR]:"error"},yH=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=gH[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Q0{constructor(e){this.name=e,this._logLevel=mH,this._logHandler=yH,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in mt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?pH[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,mt.DEBUG,...e),this._logHandler(this,mt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,mt.VERBOSE,...e),this._logHandler(this,mt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,mt.INFO,...e),this._logHandler(this,mt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,mt.WARN,...e),this._logHandler(this,mt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,mt.ERROR,...e),this._logHandler(this,mt.ERROR,...e)}}const vH=(t,e)=>e.some(n=>t instanceof n);let jC,FC;function wH(){return jC||(jC=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function _H(){return FC||(FC=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const jN=new WeakMap,J_=new WeakMap,FN=new WeakMap,$w=new WeakMap,Y0=new WeakMap;function bH(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",a)},i=()=>{n(ra(t.result)),s()},a=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&jN.set(n,t)}).catch(()=>{}),Y0.set(e,t),e}function xH(t){if(J_.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",a),t.removeEventListener("abort",a)},i=()=>{n(),s()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",a),t.addEventListener("abort",a)});J_.set(t,e)}let eb={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return J_.get(t);if(e==="objectStoreNames")return t.objectStoreNames||FN.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ra(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function EH(t){eb=t(eb)}function TH(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(jw(this),e,...n);return FN.set(r,e.sort?e.sort():[e]),ra(r)}:_H().includes(t)?function(...e){return t.apply(jw(this),e),ra(jN.get(this))}:function(...e){return ra(t.apply(jw(this),e))}}function SH(t){return typeof t=="function"?TH(t):(t instanceof IDBTransaction&&xH(t),vH(t,wH())?new Proxy(t,eb):t)}function ra(t){if(t instanceof IDBRequest)return bH(t);if($w.has(t))return $w.get(t);const e=SH(t);return e!==t&&($w.set(t,e),Y0.set(e,t)),e}const jw=t=>Y0.get(t);function IH(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const a=indexedDB.open(t,e),l=ra(a);return r&&a.addEventListener("upgradeneeded",u=>{r(ra(a.result),u.oldVersion,u.newVersion,ra(a.transaction),u)}),n&&a.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),l.then(u=>{i&&u.addEventListener("close",()=>i()),s&&u.addEventListener("versionchange",d=>s(d.oldVersion,d.newVersion,d))}).catch(()=>{}),l}const CH=["get","getKey","getAll","getAllKeys","count"],AH=["put","add","delete","clear"],Fw=new Map;function BC(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Fw.get(e))return Fw.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=AH.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||CH.includes(n)))return;const i=async function(a,...l){const u=this.transaction(a,s?"readwrite":"readonly");let d=u.store;return r&&(d=d.index(l.shift())),(await Promise.all([d[n](...l),s&&u.done]))[0]};return Fw.set(e,i),i}EH(t=>({...t,get:(e,n,r)=>BC(e,n)||t.get(e,n,r),has:(e,n)=>!!BC(e,n)||t.has(e,n)}));class PH{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(RH(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function RH(t){const e=t.getComponent();return e?.type==="VERSION"}const tb="@firebase/app",UC="0.10.13";const Ji=new Q0("@firebase/app"),kH="@firebase/app-compat",DH="@firebase/analytics-compat",NH="@firebase/analytics",OH="@firebase/app-check-compat",VH="@firebase/app-check",LH="@firebase/auth",MH="@firebase/auth-compat",$H="@firebase/database",jH="@firebase/data-connect",FH="@firebase/database-compat",BH="@firebase/functions",UH="@firebase/functions-compat",zH="@firebase/installations",WH="@firebase/installations-compat",HH="@firebase/messaging",qH="@firebase/messaging-compat",KH="@firebase/performance",GH="@firebase/performance-compat",QH="@firebase/remote-config",YH="@firebase/remote-config-compat",XH="@firebase/storage",ZH="@firebase/storage-compat",JH="@firebase/firestore",eq="@firebase/vertexai-preview",tq="@firebase/firestore-compat",nq="firebase",rq="10.14.1";const sq="[DEFAULT]",iq={[tb]:"fire-core",[kH]:"fire-core-compat",[NH]:"fire-analytics",[DH]:"fire-analytics-compat",[VH]:"fire-app-check",[OH]:"fire-app-check-compat",[LH]:"fire-auth",[MH]:"fire-auth-compat",[$H]:"fire-rtdb",[jH]:"fire-data-connect",[FH]:"fire-rtdb-compat",[BH]:"fire-fn",[UH]:"fire-fn-compat",[zH]:"fire-iid",[WH]:"fire-iid-compat",[HH]:"fire-fcm",[qH]:"fire-fcm-compat",[KH]:"fire-perf",[GH]:"fire-perf-compat",[QH]:"fire-rc",[YH]:"fire-rc-compat",[XH]:"fire-gcs",[ZH]:"fire-gcs-compat",[JH]:"fire-fst",[tq]:"fire-fst-compat",[eq]:"fire-vertex","fire-js":"fire-js",[nq]:"fire-js-all"};const nb=new Map,oq=new Map,rb=new Map;function zC(t,e){try{t.container.addComponent(e)}catch(n){Ji.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function vu(t){const e=t.name;if(rb.has(e))return Ji.debug(`There were multiple attempts to register component ${e}.`),!1;rb.set(e,t);for(const n of nb.values())zC(n,t);for(const n of oq.values())zC(n,t);return!0}function BN(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function hl(t){return t.settings!==void 0}const aq={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},yl=new lf("app","Firebase",aq);class lq{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Rl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw yl.create("app-deleted",{appName:this._name})}}const ny=rq;function cq(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:sq,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw yl.create("bad-app-name",{appName:String(s)});if(n||(n=GW()),!n)throw yl.create("no-options");const i=nb.get(s);if(i){if(Dh(n,i.options)&&Dh(r,i.config))return i;throw yl.create("duplicate-app",{appName:s})}const a=new fH(s);for(const u of rb.values())a.addComponent(u);const l=new lq(n,r,a);return nb.set(s,l),l}function sa(t,e,n){var r;let s=(r=iq[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const l=[`Unable to register library "${s}" with version "${e}":`];i&&l.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&a&&l.push("and"),a&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ji.warn(l.join(" "));return}vu(new Rl(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const uq="firebase-heartbeat-database",dq=1,Nh="firebase-heartbeat-store";let Bw=null;function UN(){return Bw||(Bw=IH(uq,dq,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Nh)}catch(n){console.warn(n)}}}}).catch(t=>{throw yl.create("idb-open",{originalErrorMessage:t.message})})),Bw}async function hq(t){try{const n=(await UN()).transaction(Nh),r=await n.objectStore(Nh).get(zN(t));return await n.done,r}catch(e){if(e instanceof xi)Ji.warn(e.message);else{const n=yl.create("idb-get",{originalErrorMessage:e?.message});Ji.warn(n.message)}}}async function WC(t,e){try{const r=(await UN()).transaction(Nh,"readwrite");await r.objectStore(Nh).put(e,zN(t)),await r.done}catch(n){if(n instanceof xi)Ji.warn(n.message);else{const r=yl.create("idb-set",{originalErrorMessage:n?.message});Ji.warn(r.message)}}}function zN(t){return`${t.name}!${t.options.appId}`}const fq=1024,pq=720*60*60*1e3;class mq{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new yq(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=HC();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(a=>a.date===i)?void 0:(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{const l=new Date(a.date).valueOf();return Date.now()-l<=pq}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Ji.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=HC(),{heartbeatsToSend:r,unsentEntries:s}=gq(this._heartbeatsCache.heartbeats),i=ON(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return Ji.warn(n),""}}}function HC(){return new Date().toISOString().substring(0,10)}function gq(t,e=fq){const n=[];let r=t.slice();for(const s of t){const i=n.find(a=>a.agent===s.agent);if(i){if(i.dates.push(s.date),qC(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),qC(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class yq{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return MN()?rH().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await hq(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return WC(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return WC(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function qC(t){return ON(JSON.stringify({version:2,heartbeats:t})).length}function vq(t){vu(new Rl("platform-logger",e=>new PH(e),"PRIVATE")),vu(new Rl("heartbeat",e=>new mq(e),"PRIVATE")),sa(tb,UC,t),sa(tb,UC,"esm2017"),sa("fire-js","")}vq("");var KC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var vl,WN;(function(){var t;function e(O,P){function D(){}D.prototype=P.prototype,O.D=P.prototype,O.prototype=new D,O.prototype.constructor=O,O.C=function(M,F,$){for(var V=Array(arguments.length-2),ne=2;ne<arguments.length;ne++)V[ne-2]=arguments[ne];return P.prototype[F].apply(M,V)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(O,P,D){D||(D=0);var M=Array(16);if(typeof P=="string")for(var F=0;16>F;++F)M[F]=P.charCodeAt(D++)|P.charCodeAt(D++)<<8|P.charCodeAt(D++)<<16|P.charCodeAt(D++)<<24;else for(F=0;16>F;++F)M[F]=P[D++]|P[D++]<<8|P[D++]<<16|P[D++]<<24;P=O.g[0],D=O.g[1],F=O.g[2];var $=O.g[3],V=P+($^D&(F^$))+M[0]+3614090360&4294967295;P=D+(V<<7&4294967295|V>>>25),V=$+(F^P&(D^F))+M[1]+3905402710&4294967295,$=P+(V<<12&4294967295|V>>>20),V=F+(D^$&(P^D))+M[2]+606105819&4294967295,F=$+(V<<17&4294967295|V>>>15),V=D+(P^F&($^P))+M[3]+3250441966&4294967295,D=F+(V<<22&4294967295|V>>>10),V=P+($^D&(F^$))+M[4]+4118548399&4294967295,P=D+(V<<7&4294967295|V>>>25),V=$+(F^P&(D^F))+M[5]+1200080426&4294967295,$=P+(V<<12&4294967295|V>>>20),V=F+(D^$&(P^D))+M[6]+2821735955&4294967295,F=$+(V<<17&4294967295|V>>>15),V=D+(P^F&($^P))+M[7]+4249261313&4294967295,D=F+(V<<22&4294967295|V>>>10),V=P+($^D&(F^$))+M[8]+1770035416&4294967295,P=D+(V<<7&4294967295|V>>>25),V=$+(F^P&(D^F))+M[9]+2336552879&4294967295,$=P+(V<<12&4294967295|V>>>20),V=F+(D^$&(P^D))+M[10]+4294925233&4294967295,F=$+(V<<17&4294967295|V>>>15),V=D+(P^F&($^P))+M[11]+2304563134&4294967295,D=F+(V<<22&4294967295|V>>>10),V=P+($^D&(F^$))+M[12]+1804603682&4294967295,P=D+(V<<7&4294967295|V>>>25),V=$+(F^P&(D^F))+M[13]+4254626195&4294967295,$=P+(V<<12&4294967295|V>>>20),V=F+(D^$&(P^D))+M[14]+2792965006&4294967295,F=$+(V<<17&4294967295|V>>>15),V=D+(P^F&($^P))+M[15]+1236535329&4294967295,D=F+(V<<22&4294967295|V>>>10),V=P+(F^$&(D^F))+M[1]+4129170786&4294967295,P=D+(V<<5&4294967295|V>>>27),V=$+(D^F&(P^D))+M[6]+3225465664&4294967295,$=P+(V<<9&4294967295|V>>>23),V=F+(P^D&($^P))+M[11]+643717713&4294967295,F=$+(V<<14&4294967295|V>>>18),V=D+($^P&(F^$))+M[0]+3921069994&4294967295,D=F+(V<<20&4294967295|V>>>12),V=P+(F^$&(D^F))+M[5]+3593408605&4294967295,P=D+(V<<5&4294967295|V>>>27),V=$+(D^F&(P^D))+M[10]+38016083&4294967295,$=P+(V<<9&4294967295|V>>>23),V=F+(P^D&($^P))+M[15]+3634488961&4294967295,F=$+(V<<14&4294967295|V>>>18),V=D+($^P&(F^$))+M[4]+3889429448&4294967295,D=F+(V<<20&4294967295|V>>>12),V=P+(F^$&(D^F))+M[9]+568446438&4294967295,P=D+(V<<5&4294967295|V>>>27),V=$+(D^F&(P^D))+M[14]+3275163606&4294967295,$=P+(V<<9&4294967295|V>>>23),V=F+(P^D&($^P))+M[3]+4107603335&4294967295,F=$+(V<<14&4294967295|V>>>18),V=D+($^P&(F^$))+M[8]+1163531501&4294967295,D=F+(V<<20&4294967295|V>>>12),V=P+(F^$&(D^F))+M[13]+2850285829&4294967295,P=D+(V<<5&4294967295|V>>>27),V=$+(D^F&(P^D))+M[2]+4243563512&4294967295,$=P+(V<<9&4294967295|V>>>23),V=F+(P^D&($^P))+M[7]+1735328473&4294967295,F=$+(V<<14&4294967295|V>>>18),V=D+($^P&(F^$))+M[12]+2368359562&4294967295,D=F+(V<<20&4294967295|V>>>12),V=P+(D^F^$)+M[5]+4294588738&4294967295,P=D+(V<<4&4294967295|V>>>28),V=$+(P^D^F)+M[8]+2272392833&4294967295,$=P+(V<<11&4294967295|V>>>21),V=F+($^P^D)+M[11]+1839030562&4294967295,F=$+(V<<16&4294967295|V>>>16),V=D+(F^$^P)+M[14]+4259657740&4294967295,D=F+(V<<23&4294967295|V>>>9),V=P+(D^F^$)+M[1]+2763975236&4294967295,P=D+(V<<4&4294967295|V>>>28),V=$+(P^D^F)+M[4]+1272893353&4294967295,$=P+(V<<11&4294967295|V>>>21),V=F+($^P^D)+M[7]+4139469664&4294967295,F=$+(V<<16&4294967295|V>>>16),V=D+(F^$^P)+M[10]+3200236656&4294967295,D=F+(V<<23&4294967295|V>>>9),V=P+(D^F^$)+M[13]+681279174&4294967295,P=D+(V<<4&4294967295|V>>>28),V=$+(P^D^F)+M[0]+3936430074&4294967295,$=P+(V<<11&4294967295|V>>>21),V=F+($^P^D)+M[3]+3572445317&4294967295,F=$+(V<<16&4294967295|V>>>16),V=D+(F^$^P)+M[6]+76029189&4294967295,D=F+(V<<23&4294967295|V>>>9),V=P+(D^F^$)+M[9]+3654602809&4294967295,P=D+(V<<4&4294967295|V>>>28),V=$+(P^D^F)+M[12]+3873151461&4294967295,$=P+(V<<11&4294967295|V>>>21),V=F+($^P^D)+M[15]+530742520&4294967295,F=$+(V<<16&4294967295|V>>>16),V=D+(F^$^P)+M[2]+3299628645&4294967295,D=F+(V<<23&4294967295|V>>>9),V=P+(F^(D|~$))+M[0]+4096336452&4294967295,P=D+(V<<6&4294967295|V>>>26),V=$+(D^(P|~F))+M[7]+1126891415&4294967295,$=P+(V<<10&4294967295|V>>>22),V=F+(P^($|~D))+M[14]+2878612391&4294967295,F=$+(V<<15&4294967295|V>>>17),V=D+($^(F|~P))+M[5]+4237533241&4294967295,D=F+(V<<21&4294967295|V>>>11),V=P+(F^(D|~$))+M[12]+1700485571&4294967295,P=D+(V<<6&4294967295|V>>>26),V=$+(D^(P|~F))+M[3]+2399980690&4294967295,$=P+(V<<10&4294967295|V>>>22),V=F+(P^($|~D))+M[10]+4293915773&4294967295,F=$+(V<<15&4294967295|V>>>17),V=D+($^(F|~P))+M[1]+2240044497&4294967295,D=F+(V<<21&4294967295|V>>>11),V=P+(F^(D|~$))+M[8]+1873313359&4294967295,P=D+(V<<6&4294967295|V>>>26),V=$+(D^(P|~F))+M[15]+4264355552&4294967295,$=P+(V<<10&4294967295|V>>>22),V=F+(P^($|~D))+M[6]+2734768916&4294967295,F=$+(V<<15&4294967295|V>>>17),V=D+($^(F|~P))+M[13]+1309151649&4294967295,D=F+(V<<21&4294967295|V>>>11),V=P+(F^(D|~$))+M[4]+4149444226&4294967295,P=D+(V<<6&4294967295|V>>>26),V=$+(D^(P|~F))+M[11]+3174756917&4294967295,$=P+(V<<10&4294967295|V>>>22),V=F+(P^($|~D))+M[2]+718787259&4294967295,F=$+(V<<15&4294967295|V>>>17),V=D+($^(F|~P))+M[9]+3951481745&4294967295,O.g[0]=O.g[0]+P&4294967295,O.g[1]=O.g[1]+(F+(V<<21&4294967295|V>>>11))&4294967295,O.g[2]=O.g[2]+F&4294967295,O.g[3]=O.g[3]+$&4294967295}r.prototype.u=function(O,P){P===void 0&&(P=O.length);for(var D=P-this.blockSize,M=this.B,F=this.h,$=0;$<P;){if(F==0)for(;$<=D;)s(this,O,$),$+=this.blockSize;if(typeof O=="string"){for(;$<P;)if(M[F++]=O.charCodeAt($++),F==this.blockSize){s(this,M),F=0;break}}else for(;$<P;)if(M[F++]=O[$++],F==this.blockSize){s(this,M),F=0;break}}this.h=F,this.o+=P},r.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var P=1;P<O.length-8;++P)O[P]=0;var D=8*this.o;for(P=O.length-8;P<O.length;++P)O[P]=D&255,D/=256;for(this.u(O),O=Array(16),P=D=0;4>P;++P)for(var M=0;32>M;M+=8)O[D++]=this.g[P]>>>M&255;return O};function i(O,P){var D=l;return Object.prototype.hasOwnProperty.call(D,O)?D[O]:D[O]=P(O)}function a(O,P){this.h=P;for(var D=[],M=!0,F=O.length-1;0<=F;F--){var $=O[F]|0;M&&$==P||(D[F]=$,M=!1)}this.g=D}var l={};function u(O){return-128<=O&&128>O?i(O,function(P){return new a([P|0],0>P?-1:0)}):new a([O|0],0>O?-1:0)}function d(O){if(isNaN(O)||!isFinite(O))return g;if(0>O)return S(d(-O));for(var P=[],D=1,M=0;O>=D;M++)P[M]=O/D|0,D*=4294967296;return new a(P,0)}function f(O,P){if(O.length==0)throw Error("number format error: empty string");if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(O.charAt(0)=="-")return S(f(O.substring(1),P));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var D=d(Math.pow(P,8)),M=g,F=0;F<O.length;F+=8){var $=Math.min(8,O.length-F),V=parseInt(O.substring(F,F+$),P);8>$?($=d(Math.pow(P,$)),M=M.j($).add(d(V))):(M=M.j(D),M=M.add(d(V)))}return M}var g=u(0),y=u(1),x=u(16777216);t=a.prototype,t.m=function(){if(E(this))return-S(this).m();for(var O=0,P=1,D=0;D<this.g.length;D++){var M=this.i(D);O+=(0<=M?M:4294967296+M)*P,P*=4294967296}return O},t.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(I(this))return"0";if(E(this))return"-"+S(this).toString(O);for(var P=d(Math.pow(O,6)),D=this,M="";;){var F=B(D,P).g;D=k(D,F.j(P));var $=((0<D.g.length?D.g[0]:D.h)>>>0).toString(O);if(D=F,I(D))return $+M;for(;6>$.length;)$="0"+$;M=$+M}},t.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function I(O){if(O.h!=0)return!1;for(var P=0;P<O.g.length;P++)if(O.g[P]!=0)return!1;return!0}function E(O){return O.h==-1}t.l=function(O){return O=k(this,O),E(O)?-1:I(O)?0:1};function S(O){for(var P=O.g.length,D=[],M=0;M<P;M++)D[M]=~O.g[M];return new a(D,~O.h).add(y)}t.abs=function(){return E(this)?S(this):this},t.add=function(O){for(var P=Math.max(this.g.length,O.g.length),D=[],M=0,F=0;F<=P;F++){var $=M+(this.i(F)&65535)+(O.i(F)&65535),V=($>>>16)+(this.i(F)>>>16)+(O.i(F)>>>16);M=V>>>16,$&=65535,V&=65535,D[F]=V<<16|$}return new a(D,D[D.length-1]&-2147483648?-1:0)};function k(O,P){return O.add(S(P))}t.j=function(O){if(I(this)||I(O))return g;if(E(this))return E(O)?S(this).j(S(O)):S(S(this).j(O));if(E(O))return S(this.j(S(O)));if(0>this.l(x)&&0>O.l(x))return d(this.m()*O.m());for(var P=this.g.length+O.g.length,D=[],M=0;M<2*P;M++)D[M]=0;for(M=0;M<this.g.length;M++)for(var F=0;F<O.g.length;F++){var $=this.i(M)>>>16,V=this.i(M)&65535,ne=O.i(F)>>>16,ve=O.i(F)&65535;D[2*M+2*F]+=V*ve,A(D,2*M+2*F),D[2*M+2*F+1]+=$*ve,A(D,2*M+2*F+1),D[2*M+2*F+1]+=V*ne,A(D,2*M+2*F+1),D[2*M+2*F+2]+=$*ne,A(D,2*M+2*F+2)}for(M=0;M<P;M++)D[M]=D[2*M+1]<<16|D[2*M];for(M=P;M<2*P;M++)D[M]=0;return new a(D,0)};function A(O,P){for(;(O[P]&65535)!=O[P];)O[P+1]+=O[P]>>>16,O[P]&=65535,P++}function N(O,P){this.g=O,this.h=P}function B(O,P){if(I(P))throw Error("division by zero");if(I(O))return new N(g,g);if(E(O))return P=B(S(O),P),new N(S(P.g),S(P.h));if(E(P))return P=B(O,S(P)),new N(S(P.g),P.h);if(30<O.g.length){if(E(O)||E(P))throw Error("slowDivide_ only works with positive integers.");for(var D=y,M=P;0>=M.l(O);)D=j(D),M=j(M);var F=G(D,1),$=G(M,1);for(M=G(M,2),D=G(D,2);!I(M);){var V=$.add(M);0>=V.l(O)&&(F=F.add(D),$=V),M=G(M,1),D=G(D,1)}return P=k(O,F.j(P)),new N(F,P)}for(F=g;0<=O.l(P);){for(D=Math.max(1,Math.floor(O.m()/P.m())),M=Math.ceil(Math.log(D)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),$=d(D),V=$.j(P);E(V)||0<V.l(O);)D-=M,$=d(D),V=$.j(P);I($)&&($=y),F=F.add($),O=k(O,V)}return new N(F,O)}t.A=function(O){return B(this,O).h},t.and=function(O){for(var P=Math.max(this.g.length,O.g.length),D=[],M=0;M<P;M++)D[M]=this.i(M)&O.i(M);return new a(D,this.h&O.h)},t.or=function(O){for(var P=Math.max(this.g.length,O.g.length),D=[],M=0;M<P;M++)D[M]=this.i(M)|O.i(M);return new a(D,this.h|O.h)},t.xor=function(O){for(var P=Math.max(this.g.length,O.g.length),D=[],M=0;M<P;M++)D[M]=this.i(M)^O.i(M);return new a(D,this.h^O.h)};function j(O){for(var P=O.g.length+1,D=[],M=0;M<P;M++)D[M]=O.i(M)<<1|O.i(M-1)>>>31;return new a(D,O.h)}function G(O,P){var D=P>>5;P%=32;for(var M=O.g.length-D,F=[],$=0;$<M;$++)F[$]=0<P?O.i($+D)>>>P|O.i($+D+1)<<32-P:O.i($+D);return new a(F,O.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,WN=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=d,a.fromString=f,vl=a}).apply(typeof KC<"u"?KC:typeof self<"u"?self:typeof window<"u"?window:{});var nm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var HN,sh,qN,Em,sb,KN,GN,QN;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(p,_,C){return p==Array.prototype||p==Object.prototype||(p[_]=C.value),p};function n(p){p=[typeof globalThis=="object"&&globalThis,p,typeof window=="object"&&window,typeof self=="object"&&self,typeof nm=="object"&&nm];for(var _=0;_<p.length;++_){var C=p[_];if(C&&C.Math==Math)return C}throw Error("Cannot find global object")}var r=n(this);function s(p,_){if(_)e:{var C=r;p=p.split(".");for(var L=0;L<p.length-1;L++){var Q=p[L];if(!(Q in C))break e;C=C[Q]}p=p[p.length-1],L=C[p],_=_(L),_!=L&&_!=null&&e(C,p,{configurable:!0,writable:!0,value:_})}}function i(p,_){p instanceof String&&(p+="");var C=0,L=!1,Q={next:function(){if(!L&&C<p.length){var ie=C++;return{value:_(ie,p[ie]),done:!1}}return L=!0,{done:!0,value:void 0}}};return Q[Symbol.iterator]=function(){return Q},Q}s("Array.prototype.values",function(p){return p||function(){return i(this,function(_,C){return C})}});var a=a||{},l=this||self;function u(p){var _=typeof p;return _=_!="object"?_:p?Array.isArray(p)?"array":_:"null",_=="array"||_=="object"&&typeof p.length=="number"}function d(p){var _=typeof p;return _=="object"&&p!=null||_=="function"}function f(p,_,C){return p.call.apply(p.bind,arguments)}function g(p,_,C){if(!p)throw Error();if(2<arguments.length){var L=Array.prototype.slice.call(arguments,2);return function(){var Q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Q,L),p.apply(_,Q)}}return function(){return p.apply(_,arguments)}}function y(p,_,C){return y=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:g,y.apply(null,arguments)}function x(p,_){var C=Array.prototype.slice.call(arguments,1);return function(){var L=C.slice();return L.push.apply(L,arguments),p.apply(this,L)}}function I(p,_){function C(){}C.prototype=_.prototype,p.aa=_.prototype,p.prototype=new C,p.prototype.constructor=p,p.Qb=function(L,Q,ie){for(var Ee=Array(arguments.length-2),kt=2;kt<arguments.length;kt++)Ee[kt-2]=arguments[kt];return _.prototype[Q].apply(L,Ee)}}function E(p){const _=p.length;if(0<_){const C=Array(_);for(let L=0;L<_;L++)C[L]=p[L];return C}return[]}function S(p,_){for(let C=1;C<arguments.length;C++){const L=arguments[C];if(u(L)){const Q=p.length||0,ie=L.length||0;p.length=Q+ie;for(let Ee=0;Ee<ie;Ee++)p[Q+Ee]=L[Ee]}else p.push(L)}}class k{constructor(_,C){this.i=_,this.j=C,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function A(p){return/^[\s\xa0]*$/.test(p)}function N(){var p=l.navigator;return p&&(p=p.userAgent)?p:""}function B(p){return B[" "](p),p}B[" "]=function(){};var j=N().indexOf("Gecko")!=-1&&!(N().toLowerCase().indexOf("webkit")!=-1&&N().indexOf("Edge")==-1)&&!(N().indexOf("Trident")!=-1||N().indexOf("MSIE")!=-1)&&N().indexOf("Edge")==-1;function G(p,_,C){for(const L in p)_.call(C,p[L],L,p)}function O(p,_){for(const C in p)_.call(void 0,p[C],C,p)}function P(p){const _={};for(const C in p)_[C]=p[C];return _}const D="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(p,_){let C,L;for(let Q=1;Q<arguments.length;Q++){L=arguments[Q];for(C in L)p[C]=L[C];for(let ie=0;ie<D.length;ie++)C=D[ie],Object.prototype.hasOwnProperty.call(L,C)&&(p[C]=L[C])}}function F(p){var _=1;p=p.split(":");const C=[];for(;0<_&&p.length;)C.push(p.shift()),_--;return p.length&&C.push(p.join(":")),C}function $(p){l.setTimeout(()=>{throw p},0)}function V(){var p=ce;let _=null;return p.g&&(_=p.g,p.g=p.g.next,p.g||(p.h=null),_.next=null),_}class ne{constructor(){this.h=this.g=null}add(_,C){const L=ve.get();L.set(_,C),this.h?this.h.next=L:this.g=L,this.h=L}}var ve=new k(()=>new de,p=>p.reset());class de{constructor(){this.next=this.g=this.h=null}set(_,C){this.h=_,this.g=C,this.next=null}reset(){this.next=this.g=this.h=null}}let me,Z=!1,ce=new ne,ue=()=>{const p=l.Promise.resolve(void 0);me=()=>{p.then(q)}};var q=()=>{for(var p;p=V();){try{p.h.call(p.g)}catch(C){$(C)}var _=ve;_.j(p),100>_.h&&(_.h++,p.next=_.g,_.g=p)}Z=!1};function re(){this.s=this.s,this.C=this.C}re.prototype.s=!1,re.prototype.ma=function(){this.s||(this.s=!0,this.N())},re.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ce(p,_){this.type=p,this.g=this.target=_,this.defaultPrevented=!1}Ce.prototype.h=function(){this.defaultPrevented=!0};var Re=(function(){if(!l.addEventListener||!Object.defineProperty)return!1;var p=!1,_=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const C=()=>{};l.addEventListener("test",C,_),l.removeEventListener("test",C,_)}catch{}return p})();function qe(p,_){if(Ce.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p){var C=this.type=p.type,L=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;if(this.target=p.target||p.srcElement,this.g=_,_=p.relatedTarget){if(j){e:{try{B(_.nodeName);var Q=!0;break e}catch{}Q=!1}Q||(_=null)}}else C=="mouseover"?_=p.fromElement:C=="mouseout"&&(_=p.toElement);this.relatedTarget=_,L?(this.clientX=L.clientX!==void 0?L.clientX:L.pageX,this.clientY=L.clientY!==void 0?L.clientY:L.pageY,this.screenX=L.screenX||0,this.screenY=L.screenY||0):(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType=typeof p.pointerType=="string"?p.pointerType:et[p.pointerType]||"",this.state=p.state,this.i=p,p.defaultPrevented&&qe.aa.h.call(this)}}I(qe,Ce);var et={2:"touch",3:"pen",4:"mouse"};qe.prototype.h=function(){qe.aa.h.call(this);var p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var xe="closure_listenable_"+(1e6*Math.random()|0),Ve=0;function Ke(p,_,C,L,Q){this.listener=p,this.proxy=null,this.src=_,this.type=C,this.capture=!!L,this.ha=Q,this.key=++Ve,this.da=this.fa=!1}function Ge(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function lt(p){this.src=p,this.g={},this.h=0}lt.prototype.add=function(p,_,C,L,Q){var ie=p.toString();p=this.g[ie],p||(p=this.g[ie]=[],this.h++);var Ee=Vt(p,_,L,Q);return-1<Ee?(_=p[Ee],C||(_.fa=!1)):(_=new Ke(_,this.src,ie,!!L,Q),_.fa=C,p.push(_)),_};function pt(p,_){var C=_.type;if(C in p.g){var L=p.g[C],Q=Array.prototype.indexOf.call(L,_,void 0),ie;(ie=0<=Q)&&Array.prototype.splice.call(L,Q,1),ie&&(Ge(_),p.g[C].length==0&&(delete p.g[C],p.h--))}}function Vt(p,_,C,L){for(var Q=0;Q<p.length;++Q){var ie=p[Q];if(!ie.da&&ie.listener==_&&ie.capture==!!C&&ie.ha==L)return Q}return-1}var Lt="closure_lm_"+(1e6*Math.random()|0),Kn={};function Gn(p,_,C,L,Q){if(Array.isArray(_)){for(var ie=0;ie<_.length;ie++)Gn(p,_[ie],C,L,Q);return null}return C=Ie(C),p&&p[xe]?p.K(_,C,d(L)?!!L.capture:!1,Q):Qn(p,_,C,!1,L,Q)}function Qn(p,_,C,L,Q,ie){if(!_)throw Error("Invalid event type");var Ee=d(Q)?!!Q.capture:!!Q,kt=X(p);if(kt||(p[Lt]=kt=new lt(p)),C=kt.add(_,C,L,Ee,ie),C.proxy)return C;if(L=qs(),C.proxy=L,L.src=p,L.listener=C,p.addEventListener)Re||(Q=Ee),Q===void 0&&(Q=!1),p.addEventListener(_.toString(),L,Q);else if(p.attachEvent)p.attachEvent(_n(_.toString()),L);else if(p.addListener&&p.removeListener)p.addListener(L);else throw Error("addEventListener and attachEvent are unavailable.");return C}function qs(){function p(C){return _.call(p.src,p.listener,C)}const _=z;return p}function Zr(p,_,C,L,Q){if(Array.isArray(_))for(var ie=0;ie<_.length;ie++)Zr(p,_[ie],C,L,Q);else L=d(L)?!!L.capture:!!L,C=Ie(C),p&&p[xe]?(p=p.i,_=String(_).toString(),_ in p.g&&(ie=p.g[_],C=Vt(ie,C,L,Q),-1<C&&(Ge(ie[C]),Array.prototype.splice.call(ie,C,1),ie.length==0&&(delete p.g[_],p.h--)))):p&&(p=X(p))&&(_=p.g[_.toString()],p=-1,_&&(p=Vt(_,C,L,Q)),(C=-1<p?_[p]:null)&&yr(C))}function yr(p){if(typeof p!="number"&&p&&!p.da){var _=p.src;if(_&&_[xe])pt(_.i,p);else{var C=p.type,L=p.proxy;_.removeEventListener?_.removeEventListener(C,L,p.capture):_.detachEvent?_.detachEvent(_n(C),L):_.addListener&&_.removeListener&&_.removeListener(L),(C=X(_))?(pt(C,p),C.h==0&&(C.src=null,_[Lt]=null)):Ge(p)}}}function _n(p){return p in Kn?Kn[p]:Kn[p]="on"+p}function z(p,_){if(p.da)p=!0;else{_=new qe(_,this);var C=p.listener,L=p.ha||p.src;p.fa&&yr(p),p=C.call(L,_)}return p}function X(p){return p=p[Lt],p instanceof lt?p:null}var oe="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ie(p){return typeof p=="function"?p:(p[oe]||(p[oe]=function(_){return p.handleEvent(_)}),p[oe])}function fe(){re.call(this),this.i=new lt(this),this.M=this,this.F=null}I(fe,re),fe.prototype[xe]=!0,fe.prototype.removeEventListener=function(p,_,C,L){Zr(this,p,_,C,L)};function W(p,_){var C,L=p.F;if(L)for(C=[];L;L=L.F)C.push(L);if(p=p.M,L=_.type||_,typeof _=="string")_=new Ce(_,p);else if(_ instanceof Ce)_.target=_.target||p;else{var Q=_;_=new Ce(L,p),M(_,Q)}if(Q=!0,C)for(var ie=C.length-1;0<=ie;ie--){var Ee=_.g=C[ie];Q=ae(Ee,L,!0,_)&&Q}if(Ee=_.g=p,Q=ae(Ee,L,!0,_)&&Q,Q=ae(Ee,L,!1,_)&&Q,C)for(ie=0;ie<C.length;ie++)Ee=_.g=C[ie],Q=ae(Ee,L,!1,_)&&Q}fe.prototype.N=function(){if(fe.aa.N.call(this),this.i){var p=this.i,_;for(_ in p.g){for(var C=p.g[_],L=0;L<C.length;L++)Ge(C[L]);delete p.g[_],p.h--}}this.F=null},fe.prototype.K=function(p,_,C,L){return this.i.add(String(p),_,!1,C,L)},fe.prototype.L=function(p,_,C,L){return this.i.add(String(p),_,!0,C,L)};function ae(p,_,C,L){if(_=p.i.g[String(_)],!_)return!0;_=_.concat();for(var Q=!0,ie=0;ie<_.length;++ie){var Ee=_[ie];if(Ee&&!Ee.da&&Ee.capture==C){var kt=Ee.listener,bn=Ee.ha||Ee.src;Ee.fa&&pt(p.i,Ee),Q=kt.call(bn,L)!==!1&&Q}}return Q&&!L.defaultPrevented}function we(p,_,C){if(typeof p=="function")C&&(p=y(p,C));else if(p&&typeof p.handleEvent=="function")p=y(p.handleEvent,p);else throw Error("Invalid listener argument");return 2147483647<Number(_)?-1:l.setTimeout(p,_||0)}function ze(p){p.g=we(()=>{p.g=null,p.i&&(p.i=!1,ze(p))},p.l);const _=p.h;p.h=null,p.m.apply(null,_)}class yt extends re{constructor(_,C){super(),this.m=_,this.l=C,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:ze(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Pn(p){re.call(this),this.h=p,this.g={}}I(Pn,re);var Ze=[];function vr(p){G(p.g,function(_,C){this.g.hasOwnProperty(C)&&yr(_)},p),p.g={}}Pn.prototype.N=function(){Pn.aa.N.call(this),vr(this)},Pn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ti=l.JSON.stringify,Ks=l.JSON.parse,Si=class{stringify(p){return l.JSON.stringify(p,void 0)}parse(p){return l.JSON.parse(p,void 0)}};function Jr(){}Jr.prototype.h=null;function lo(p){return p.h||(p.h=p.i())}function co(){}var wr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function es(){Ce.call(this,"d")}I(es,Ce);function uo(){Ce.call(this,"c")}I(uo,Ce);var ts={},ka=null;function Ii(){return ka=ka||new fe}ts.La="serverreachability";function Da(p){Ce.call(this,ts.La,p)}I(Da,Ce);function _r(p){const _=Ii();W(_,new Da(_))}ts.STAT_EVENT="statevent";function Na(p,_){Ce.call(this,ts.STAT_EVENT,p),this.stat=_}I(Na,Ce);function Wt(p){const _=Ii();W(_,new Na(_,p))}ts.Ma="timingevent";function ns(p,_){Ce.call(this,ts.Ma,p),this.size=_}I(ns,Ce);function br(p,_){if(typeof p!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){p()},_)}function hn(){this.g=!0}hn.prototype.xa=function(){this.g=!1};function Ci(p,_,C,L,Q,ie){p.info(function(){if(p.g)if(ie)for(var Ee="",kt=ie.split("&"),bn=0;bn<kt.length;bn++){var _t=kt[bn].split("=");if(1<_t.length){var Rn=_t[0];_t=_t[1];var fn=Rn.split("_");Ee=2<=fn.length&&fn[1]=="type"?Ee+(Rn+"="+_t+"&"):Ee+(Rn+"=redacted&")}}else Ee=null;else Ee=ie;return"XMLHTTP REQ ("+L+") [attempt "+Q+"]: "+_+`
`+C+`
`+Ee})}function ho(p,_,C,L,Q,ie,Ee){p.info(function(){return"XMLHTTP RESP ("+L+") [ attempt "+Q+"]: "+_+`
`+C+`
`+ie+" "+Ee})}function Or(p,_,C,L){p.info(function(){return"XMLHTTP TEXT ("+_+"): "+ud(p,C)+(L?" "+L:"")})}function fo(p,_){p.info(function(){return"TIMEOUT: "+_})}hn.prototype.info=function(){};function ud(p,_){if(!p.g)return _;if(!_)return null;try{var C=JSON.parse(_);if(C){for(p=0;p<C.length;p++)if(Array.isArray(C[p])){var L=C[p];if(!(2>L.length)){var Q=L[1];if(Array.isArray(Q)&&!(1>Q.length)){var ie=Q[0];if(ie!="noop"&&ie!="stop"&&ie!="close")for(var Ee=1;Ee<Q.length;Ee++)Q[Ee]=""}}}}return Ti(C)}catch{return _}}var po={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Xl={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Vr;function Gs(){}I(Gs,Jr),Gs.prototype.g=function(){return new XMLHttpRequest},Gs.prototype.i=function(){return{}},Vr=new Gs;function Lr(p,_,C,L){this.j=p,this.i=_,this.l=C,this.R=L||1,this.U=new Pn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Oa}function Oa(){this.i=null,this.g="",this.h=!1}var Zl={},Va={};function se(p,_,C){p.L=1,p.v=wo($r(_)),p.m=C,p.P=!0,ke(p,null)}function ke(p,_){p.F=Date.now(),ct(p),p.A=$r(p.v);var C=p.A,L=p.R;Array.isArray(L)||(L=[String(L)]),bo(C.i,"t",L),p.C=0,C=p.j.J,p.h=new Oa,p.g=qf(p.j,C?_:null,!p.m),0<p.O&&(p.M=new yt(y(p.Y,p,p.g),p.O)),_=p.U,C=p.g,L=p.ca;var Q="readystatechange";Array.isArray(Q)||(Q&&(Ze[0]=Q.toString()),Q=Ze);for(var ie=0;ie<Q.length;ie++){var Ee=Gn(C,Q[ie],L||_.handleEvent,!1,_.h||_);if(!Ee)break;_.g[Ee.key]=Ee}_=p.H?P(p.H):{},p.m?(p.u||(p.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.A,p.u,p.m,_)):(p.u="GET",p.g.ea(p.A,p.u,null,_)),_r(),Ci(p.i,p.u,p.A,p.l,p.R,p.m)}Lr.prototype.ca=function(p){p=p.target;const _=this.M;_&&Er(p)==3?_.j():this.Y(p)},Lr.prototype.Y=function(p){try{if(p==this.g)e:{const fn=Er(this.g);var _=this.g.Ba();const is=this.g.Z();if(!(3>fn)&&(fn!=3||this.g&&(this.h.h||this.g.oa()||gd(this.g)))){this.J||fn!=4||_==7||(_==8||0>=is?_r(3):_r(2)),or(this);var C=this.g.Z();this.X=C;t:if(ot(this)){var L=gd(this.g);p="";var Q=L.length,ie=Er(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){rs(this),mo(this);var Ee="";break t}this.h.i=new l.TextDecoder}for(_=0;_<Q;_++)this.h.h=!0,p+=this.h.i.decode(L[_],{stream:!(ie&&_==Q-1)});L.length=0,this.h.g+=p,this.C=0,Ee=this.h.g}else Ee=this.g.oa();if(this.o=C==200,ho(this.i,this.u,this.A,this.l,this.R,fn,C),this.o){if(this.T&&!this.K){t:{if(this.g){var kt,bn=this.g;if((kt=bn.g?bn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!A(kt)){var _t=kt;break t}}_t=null}if(C=_t)Or(this.i,this.l,C,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,dd(this,C);else{this.o=!1,this.s=3,Wt(12),rs(this),mo(this);break e}}if(this.P){C=!0;let Fr;for(;!this.J&&this.C<Ee.length;)if(Fr=jt(this,Ee),Fr==Va){fn==4&&(this.s=4,Wt(14),C=!1),Or(this.i,this.l,null,"[Incomplete Response]");break}else if(Fr==Zl){this.s=4,Wt(15),Or(this.i,this.l,Ee,"[Invalid Chunk]"),C=!1;break}else Or(this.i,this.l,Fr,null),dd(this,Fr);if(ot(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),fn!=4||Ee.length!=0||this.h.h||(this.s=1,Wt(16),C=!1),this.o=this.o&&C,!C)Or(this.i,this.l,Ee,"[Invalid Chunked Response]"),rs(this),mo(this);else if(0<Ee.length&&!this.W){this.W=!0;var Rn=this.j;Rn.g==this&&Rn.ba&&!Rn.M&&(Rn.j.info("Great, no buffering proxy detected. Bytes received: "+Ee.length),vd(Rn),Rn.M=!0,Wt(11))}}else Or(this.i,this.l,Ee,null),dd(this,Ee);fn==4&&rs(this),this.o&&!this.J&&(fn==4?cc(this.j,this):(this.o=!1,ct(this)))}else sc(this.g),C==400&&0<Ee.indexOf("Unknown SID")?(this.s=3,Wt(12)):(this.s=0,Wt(13)),rs(this),mo(this)}}}catch{}};function ot(p){return p.g?p.u=="GET"&&p.L!=2&&p.j.Ca:!1}function jt(p,_){var C=p.C,L=_.indexOf(`
`,C);return L==-1?Va:(C=Number(_.substring(C,L)),isNaN(C)?Zl:(L+=1,L+C>_.length?Va:(_=_.slice(L,L+C),p.C=L+C,_)))}Lr.prototype.cancel=function(){this.J=!0,rs(this)};function ct(p){p.S=Date.now()+p.I,ir(p,p.I)}function ir(p,_){if(p.B!=null)throw Error("WatchDog timer not null");p.B=br(y(p.ba,p),_)}function or(p){p.B&&(l.clearTimeout(p.B),p.B=null)}Lr.prototype.ba=function(){this.B=null;const p=Date.now();0<=p-this.S?(fo(this.i,this.A),this.L!=2&&(_r(),Wt(17)),rs(this),this.s=2,mo(this)):ir(this,this.S-p)};function mo(p){p.j.G==0||p.J||cc(p.j,p)}function rs(p){or(p);var _=p.M;_&&typeof _.ma=="function"&&_.ma(),p.M=null,vr(p.U),p.g&&(_=p.g,p.g=null,_.abort(),_.ma())}function dd(p,_){try{var C=p.j;if(C.G!=0&&(C.g==p||ar(C.h,p))){if(!p.K&&ar(C.h,p)&&C.G==3){try{var L=C.Da.g.parse(_)}catch{L=null}if(Array.isArray(L)&&L.length==3){var Q=L;if(Q[0]==0){e:if(!C.u){if(C.g)if(C.g.F+3e3<p.F)lc(C),Cs(C);else break e;ac(C),Wt(18)}}else C.za=Q[1],0<C.za-C.T&&37500>Q[2]&&C.F&&C.v==0&&!C.C&&(C.C=br(y(C.Za,C),6e3));if(1>=Df(C.h)&&C.ca){try{C.ca()}catch{}C.ca=void 0}}else Di(C,11)}else if((p.K||C.g==p)&&lc(C),!A(_))for(Q=C.Da.g.parse(_),_=0;_<Q.length;_++){let _t=Q[_];if(C.T=_t[0],_t=_t[1],C.G==2)if(_t[0]=="c"){C.K=_t[1],C.ia=_t[2];const Rn=_t[3];Rn!=null&&(C.la=Rn,C.j.info("VER="+C.la));const fn=_t[4];fn!=null&&(C.Aa=fn,C.j.info("SVER="+C.Aa));const is=_t[5];is!=null&&typeof is=="number"&&0<is&&(L=1.5*is,C.L=L,C.j.info("backChannelRequestTimeoutMs_="+L)),L=C;const Fr=p.g;if(Fr){const Ua=Fr.g?Fr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ua){var ie=L.h;ie.g||Ua.indexOf("spdy")==-1&&Ua.indexOf("quic")==-1&&Ua.indexOf("h2")==-1||(ie.j=ie.l,ie.g=new Set,ie.h&&(hd(ie,ie.h),ie.h=null))}if(L.D){const dc=Fr.g?Fr.g.getResponseHeader("X-HTTP-Session-Id"):null;dc&&(L.ya=dc,Mt(L.I,L.D,dc))}}C.G=3,C.l&&C.l.ua(),C.ba&&(C.R=Date.now()-p.F,C.j.info("Handshake RTT: "+C.R+"ms")),L=C;var Ee=p;if(L.qa=Hf(L,L.J?L.ia:null,L.W),Ee.K){Nf(L.h,Ee);var kt=Ee,bn=L.L;bn&&(kt.I=bn),kt.B&&(or(kt),ct(kt)),L.g=Ee}else Ba(L);0<C.i.length&&Zs(C)}else _t[0]!="stop"&&_t[0]!="close"||Di(C,7);else C.G==3&&(_t[0]=="stop"||_t[0]=="close"?_t[0]=="stop"?Di(C,7):Mn(C):_t[0]!="noop"&&C.l&&C.l.ta(_t),C.v=0)}}_r(4)}catch{}}var kf=class{constructor(p,_){this.g=p,this.map=_}};function La(p){this.l=p||10,l.PerformanceNavigationTiming?(p=l.performance.getEntriesByType("navigation"),p=0<p.length&&(p[0].nextHopProtocol=="hq"||p[0].nextHopProtocol=="h2")):p=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Mr(p){return p.h?!0:p.g?p.g.size>=p.j:!1}function Df(p){return p.h?1:p.g?p.g.size:0}function ar(p,_){return p.h?p.h==_:p.g?p.g.has(_):!1}function hd(p,_){p.g?p.g.add(_):p.h=_}function Nf(p,_){p.h&&p.h==_?p.h=null:p.g&&p.g.has(_)&&p.g.delete(_)}La.prototype.cancel=function(){if(this.i=Of(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const p of this.g.values())p.cancel();this.g.clear()}};function Of(p){if(p.h!=null)return p.i.concat(p.h.D);if(p.g!=null&&p.g.size!==0){let _=p.i;for(const C of p.g.values())_=_.concat(C.D);return _}return E(p.i)}function Jl(p){if(p.V&&typeof p.V=="function")return p.V();if(typeof Map<"u"&&p instanceof Map||typeof Set<"u"&&p instanceof Set)return Array.from(p.values());if(typeof p=="string")return p.split("");if(u(p)){for(var _=[],C=p.length,L=0;L<C;L++)_.push(p[L]);return _}_=[],C=0;for(L in p)_[C++]=p[L];return _}function ec(p){if(p.na&&typeof p.na=="function")return p.na();if(!p.V||typeof p.V!="function"){if(typeof Map<"u"&&p instanceof Map)return Array.from(p.keys());if(!(typeof Set<"u"&&p instanceof Set)){if(u(p)||typeof p=="string"){var _=[];p=p.length;for(var C=0;C<p;C++)_.push(C);return _}_=[],C=0;for(const L in p)_[C++]=L;return _}}}function go(p,_){if(p.forEach&&typeof p.forEach=="function")p.forEach(_,void 0);else if(u(p)||typeof p=="string")Array.prototype.forEach.call(p,_,void 0);else for(var C=ec(p),L=Jl(p),Q=L.length,ie=0;ie<Q;ie++)_.call(void 0,L[ie],C&&C[ie],p)}var Ma=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Fy(p,_){if(p){p=p.split("&");for(var C=0;C<p.length;C++){var L=p[C].indexOf("="),Q=null;if(0<=L){var ie=p[C].substring(0,L);Q=p[C].substring(L+1)}else ie=p[C];_(ie,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function Ai(p){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,p instanceof Ai){this.h=p.h,$a(this,p.j),this.o=p.o,this.g=p.g,yo(this,p.s),this.l=p.l;var _=p.i,C=new Qs;C.i=_.i,_.g&&(C.g=new Map(_.g),C.h=_.h),vo(this,C),this.m=p.m}else p&&(_=String(p).match(Ma))?(this.h=!1,$a(this,_[1]||"",!0),this.o=vt(_[2]||""),this.g=vt(_[3]||"",!0),yo(this,_[4]),this.l=vt(_[5]||"",!0),vo(this,_[6]||"",!0),this.m=vt(_[7]||"")):(this.h=!1,this.i=new Qs(null,this.h))}Ai.prototype.toString=function(){var p=[],_=this.j;_&&p.push(_o(_,tc,!0),":");var C=this.g;return(C||_=="file")&&(p.push("//"),(_=this.o)&&p.push(_o(_,tc,!0),"@"),p.push(encodeURIComponent(String(C)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),C=this.s,C!=null&&p.push(":",String(C))),(C=this.l)&&(this.g&&C.charAt(0)!="/"&&p.push("/"),p.push(_o(C,C.charAt(0)=="/"?Mf:Lf,!0))),(C=this.i.toString())&&p.push("?",C),(C=this.m)&&p.push("#",_o(C,fd)),p.join("")};function $r(p){return new Ai(p)}function $a(p,_,C){p.j=C?vt(_,!0):_,p.j&&(p.j=p.j.replace(/:$/,""))}function yo(p,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);p.s=_}else p.s=null}function vo(p,_,C){_ instanceof Qs?(p.i=_,Ys(p.i,p.h)):(C||(_=_o(_,$f)),p.i=new Qs(_,p.h))}function Mt(p,_,C){p.i.set(_,C)}function wo(p){return Mt(p,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),p}function vt(p,_){return p?_?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function _o(p,_,C){return typeof p=="string"?(p=encodeURI(p).replace(_,Vf),C&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function Vf(p){return p=p.charCodeAt(0),"%"+(p>>4&15).toString(16)+(p&15).toString(16)}var tc=/[#\/\?@]/g,Lf=/[#\?:]/g,Mf=/[#\?]/g,$f=/[#\?@]/g,fd=/#/g;function Qs(p,_){this.h=this.g=null,this.i=p||null,this.j=!!_}function Ln(p){p.g||(p.g=new Map,p.h=0,p.i&&Fy(p.i,function(_,C){p.add(decodeURIComponent(_.replace(/\+/g," ")),C)}))}t=Qs.prototype,t.add=function(p,_){Ln(this),this.i=null,p=ss(this,p);var C=this.g.get(p);return C||this.g.set(p,C=[]),C.push(_),this.h+=1,this};function Es(p,_){Ln(p),_=ss(p,_),p.g.has(_)&&(p.i=null,p.h-=p.g.get(_).length,p.g.delete(_))}function Ts(p,_){return Ln(p),_=ss(p,_),p.g.has(_)}t.forEach=function(p,_){Ln(this),this.g.forEach(function(C,L){C.forEach(function(Q){p.call(_,Q,L,this)},this)},this)},t.na=function(){Ln(this);const p=Array.from(this.g.values()),_=Array.from(this.g.keys()),C=[];for(let L=0;L<_.length;L++){const Q=p[L];for(let ie=0;ie<Q.length;ie++)C.push(_[L])}return C},t.V=function(p){Ln(this);let _=[];if(typeof p=="string")Ts(this,p)&&(_=_.concat(this.g.get(ss(this,p))));else{p=Array.from(this.g.values());for(let C=0;C<p.length;C++)_=_.concat(p[C])}return _},t.set=function(p,_){return Ln(this),this.i=null,p=ss(this,p),Ts(this,p)&&(this.h-=this.g.get(p).length),this.g.set(p,[_]),this.h+=1,this},t.get=function(p,_){return p?(p=this.V(p),0<p.length?String(p[0]):_):_};function bo(p,_,C){Es(p,_),0<C.length&&(p.i=null,p.g.set(ss(p,_),E(C)),p.h+=C.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],_=Array.from(this.g.keys());for(var C=0;C<_.length;C++){var L=_[C];const ie=encodeURIComponent(String(L)),Ee=this.V(L);for(L=0;L<Ee.length;L++){var Q=ie;Ee[L]!==""&&(Q+="="+encodeURIComponent(String(Ee[L]))),p.push(Q)}}return this.i=p.join("&")};function ss(p,_){return _=String(_),p.j&&(_=_.toLowerCase()),_}function Ys(p,_){_&&!p.j&&(Ln(p),p.i=null,p.g.forEach(function(C,L){var Q=L.toLowerCase();L!=Q&&(Es(this,L),bo(this,Q,C))},p)),p.j=_}function By(p,_){const C=new hn;if(l.Image){const L=new Image;L.onload=x(xr,C,"TestLoadImage: loaded",!0,_,L),L.onerror=x(xr,C,"TestLoadImage: error",!1,_,L),L.onabort=x(xr,C,"TestLoadImage: abort",!1,_,L),L.ontimeout=x(xr,C,"TestLoadImage: timeout",!1,_,L),l.setTimeout(function(){L.ontimeout&&L.ontimeout()},1e4),L.src=p}else _(!1)}function jf(p,_){const C=new hn,L=new AbortController,Q=setTimeout(()=>{L.abort(),xr(C,"TestPingServer: timeout",!1,_)},1e4);fetch(p,{signal:L.signal}).then(ie=>{clearTimeout(Q),ie.ok?xr(C,"TestPingServer: ok",!0,_):xr(C,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(Q),xr(C,"TestPingServer: error",!1,_)})}function xr(p,_,C,L,Q){try{Q&&(Q.onload=null,Q.onerror=null,Q.onabort=null,Q.ontimeout=null),L(C)}catch{}}function Uy(){this.g=new Si}function Ff(p,_,C){const L=C||"";try{go(p,function(Q,ie){let Ee=Q;d(Q)&&(Ee=Ti(Q)),_.push(L+ie+"="+encodeURIComponent(Ee))})}catch(Q){throw _.push(L+"type="+encodeURIComponent("_badmap")),Q}}function Pi(p){this.l=p.Ub||null,this.j=p.eb||!1}I(Pi,Jr),Pi.prototype.g=function(){return new ja(this.l,this.j)},Pi.prototype.i=(function(p){return function(){return p}})({});function ja(p,_){fe.call(this),this.D=p,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}I(ja,fe),t=ja.prototype,t.open=function(p,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=p,this.A=_,this.readyState=1,Is(this)},t.send=function(p){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const _={headers:this.u,method:this.B,credentials:this.m,cache:void 0};p&&(_.body=p),(this.D||l).fetch(new Request(this.A,_)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ss(this)),this.readyState=0},t.Sa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,Is(this)),this.g&&(this.readyState=3,Is(this),this.g)))if(this.responseType==="arraybuffer")p.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Bf(this)}else p.text().then(this.Ra.bind(this),this.ga.bind(this))};function Bf(p){p.j.read().then(p.Pa.bind(p)).catch(p.ga.bind(p))}t.Pa=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var _=p.value?p.value:new Uint8Array(0);(_=this.v.decode(_,{stream:!p.done}))&&(this.response=this.responseText+=_)}p.done?Ss(this):Is(this),this.readyState==3&&Bf(this)}},t.Ra=function(p){this.g&&(this.response=this.responseText=p,Ss(this))},t.Qa=function(p){this.g&&(this.response=p,Ss(this))},t.ga=function(){this.g&&Ss(this)};function Ss(p){p.readyState=4,p.l=null,p.j=null,p.v=null,Is(p)}t.setRequestHeader=function(p,_){this.u.append(p,_)},t.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],_=this.h.entries();for(var C=_.next();!C.done;)C=C.value,p.push(C[0]+": "+C[1]),C=_.next();return p.join(`\r
`)};function Is(p){p.onreadystatechange&&p.onreadystatechange.call(p)}Object.defineProperty(ja.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(p){this.m=p?"include":"same-origin"}});function Ri(p){let _="";return G(p,function(C,L){_+=L,_+=":",_+=C,_+=`\r
`}),_}function xo(p,_,C){e:{for(L in C){var L=!1;break e}L=!0}L||(C=Ri(C),typeof p=="string"?C!=null&&encodeURIComponent(String(C)):Mt(p,_,C))}function Ht(p){fe.call(this),this.headers=new Map,this.o=p||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}I(Ht,fe);var zy=/^https?$/i,pd=["POST","PUT"];t=Ht.prototype,t.Ha=function(p){this.J=p},t.ea=function(p,_,C,L){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);_=_?_.toUpperCase():"GET",this.D=p,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Vr.g(),this.v=this.o?lo(this.o):lo(Vr),this.g.onreadystatechange=y(this.Ea,this);try{this.B=!0,this.g.open(_,String(p),!0),this.B=!1}catch(ie){Fa(this,ie);return}if(p=C||"",C=new Map(this.headers),L)if(Object.getPrototypeOf(L)===Object.prototype)for(var Q in L)C.set(Q,L[Q]);else if(typeof L.keys=="function"&&typeof L.get=="function")for(const ie of L.keys())C.set(ie,L.get(ie));else throw Error("Unknown input type for opt_headers: "+String(L));L=Array.from(C.keys()).find(ie=>ie.toLowerCase()=="content-type"),Q=l.FormData&&p instanceof l.FormData,!(0<=Array.prototype.indexOf.call(pd,_,void 0))||L||Q||C.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ie,Ee]of C)this.g.setRequestHeader(ie,Ee);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{rc(this),this.u=!0,this.g.send(p),this.u=!1}catch(ie){Fa(this,ie)}};function Fa(p,_){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=_,p.m=5,nc(p),jr(p)}function nc(p){p.A||(p.A=!0,W(p,"complete"),W(p,"error"))}t.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=p||7,W(this,"complete"),W(this,"abort"),jr(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),jr(this,!0)),Ht.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?md(this):this.bb())},t.bb=function(){md(this)};function md(p){if(p.h&&typeof a<"u"&&(!p.v[1]||Er(p)!=4||p.Z()!=2)){if(p.u&&Er(p)==4)we(p.Ea,0,p);else if(W(p,"readystatechange"),Er(p)==4){p.h=!1;try{const Ee=p.Z();e:switch(Ee){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var C;if(!(C=_)){var L;if(L=Ee===0){var Q=String(p.D).match(Ma)[1]||null;!Q&&l.self&&l.self.location&&(Q=l.self.location.protocol.slice(0,-1)),L=!zy.test(Q?Q.toLowerCase():"")}C=L}if(C)W(p,"complete"),W(p,"success");else{p.m=6;try{var ie=2<Er(p)?p.g.statusText:""}catch{ie=""}p.l=ie+" ["+p.Z()+"]",nc(p)}}finally{jr(p)}}}}function jr(p,_){if(p.g){rc(p);const C=p.g,L=p.v[0]?()=>{}:null;p.g=null,p.v=null,_||W(p,"ready");try{C.onreadystatechange=L}catch{}}}function rc(p){p.I&&(l.clearTimeout(p.I),p.I=null)}t.isActive=function(){return!!this.g};function Er(p){return p.g?p.g.readyState:0}t.Z=function(){try{return 2<Er(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(p){if(this.g){var _=this.g.responseText;return p&&_.indexOf(p)==0&&(_=_.substring(p.length)),Ks(_)}};function gd(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.H){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function sc(p){const _={};p=(p.g&&2<=Er(p)&&p.g.getAllResponseHeaders()||"").split(`\r
`);for(let L=0;L<p.length;L++){if(A(p[L]))continue;var C=F(p[L]);const Q=C[0];if(C=C[1],typeof C!="string")continue;C=C.trim();const ie=_[Q]||[];_[Q]=ie,ie.push(C)}O(_,function(L){return L.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Xs(p,_,C){return C&&C.internalChannelParams&&C.internalChannelParams[p]||_}function yd(p){this.Aa=0,this.i=[],this.j=new hn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Xs("failFast",!1,p),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Xs("baseRetryDelayMs",5e3,p),this.cb=Xs("retryDelaySeedMs",1e4,p),this.Wa=Xs("forwardChannelMaxRetries",2,p),this.wa=Xs("forwardChannelRequestTimeoutMs",2e4,p),this.pa=p&&p.xmlHttpFactory||void 0,this.Xa=p&&p.Tb||void 0,this.Ca=p&&p.useFetchStreams||!1,this.L=void 0,this.J=p&&p.supportsCrossDomainXhr||!1,this.K="",this.h=new La(p&&p.concurrentRequestLimit),this.Da=new Uy,this.P=p&&p.fastHandshake||!1,this.O=p&&p.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=p&&p.Rb||!1,p&&p.xa&&this.j.xa(),p&&p.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&p&&p.detectBufferingProxy||!1,this.ja=void 0,p&&p.longPollingTimeout&&0<p.longPollingTimeout&&(this.ja=p.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=yd.prototype,t.la=8,t.G=1,t.connect=function(p,_,C,L){Wt(0),this.W=p,this.H=_||{},C&&L!==void 0&&(this.H.OSID=C,this.H.OAID=L),this.F=this.X,this.I=Hf(this,null,this.W),Zs(this)};function Mn(p){if(ic(p),p.G==3){var _=p.U++,C=$r(p.I);if(Mt(C,"SID",p.K),Mt(C,"RID",_),Mt(C,"TYPE","terminate"),ki(p,C),_=new Lr(p,p.j,_),_.L=2,_.v=wo($r(C)),C=!1,l.navigator&&l.navigator.sendBeacon)try{C=l.navigator.sendBeacon(_.v.toString(),"")}catch{}!C&&l.Image&&(new Image().src=_.v,C=!0),C||(_.g=qf(_.j,null),_.g.ea(_.v)),_.F=Date.now(),ct(_)}Wf(p)}function Cs(p){p.g&&(vd(p),p.g.cancel(),p.g=null)}function ic(p){Cs(p),p.u&&(l.clearTimeout(p.u),p.u=null),lc(p),p.h.cancel(),p.s&&(typeof p.s=="number"&&l.clearTimeout(p.s),p.s=null)}function Zs(p){if(!Mr(p.h)&&!p.s){p.s=!0;var _=p.Ga;me||ue(),Z||(me(),Z=!0),ce.add(_,p),p.B=0}}function Wy(p,_){return Df(p.h)>=p.h.j-(p.s?1:0)?!1:p.s?(p.i=_.D.concat(p.i),!0):p.G==1||p.G==2||p.B>=(p.Va?0:p.Wa)?!1:(p.s=br(y(p.Ga,p,_),zf(p,p.B)),p.B++,!0)}t.Ga=function(p){if(this.s)if(this.s=null,this.G==1){if(!p){this.U=Math.floor(1e5*Math.random()),p=this.U++;const Q=new Lr(this,this.j,p);let ie=this.o;if(this.S&&(ie?(ie=P(ie),M(ie,this.S)):ie=this.S),this.m!==null||this.O||(Q.H=ie,ie=null),this.P)e:{for(var _=0,C=0;C<this.i.length;C++){t:{var L=this.i[C];if("__data__"in L.map&&(L=L.map.__data__,typeof L=="string")){L=L.length;break t}L=void 0}if(L===void 0)break;if(_+=L,4096<_){_=C;break e}if(_===4096||C===this.i.length-1){_=C+1;break e}}_=1e3}else _=1e3;_=Eo(this,Q,_),C=$r(this.I),Mt(C,"RID",p),Mt(C,"CVER",22),this.D&&Mt(C,"X-HTTP-Session-Id",this.D),ki(this,C),ie&&(this.O?_="headers="+encodeURIComponent(String(Ri(ie)))+"&"+_:this.m&&xo(C,this.m,ie)),hd(this.h,Q),this.Ua&&Mt(C,"TYPE","init"),this.P?(Mt(C,"$req",_),Mt(C,"SID","null"),Q.T=!0,se(Q,C,null)):se(Q,C,_),this.G=2}}else this.G==3&&(p?oc(this,p):this.i.length==0||Mr(this.h)||oc(this))};function oc(p,_){var C;_?C=_.l:C=p.U++;const L=$r(p.I);Mt(L,"SID",p.K),Mt(L,"RID",C),Mt(L,"AID",p.T),ki(p,L),p.m&&p.o&&xo(L,p.m,p.o),C=new Lr(p,p.j,C,p.B+1),p.m===null&&(C.H=p.o),_&&(p.i=_.D.concat(p.i)),_=Eo(p,C,1e3),C.I=Math.round(.5*p.wa)+Math.round(.5*p.wa*Math.random()),hd(p.h,C),se(C,L,_)}function ki(p,_){p.H&&G(p.H,function(C,L){Mt(_,L,C)}),p.l&&go({},function(C,L){Mt(_,L,C)})}function Eo(p,_,C){C=Math.min(p.i.length,C);var L=p.l?y(p.l.Na,p.l,p):null;e:{var Q=p.i;let ie=-1;for(;;){const Ee=["count="+C];ie==-1?0<C?(ie=Q[0].g,Ee.push("ofs="+ie)):ie=0:Ee.push("ofs="+ie);let kt=!0;for(let bn=0;bn<C;bn++){let _t=Q[bn].g;const Rn=Q[bn].map;if(_t-=ie,0>_t)ie=Math.max(0,Q[bn].g-100),kt=!1;else try{Ff(Rn,Ee,"req"+_t+"_")}catch{L&&L(Rn)}}if(kt){L=Ee.join("&");break e}}}return p=p.i.splice(0,C),_.D=p,L}function Ba(p){if(!p.g&&!p.u){p.Y=1;var _=p.Fa;me||ue(),Z||(me(),Z=!0),ce.add(_,p),p.v=0}}function ac(p){return p.g||p.u||3<=p.v?!1:(p.Y++,p.u=br(y(p.Fa,p),zf(p,p.v)),p.v++,!0)}t.Fa=function(){if(this.u=null,Uf(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var p=2*this.R;this.j.info("BP detection timer enabled: "+p),this.A=br(y(this.ab,this),p)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Wt(10),Cs(this),Uf(this))};function vd(p){p.A!=null&&(l.clearTimeout(p.A),p.A=null)}function Uf(p){p.g=new Lr(p,p.j,"rpc",p.Y),p.m===null&&(p.g.H=p.o),p.g.O=0;var _=$r(p.qa);Mt(_,"RID","rpc"),Mt(_,"SID",p.K),Mt(_,"AID",p.T),Mt(_,"CI",p.F?"0":"1"),!p.F&&p.ja&&Mt(_,"TO",p.ja),Mt(_,"TYPE","xmlhttp"),ki(p,_),p.m&&p.o&&xo(_,p.m,p.o),p.L&&(p.g.I=p.L);var C=p.g;p=p.ia,C.L=1,C.v=wo($r(_)),C.m=null,C.P=!0,ke(C,p)}t.Za=function(){this.C!=null&&(this.C=null,Cs(this),ac(this),Wt(19))};function lc(p){p.C!=null&&(l.clearTimeout(p.C),p.C=null)}function cc(p,_){var C=null;if(p.g==_){lc(p),vd(p),p.g=null;var L=2}else if(ar(p.h,_))C=_.D,Nf(p.h,_),L=1;else return;if(p.G!=0){if(_.o)if(L==1){C=_.m?_.m.length:0,_=Date.now()-_.F;var Q=p.B;L=Ii(),W(L,new ns(L,C)),Zs(p)}else Ba(p);else if(Q=_.s,Q==3||Q==0&&0<_.X||!(L==1&&Wy(p,_)||L==2&&ac(p)))switch(C&&0<C.length&&(_=p.h,_.i=_.i.concat(C)),Q){case 1:Di(p,5);break;case 4:Di(p,10);break;case 3:Di(p,6);break;default:Di(p,2)}}}function zf(p,_){let C=p.Ta+Math.floor(Math.random()*p.cb);return p.isActive()||(C*=2),C*_}function Di(p,_){if(p.j.info("Error code "+_),_==2){var C=y(p.fb,p),L=p.Xa;const Q=!L;L=new Ai(L||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||$a(L,"https"),wo(L),Q?By(L.toString(),C):jf(L.toString(),C)}else Wt(2);p.G=0,p.l&&p.l.sa(_),Wf(p),ic(p)}t.fb=function(p){p?(this.j.info("Successfully pinged google.com"),Wt(2)):(this.j.info("Failed to ping google.com"),Wt(1))};function Wf(p){if(p.G=0,p.ka=[],p.l){const _=Of(p.h);(_.length!=0||p.i.length!=0)&&(S(p.ka,_),S(p.ka,p.i),p.h.i.length=0,E(p.i),p.i.length=0),p.l.ra()}}function Hf(p,_,C){var L=C instanceof Ai?$r(C):new Ai(C);if(L.g!="")_&&(L.g=_+"."+L.g),yo(L,L.s);else{var Q=l.location;L=Q.protocol,_=_?_+"."+Q.hostname:Q.hostname,Q=+Q.port;var ie=new Ai(null);L&&$a(ie,L),_&&(ie.g=_),Q&&yo(ie,Q),C&&(ie.l=C),L=ie}return C=p.D,_=p.ya,C&&_&&Mt(L,C,_),Mt(L,"VER",p.la),ki(p,L),L}function qf(p,_,C){if(_&&!p.J)throw Error("Can't create secondary domain capable XhrIo object.");return _=p.Ca&&!p.pa?new Ht(new Pi({eb:C})):new Ht(p.pa),_.Ha(p.J),_}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function wd(){}t=wd.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function uc(){}uc.prototype.g=function(p,_){return new lr(p,_)};function lr(p,_){fe.call(this),this.g=new yd(_),this.l=p,this.h=_&&_.messageUrlParams||null,p=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(p?p["X-WebChannel-Content-Type"]=_.messageContentType:p={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.va&&(p?p["X-WebChannel-Client-Profile"]=_.va:p={"X-WebChannel-Client-Profile":_.va}),this.g.S=p,(p=_&&_.Sb)&&!A(p)&&(this.g.m=p),this.v=_&&_.supportsCrossDomainXhr||!1,this.u=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!A(_)&&(this.g.D=_,p=this.h,p!==null&&_ in p&&(p=this.h,_ in p&&delete p[_])),this.j=new Js(this)}I(lr,fe),lr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},lr.prototype.close=function(){Mn(this.g)},lr.prototype.o=function(p){var _=this.g;if(typeof p=="string"){var C={};C.__data__=p,p=C}else this.u&&(C={},C.__data__=Ti(p),p=C);_.i.push(new kf(_.Ya++,p)),_.G==3&&Zs(_)},lr.prototype.N=function(){this.g.l=null,delete this.j,Mn(this.g),delete this.g,lr.aa.N.call(this)};function Kf(p){es.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var _=p.__sm__;if(_){e:{for(const C in _){p=C;break e}p=void 0}(this.i=p)&&(p=this.i,_=_!==null&&p in _?_[p]:void 0),this.data=_}else this.data=p}I(Kf,es);function Gf(){uo.call(this),this.status=1}I(Gf,uo);function Js(p){this.g=p}I(Js,wd),Js.prototype.ua=function(){W(this.g,"a")},Js.prototype.ta=function(p){W(this.g,new Kf(p))},Js.prototype.sa=function(p){W(this.g,new Gf)},Js.prototype.ra=function(){W(this.g,"b")},uc.prototype.createWebChannel=uc.prototype.g,lr.prototype.send=lr.prototype.o,lr.prototype.open=lr.prototype.m,lr.prototype.close=lr.prototype.close,QN=function(){return new uc},GN=function(){return Ii()},KN=ts,sb={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},po.NO_ERROR=0,po.TIMEOUT=8,po.HTTP_ERROR=6,Em=po,Xl.COMPLETE="complete",qN=Xl,co.EventType=wr,wr.OPEN="a",wr.CLOSE="b",wr.ERROR="c",wr.MESSAGE="d",fe.prototype.listen=fe.prototype.K,sh=co,Ht.prototype.listenOnce=Ht.prototype.L,Ht.prototype.getLastError=Ht.prototype.Ka,Ht.prototype.getLastErrorCode=Ht.prototype.Ba,Ht.prototype.getStatus=Ht.prototype.Z,Ht.prototype.getResponseJson=Ht.prototype.Oa,Ht.prototype.getResponseText=Ht.prototype.oa,Ht.prototype.send=Ht.prototype.ea,Ht.prototype.setWithCredentials=Ht.prototype.Ha,HN=Ht}).apply(typeof nm<"u"?nm:typeof self<"u"?self:typeof window<"u"?window:{});const GC="@firebase/firestore";class hr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}hr.UNAUTHENTICATED=new hr(null),hr.GOOGLE_CREDENTIALS=new hr("google-credentials-uid"),hr.FIRST_PARTY=new hr("first-party-uid"),hr.MOCK_USER=new hr("mock-user");let Xu="10.14.0";const kl=new Q0("@firebase/firestore");function zc(){return kl.logLevel}function ye(t,...e){if(kl.logLevel<=mt.DEBUG){const n=e.map(X0);kl.debug(`Firestore (${Xu}): ${t}`,...n)}}function pr(t,...e){if(kl.logLevel<=mt.ERROR){const n=e.map(X0);kl.error(`Firestore (${Xu}): ${t}`,...n)}}function Oh(t,...e){if(kl.logLevel<=mt.WARN){const n=e.map(X0);kl.warn(`Firestore (${Xu}): ${t}`,...n)}}function X0(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function Le(t="Unexpected state"){const e=`FIRESTORE (${Xu}) INTERNAL ASSERTION FAILED: `+t;throw pr(e),new Error(e)}function Fe(t,e){t||Le()}function rt(t,e){return t}const le={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Te extends xi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Fs{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class wq{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class _q{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(hr.UNAUTHENTICATED)))}shutdown(){}}class bq{constructor(e){this.t=e,this.currentUser=hr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Fe(this.o===void 0);let r=this.i;const s=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let i=new Fs;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Fs,e.enqueueRetryable((()=>s(this.currentUser)))};const a=()=>{const u=i;e.enqueueRetryable((async()=>{await u.promise,await s(this.currentUser)}))},l=u=>{ye("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit((u=>l(u))),setTimeout((()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(ye("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Fs)}}),0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(ye("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Fe(typeof r.accessToken=="string"),new wq(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Fe(e===null||typeof e=="string"),new hr(e)}}class xq{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=hr.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Eq{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new xq(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable((()=>n(hr.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Tq{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Sq{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Fe(this.o===void 0);const r=i=>{i.error!=null&&ye("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const a=i.token!==this.R;return this.R=i.token,ye("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable((()=>r(i)))};const s=i=>{ye("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((i=>s(i))),setTimeout((()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):ye("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Fe(typeof n.token=="string"),this.R=n.token,new Tq(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Iq(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class YN{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=Iq(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%e.length))}return r}}function at(t,e){return t<e?-1:t>e?1:0}function wu(t,e,n){return t.length===e.length&&t.every(((r,s)=>n(r,e[s])))}function XN(t){return t+"\0"}class tn{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Te(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Te(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Te(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Te(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return tn.fromMillis(Date.now())}static fromDate(e){return tn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new tn(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?at(this.nanoseconds,e.nanoseconds):at(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class He{constructor(e){this.timestamp=e}static fromTimestamp(e){return new He(e)}static min(){return new He(new tn(0,0))}static max(){return new He(new tn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Vh{constructor(e,n,r){n===void 0?n=0:n>e.length&&Le(),r===void 0?r=e.length-n:r>e.length-n&&Le(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Vh.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Vh?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=e.get(s),a=n.get(s);if(i<a)return-1;if(i>a)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ct extends Vh{construct(e,n,r){return new Ct(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Te(le.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((s=>s.length>0)))}return new Ct(n)}static emptyPath(){return new Ct([])}}const Cq=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Jt extends Vh{construct(e,n,r){return new Jt(e,n,r)}static isValidIdentifier(e){return Cq.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Jt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Jt(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new Te(le.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;s<e.length;){const l=e[s];if(l==="\\"){if(s+1===e.length)throw new Te(le.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[s+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new Te(le.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,s+=2}else l==="`"?(a=!a,s++):l!=="."||a?(r+=l,s++):(i(),s++)}if(i(),a)throw new Te(le.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Jt(n)}static emptyPath(){return new Jt([])}}class Pe{constructor(e){this.path=e}static fromPath(e){return new Pe(Ct.fromString(e))}static fromName(e){return new Pe(Ct.fromString(e).popFirst(5))}static empty(){return new Pe(Ct.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ct.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ct.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Pe(new Ct(e.slice()))}}class rg{constructor(e,n,r,s){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=s}}function ib(t){return t.fields.find((e=>e.kind===2))}function sl(t){return t.fields.filter((e=>e.kind!==2))}rg.UNKNOWN_ID=-1;class Tm{constructor(e,n){this.fieldPath=e,this.kind=n}}class Lh{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new Lh(0,Qr.min())}}function Aq(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=He.fromTimestamp(r===1e9?new tn(n+1,0):new tn(n,r));return new Qr(s,Pe.empty(),e)}function ZN(t){return new Qr(t.readTime,t.key,-1)}class Qr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Qr(He.min(),Pe.empty(),-1)}static max(){return new Qr(He.max(),Pe.empty(),-1)}}function Z0(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Pe.comparator(t.documentKey,e.documentKey),n!==0?n:at(t.largestBatchId,e.largestBatchId))}const JN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class eO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Hl(t){if(t.code!==le.FAILED_PRECONDITION||t.message!==JN)throw t;ye("LocalStore","Unexpectedly lost primary lease")}class J{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Le(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new J(((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof J?n:J.resolve(n)}catch(n){return J.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):J.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):J.reject(n)}static resolve(e){return new J(((n,r)=>{n(e)}))}static reject(e){return new J(((n,r)=>{r(e)}))}static waitFor(e){return new J(((n,r)=>{let s=0,i=0,a=!1;e.forEach((l=>{++s,l.next((()=>{++i,a&&i===s&&n()}),(u=>r(u)))})),a=!0,i===s&&n()}))}static or(e){let n=J.resolve(!1);for(const r of e)n=n.next((s=>s?J.resolve(s):r()));return n}static forEach(e,n){const r=[];return e.forEach(((s,i)=>{r.push(n.call(this,s,i))})),this.waitFor(r)}static mapArray(e,n){return new J(((r,s)=>{const i=e.length,a=new Array(i);let l=0;for(let u=0;u<i;u++){const d=u;n(e[d]).next((f=>{a[d]=f,++l,l===i&&r(a)}),(f=>s(f)))}}))}static doWhile(e,n){return new J(((r,s)=>{const i=()=>{e()===!0?n().next((()=>{i()}),s):r()};i()}))}}class ry{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new Fs,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new ph(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{const s=J0(r.target.error);this.V.reject(new ph(e,s))}}static open(e,n,r,s){try{return new ry(n,e.transaction(s,r))}catch(i){throw new ph(n,i)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(ye("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new Rq(n)}}class ia{constructor(e,n,r){this.name=e,this.version=n,this.p=r,ia.S(Hn())===12.2&&pr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return ye("SimpleDb","Removing database:",e),al(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!MN())return!1;if(ia.v())return!0;const e=Hn(),n=ia.S(e),r=0<n&&n<10,s=tO(e),i=0<s&&s<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||i)}static v(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.C)==="YES"}static F(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}async M(e){return this.db||(ye("SimpleDb","Opening database:",this.name),this.db=await new Promise(((n,r)=>{const s=indexedDB.open(this.name,this.version);s.onsuccess=i=>{const a=i.target.result;n(a)},s.onblocked=()=>{r(new ph(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=i=>{const a=i.target.error;a.name==="VersionError"?r(new Te(le.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):a.name==="InvalidStateError"?r(new Te(le.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+a)):r(new ph(e,a))},s.onupgradeneeded=i=>{ye("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',i.oldVersion);const a=i.target.result;this.p.O(a,s.transaction,i.oldVersion,this.version).next((()=>{ye("SimpleDb","Database upgrade to version "+this.version+" complete")}))}}))),this.N&&(this.db.onversionchange=n=>this.N(n)),this.db}L(e){this.N=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,s){const i=n==="readonly";let a=0;for(;;){++a;try{this.db=await this.M(e);const l=ry.open(this.db,e,i?"readonly":"readwrite",r),u=s(l).next((d=>(l.g(),d))).catch((d=>(l.abort(d),J.reject(d)))).toPromise();return u.catch((()=>{})),await l.m,u}catch(l){const u=l,d=u.name!=="FirebaseError"&&a<3;if(ye("SimpleDb","Transaction failed with error:",u.message,"Retrying:",d),this.close(),!d)return Promise.reject(u)}}}close(){this.db&&this.db.close(),this.db=void 0}}function tO(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class Pq{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return al(this.B.delete())}}class ph extends Te{constructor(e,n){super(le.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function Sa(t){return t.name==="IndexedDbTransactionError"}class Rq{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(ye("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(ye("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),al(r)}add(e){return ye("SimpleDb","ADD",this.store.name,e,e),al(this.store.add(e))}get(e){return al(this.store.get(e)).next((n=>(n===void 0&&(n=null),ye("SimpleDb","GET",this.store.name,e,n),n)))}delete(e){return ye("SimpleDb","DELETE",this.store.name,e),al(this.store.delete(e))}count(){return ye("SimpleDb","COUNT",this.store.name),al(this.store.count())}U(e,n){const r=this.options(e,n),s=r.index?this.store.index(r.index):this.store;if(typeof s.getAll=="function"){const i=s.getAll(r.range);return new J(((a,l)=>{i.onerror=u=>{l(u.target.error)},i.onsuccess=u=>{a(u.target.result)}}))}{const i=this.cursor(r),a=[];return this.W(i,((l,u)=>{a.push(u)})).next((()=>a))}}G(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new J(((s,i)=>{r.onerror=a=>{i(a.target.error)},r.onsuccess=a=>{s(a.target.result)}}))}j(e,n){ye("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.H=!1;const s=this.cursor(r);return this.W(s,((i,a,l)=>l.delete()))}J(e,n){let r;n?r=e:(r={},n=e);const s=this.cursor(r);return this.W(s,n)}Y(e){const n=this.cursor({});return new J(((r,s)=>{n.onerror=i=>{const a=J0(i.target.error);s(a)},n.onsuccess=i=>{const a=i.target.result;a?e(a.primaryKey,a.value).next((l=>{l?a.continue():r()})):r()}}))}W(e,n){const r=[];return new J(((s,i)=>{e.onerror=a=>{i(a.target.error)},e.onsuccess=a=>{const l=a.target.result;if(!l)return void s();const u=new Pq(l),d=n(l.primaryKey,l.value,u);if(d instanceof J){const f=d.catch((g=>(u.done(),J.reject(g))));r.push(f)}u.isDone?s():u.K===null?l.continue():l.continue(u.K)}})).next((()=>J.waitFor(r)))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.H?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function al(t){return new J(((e,n)=>{t.onsuccess=r=>{const s=r.target.result;e(s)},t.onerror=r=>{const s=J0(r.target.error);n(s)}}))}let QC=!1;function J0(t){const e=ia.S(Hn());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new Te("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return QC||(QC=!0,setTimeout((()=>{throw r}),0)),r}}return t}class kq{constructor(e,n){this.asyncQueue=e,this.Z=n,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}X(e){ye("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{ye("IndexBackfiller",`Documents written: ${await this.Z.ee()}`)}catch(n){Sa(n)?ye("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",n):await Hl(n)}await this.X(6e4)}))}}class Dq{constructor(e,n){this.localStore=e,this.persistence=n}async ee(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(n=>this.te(n,e)))}te(e,n){const r=new Set;let s=n,i=!0;return J.doWhile((()=>i===!0&&s>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((a=>{if(a!==null&&!r.has(a))return ye("IndexBackfiller",`Processing collection: ${a}`),this.ne(e,a,s).next((l=>{s-=l,r.add(a)}));i=!1})))).next((()=>n-s))}ne(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next((s=>this.localStore.localDocuments.getNextDocuments(e,n,s,r).next((i=>{const a=i.changes;return this.localStore.indexManager.updateIndexEntries(e,a).next((()=>this.re(s,i))).next((l=>(ye("IndexBackfiller",`Updating offset: ${l}`),this.localStore.indexManager.updateCollectionGroup(e,n,l)))).next((()=>a.size))}))))}re(e,n){let r=e;return n.changes.forEach(((s,i)=>{const a=ZN(i);Z0(a,r)>0&&(r=a)})),new Qr(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}class ms{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}ms.oe=-1;function cf(t){return t==null}function Mh(t){return t===0&&1/t==-1/0}function Nq(t){return typeof t=="number"&&Number.isInteger(t)&&!Mh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}function mr(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=YC(e)),e=Oq(t.get(n),e);return YC(e)}function Oq(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case"":n+="";break;default:n+=i}}return n}function YC(t){return t+""}function ai(t){const e=t.length;if(Fe(e>=2),e===2)return Fe(t.charAt(0)===""&&t.charAt(1)===""),Ct.emptyPath();const n=e-2,r=[];let s="";for(let i=0;i<e;){const a=t.indexOf("",i);switch((a<0||a>n)&&Le(),t.charAt(a+1)){case"":const l=t.substring(i,a);let u;s.length===0?u=l:(s+=l,u=s,s=""),r.push(u);break;case"":s+=t.substring(i,a),s+="\0";break;case"":s+=t.substring(i,a+1);break;default:Le()}i=a+2}return new Ct(r)}const XC=["userId","batchId"];function Sm(t,e){return[t,mr(e)]}function nO(t,e,n){return[t,mr(e),n]}const Vq={},Lq=["prefixPath","collectionGroup","readTime","documentId"],Mq=["prefixPath","collectionGroup","documentId"],$q=["collectionGroup","readTime","prefixPath","documentId"],jq=["canonicalId","targetId"],Fq=["targetId","path"],Bq=["path","targetId"],Uq=["collectionId","parent"],zq=["indexId","uid"],Wq=["uid","sequenceNumber"],Hq=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],qq=["indexId","uid","orderedDocumentKey"],Kq=["userId","collectionPath","documentId"],Gq=["userId","collectionPath","largestBatchId"],Qq=["userId","collectionGroup","largestBatchId"],rO=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Yq=[...rO,"documentOverlays"],sO=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],iO=sO,ex=[...iO,"indexConfiguration","indexState","indexEntries"],Xq=ex,Zq=[...ex,"globals"];class ob extends eO{constructor(e,n){super(),this._e=e,this.currentSequenceNumber=n}}function An(t,e){const n=rt(t);return ia.F(n._e,e)}function ZC(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ql(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function oO(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class Yt{constructor(e,n){this.comparator=e,this.root=n||Un.EMPTY}insert(e,n){return new Yt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Un.BLACK,null,null))}remove(e){return new Yt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Un.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new rm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new rm(this.root,e,this.comparator,!1)}getReverseIterator(){return new rm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new rm(this.root,e,this.comparator,!0)}}class rm{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Un{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??Un.RED,this.left=s??Un.EMPTY,this.right=i??Un.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new Un(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Un.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Un.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Un.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Un.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Le();const e=this.left.check();if(e!==this.right.check())throw Le();return e+(this.isRed()?0:1)}}Un.EMPTY=null,Un.RED=!0,Un.BLACK=!1;Un.EMPTY=new class{constructor(){this.size=0}get key(){throw Le()}get value(){throw Le()}get color(){throw Le()}get left(){throw Le()}get right(){throw Le()}copy(e,n,r,s,i){return this}insert(e,n,r){return new Un(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ot{constructor(e){this.comparator=e,this.data=new Yt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new JC(this.data.getIterator())}getIteratorFrom(e){return new JC(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Ot)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Ot(this.comparator);return n.data=e,n}}class JC{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Dc(t){return t.hasNext()?t.getNext():void 0}class Nr{constructor(e){this.fields=e,e.sort(Jt.comparator)}static empty(){return new Nr([])}unionWith(e){let n=new Ot(Jt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Nr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return wu(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}class aO extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class vn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new aO("Invalid base64 string: "+i):i}})(e);return new vn(n)}static fromUint8Array(e){const n=(function(s){let i="";for(let a=0;a<s.length;++a)i+=String.fromCharCode(s[a]);return i})(e);return new vn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return at(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}vn.EMPTY_BYTE_STRING=new vn("");const Jq=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function eo(t){if(Fe(!!t),typeof t=="string"){let e=0;const n=Jq.exec(t);if(Fe(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Kt(t.seconds),nanos:Kt(t.nanos)}}function Kt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function va(t){return typeof t=="string"?vn.fromBase64String(t):vn.fromUint8Array(t)}function tx(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function nx(t){const e=t.mapValue.fields.__previous_value__;return tx(e)?nx(e):e}function $h(t){const e=eo(t.mapValue.fields.__local_write_time__.timestampValue);return new tn(e.seconds,e.nanos)}class e8{constructor(e,n,r,s,i,a,l,u,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=a,this.autoDetectLongPolling=l,this.longPollingOptions=u,this.useFetchStreams=d}}class Dl{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Dl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Dl&&e.projectId===this.projectId&&e.database===this.database}}const Xo={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Im={nullValue:"NULL_VALUE"};function Nl(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?tx(t)?4:lO(t)?9007199254740991:sy(t)?10:11:Le()}function gi(t,e){if(t===e)return!0;const n=Nl(t);if(n!==Nl(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return $h(t).isEqual($h(e));case 3:return(function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const a=eo(s.timestampValue),l=eo(i.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(s,i){return va(s.bytesValue).isEqual(va(i.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(s,i){return Kt(s.geoPointValue.latitude)===Kt(i.geoPointValue.latitude)&&Kt(s.geoPointValue.longitude)===Kt(i.geoPointValue.longitude)})(t,e);case 2:return(function(s,i){if("integerValue"in s&&"integerValue"in i)return Kt(s.integerValue)===Kt(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const a=Kt(s.doubleValue),l=Kt(i.doubleValue);return a===l?Mh(a)===Mh(l):isNaN(a)&&isNaN(l)}return!1})(t,e);case 9:return wu(t.arrayValue.values||[],e.arrayValue.values||[],gi);case 10:case 11:return(function(s,i){const a=s.mapValue.fields||{},l=i.mapValue.fields||{};if(ZC(a)!==ZC(l))return!1;for(const u in a)if(a.hasOwnProperty(u)&&(l[u]===void 0||!gi(a[u],l[u])))return!1;return!0})(t,e);default:return Le()}}function jh(t,e){return(t.values||[]).find((n=>gi(n,e)))!==void 0}function wa(t,e){if(t===e)return 0;const n=Nl(t),r=Nl(e);if(n!==r)return at(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return at(t.booleanValue,e.booleanValue);case 2:return(function(i,a){const l=Kt(i.integerValue||i.doubleValue),u=Kt(a.integerValue||a.doubleValue);return l<u?-1:l>u?1:l===u?0:isNaN(l)?isNaN(u)?0:-1:1})(t,e);case 3:return eA(t.timestampValue,e.timestampValue);case 4:return eA($h(t),$h(e));case 5:return at(t.stringValue,e.stringValue);case 6:return(function(i,a){const l=va(i),u=va(a);return l.compareTo(u)})(t.bytesValue,e.bytesValue);case 7:return(function(i,a){const l=i.split("/"),u=a.split("/");for(let d=0;d<l.length&&d<u.length;d++){const f=at(l[d],u[d]);if(f!==0)return f}return at(l.length,u.length)})(t.referenceValue,e.referenceValue);case 8:return(function(i,a){const l=at(Kt(i.latitude),Kt(a.latitude));return l!==0?l:at(Kt(i.longitude),Kt(a.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return tA(t.arrayValue,e.arrayValue);case 10:return(function(i,a){var l,u,d,f;const g=i.fields||{},y=a.fields||{},x=(l=g.value)===null||l===void 0?void 0:l.arrayValue,I=(u=y.value)===null||u===void 0?void 0:u.arrayValue,E=at(((d=x?.values)===null||d===void 0?void 0:d.length)||0,((f=I?.values)===null||f===void 0?void 0:f.length)||0);return E!==0?E:tA(x,I)})(t.mapValue,e.mapValue);case 11:return(function(i,a){if(i===Xo.mapValue&&a===Xo.mapValue)return 0;if(i===Xo.mapValue)return 1;if(a===Xo.mapValue)return-1;const l=i.fields||{},u=Object.keys(l),d=a.fields||{},f=Object.keys(d);u.sort(),f.sort();for(let g=0;g<u.length&&g<f.length;++g){const y=at(u[g],f[g]);if(y!==0)return y;const x=wa(l[u[g]],d[f[g]]);if(x!==0)return x}return at(u.length,f.length)})(t.mapValue,e.mapValue);default:throw Le()}}function eA(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return at(t,e);const n=eo(t),r=eo(e),s=at(n.seconds,r.seconds);return s!==0?s:at(n.nanos,r.nanos)}function tA(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=wa(n[s],r[s]);if(i)return i}return at(n.length,r.length)}function _u(t){return ab(t)}function ab(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=eo(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return va(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Pe.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=ab(i);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const a of r)i?i=!1:s+=",",s+=`${a}:${ab(n.fields[a])}`;return s+"}"})(t.mapValue):Le()}function Fh(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function lb(t){return!!t&&"integerValue"in t}function Bh(t){return!!t&&"arrayValue"in t}function nA(t){return!!t&&"nullValue"in t}function rA(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Cm(t){return!!t&&"mapValue"in t}function sy(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function mh(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ql(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=mh(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=mh(t.arrayValue.values[n]);return e}return Object.assign({},t)}function lO(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}const cO={mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{}}}}};function t8(t){return"nullValue"in t?Im:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?Fh(Dl.empty(),Pe.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?sy(t)?cO:{mapValue:{}}:Le()}function n8(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?Fh(Dl.empty(),Pe.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?cO:"mapValue"in t?sy(t)?{mapValue:{}}:Xo:Le()}function sA(t,e){const n=wa(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function iA(t,e){const n=wa(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}class zn{constructor(e){this.value=e}static empty(){return new zn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Cm(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=mh(n)}setAll(e){let n=Jt.emptyPath(),r={},s=[];e.forEach(((a,l)=>{if(!n.isImmediateParentOf(l)){const u=this.getFieldsMap(n);this.applyChanges(u,r,s),r={},s=[],n=l.popLast()}a?r[l.lastSegment()]=mh(a):s.push(l.lastSegment())}));const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Cm(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return gi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Cm(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){ql(n,((s,i)=>e[s]=i));for(const s of r)delete e[s]}clone(){return new zn(mh(this.value))}}function uO(t){const e=[];return ql(t.fields,((n,r)=>{const s=new Jt([n]);if(Cm(r)){const i=uO(r.mapValue).fields;if(i.length===0)e.push(s);else for(const a of i)e.push(s.child(a))}else e.push(s)})),new Nr(e)}class Gt{constructor(e,n,r,s,i,a,l){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=a,this.documentState=l}static newInvalidDocument(e){return new Gt(e,0,He.min(),He.min(),He.min(),zn.empty(),0)}static newFoundDocument(e,n,r,s){return new Gt(e,1,n,He.min(),r,s,0)}static newNoDocument(e,n){return new Gt(e,2,n,He.min(),He.min(),zn.empty(),0)}static newUnknownDocument(e,n){return new Gt(e,3,n,He.min(),He.min(),zn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(He.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=zn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=zn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=He.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Gt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Gt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class bu{constructor(e,n){this.position=e,this.inclusive=n}}function oA(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],a=t.position[s];if(i.field.isKeyField()?r=Pe.comparator(Pe.fromName(a.referenceValue),n.key):r=wa(a,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function aA(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!gi(t.position[n],e.position[n]))return!1;return!0}class sg{constructor(e,n="asc"){this.field=e,this.dir=n}}function r8(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class dO{}class gt extends dO{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new s8(e,n,r):n==="array-contains"?new a8(e,r):n==="in"?new yO(e,r):n==="not-in"?new l8(e,r):n==="array-contains-any"?new c8(e,r):new gt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new i8(e,r):new o8(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(wa(n,this.value)):n!==null&&Nl(this.value)===Nl(n)&&this.matchesComparison(wa(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Le()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Nt extends dO{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Nt(e,n)}matches(e){return xu(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function xu(t){return t.op==="and"}function cb(t){return t.op==="or"}function rx(t){return hO(t)&&xu(t)}function hO(t){for(const e of t.filters)if(e instanceof Nt)return!1;return!0}function ub(t){if(t instanceof gt)return t.field.canonicalString()+t.op.toString()+_u(t.value);if(rx(t))return t.filters.map((e=>ub(e))).join(",");{const e=t.filters.map((n=>ub(n))).join(",");return`${t.op}(${e})`}}function fO(t,e){return t instanceof gt?(function(r,s){return s instanceof gt&&r.op===s.op&&r.field.isEqual(s.field)&&gi(r.value,s.value)})(t,e):t instanceof Nt?(function(r,s){return s instanceof Nt&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce(((i,a,l)=>i&&fO(a,s.filters[l])),!0):!1})(t,e):void Le()}function pO(t,e){const n=t.filters.concat(e);return Nt.create(n,t.op)}function mO(t){return t instanceof gt?(function(n){return`${n.field.canonicalString()} ${n.op} ${_u(n.value)}`})(t):t instanceof Nt?(function(n){return n.op.toString()+" {"+n.getFilters().map(mO).join(" ,")+"}"})(t):"Filter"}class s8 extends gt{constructor(e,n,r){super(e,n,r),this.key=Pe.fromName(r.referenceValue)}matches(e){const n=Pe.comparator(e.key,this.key);return this.matchesComparison(n)}}class i8 extends gt{constructor(e,n){super(e,"in",n),this.keys=gO("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class o8 extends gt{constructor(e,n){super(e,"not-in",n),this.keys=gO("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function gO(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map((r=>Pe.fromName(r.referenceValue)))}class a8 extends gt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Bh(n)&&jh(n.arrayValue,this.value)}}class yO extends gt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&jh(this.value.arrayValue,n)}}class l8 extends gt{constructor(e,n){super(e,"not-in",n)}matches(e){if(jh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!jh(this.value.arrayValue,n)}}class c8 extends gt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Bh(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>jh(this.value.arrayValue,r)))}}class u8{constructor(e,n=null,r=[],s=[],i=null,a=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=a,this.endAt=l,this.ue=null}}function db(t,e=null,n=[],r=[],s=null,i=null,a=null){return new u8(t,e,n,r,s,i,a)}function Ol(t){const e=rt(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>ub(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(i){return i.field.canonicalString()+i.dir})(r))).join(","),cf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>_u(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>_u(r))).join(",")),e.ue=n}return e.ue}function uf(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!r8(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!fO(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!aA(t.startAt,e.startAt)&&aA(t.endAt,e.endAt)}function ig(t){return Pe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function og(t,e){return t.filters.filter((n=>n instanceof gt&&n.field.isEqual(e)))}function lA(t,e,n){let r=Im,s=!0;for(const i of og(t,e)){let a=Im,l=!0;switch(i.op){case"<":case"<=":a=t8(i.value);break;case"==":case"in":case">=":a=i.value;break;case">":a=i.value,l=!1;break;case"!=":case"not-in":a=Im}sA({value:r,inclusive:s},{value:a,inclusive:l})<0&&(r=a,s=l)}if(n!==null){for(let i=0;i<t.orderBy.length;++i)if(t.orderBy[i].field.isEqual(e)){const a=n.position[i];sA({value:r,inclusive:s},{value:a,inclusive:n.inclusive})<0&&(r=a,s=n.inclusive);break}}return{value:r,inclusive:s}}function cA(t,e,n){let r=Xo,s=!0;for(const i of og(t,e)){let a=Xo,l=!0;switch(i.op){case">=":case">":a=n8(i.value),l=!1;break;case"==":case"in":case"<=":a=i.value;break;case"<":a=i.value,l=!1;break;case"!=":case"not-in":a=Xo}iA({value:r,inclusive:s},{value:a,inclusive:l})>0&&(r=a,s=l)}if(n!==null){for(let i=0;i<t.orderBy.length;++i)if(t.orderBy[i].field.isEqual(e)){const a=n.position[i];iA({value:r,inclusive:s},{value:a,inclusive:n.inclusive})>0&&(r=a,s=n.inclusive);break}}return{value:r,inclusive:s}}class df{constructor(e,n=null,r=[],s=[],i=null,a="F",l=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=a,this.startAt=l,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function d8(t,e,n,r,s,i,a,l){return new df(t,e,n,r,s,i,a,l)}function iy(t){return new df(t)}function uA(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function vO(t){return t.collectionGroup!==null}function gh(t){const e=rt(t);if(e.ce===null){e.ce=[];const n=new Set;for(const i of e.explicitOrderBy)e.ce.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let l=new Ot(Jt.comparator);return a.filters.forEach((u=>{u.getFlattenedFilters().forEach((d=>{d.isInequality()&&(l=l.add(d.field))}))})),l})(e).forEach((i=>{n.has(i.canonicalString())||i.isKeyField()||e.ce.push(new sg(i,r))})),n.has(Jt.keyField().canonicalString())||e.ce.push(new sg(Jt.keyField(),r))}return e.ce}function ys(t){const e=rt(t);return e.le||(e.le=h8(e,gh(t))),e.le}function h8(t,e){if(t.limitType==="F")return db(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((s=>{const i=s.dir==="desc"?"asc":"desc";return new sg(s.field,i)}));const n=t.endAt?new bu(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new bu(t.startAt.position,t.startAt.inclusive):null;return db(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function hb(t,e){const n=t.filters.concat([e]);return new df(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function fb(t,e,n){return new df(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function oy(t,e){return uf(ys(t),ys(e))&&t.limitType===e.limitType}function wO(t){return`${Ol(ys(t))}|lt:${t.limitType}`}function Wc(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((s=>mO(s))).join(", ")}]`),cf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((s=>(function(a){return`${a.field.canonicalString()} (${a.dir})`})(s))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((s=>_u(s))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((s=>_u(s))).join(",")),`Target(${r})`})(ys(t))}; limitType=${t.limitType})`}function hf(t,e){return e.isFoundDocument()&&(function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):Pe.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)})(t,e)&&(function(r,s){for(const i of gh(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0})(t,e)&&(function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0})(t,e)&&(function(r,s){return!(r.startAt&&!(function(a,l,u){const d=oA(a,l,u);return a.inclusive?d<=0:d<0})(r.startAt,gh(r),s)||r.endAt&&!(function(a,l,u){const d=oA(a,l,u);return a.inclusive?d>=0:d>0})(r.endAt,gh(r),s))})(t,e)}function f8(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function _O(t){return(e,n)=>{let r=!1;for(const s of gh(t)){const i=p8(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function p8(t,e,n){const r=t.field.isKeyField()?Pe.comparator(e.key,n.key):(function(i,a,l){const u=a.data.field(i),d=l.data.field(i);return u!==null&&d!==null?wa(u,d):Le()})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Le()}}class Ia{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){ql(this.inner,((n,r)=>{for(const[s,i]of r)e(s,i)}))}isEmpty(){return oO(this.inner)}size(){return this.innerSize}}const m8=new Yt(Pe.comparator);function qr(){return m8}const bO=new Yt(Pe.comparator);function ih(...t){let e=bO;for(const n of t)e=e.insert(n.key,n);return e}function xO(t){let e=bO;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function li(){return yh()}function EO(){return yh()}function yh(){return new Ia((t=>t.toString()),((t,e)=>t.isEqual(e)))}const g8=new Yt(Pe.comparator),y8=new Ot(Pe.comparator);function dt(...t){let e=y8;for(const n of t)e=e.add(n);return e}const v8=new Ot(at);function w8(){return v8}function sx(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Mh(e)?"-0":e}}function TO(t){return{integerValue:""+t}}function SO(t,e){return Nq(e)?TO(e):sx(t,e)}class ay{constructor(){this._=void 0}}function _8(t,e,n){return t instanceof Eu?(function(s,i){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&tx(i)&&(i=nx(i)),i&&(a.fields.__previous_value__=i),{mapValue:a}})(n,e):t instanceof Tu?CO(t,e):t instanceof Su?AO(t,e):(function(s,i){const a=IO(s,i),l=dA(a)+dA(s.Pe);return lb(a)&&lb(s.Pe)?TO(l):sx(s.serializer,l)})(t,e)}function b8(t,e,n){return t instanceof Tu?CO(t,e):t instanceof Su?AO(t,e):n}function IO(t,e){return t instanceof Iu?(function(r){return lb(r)||(function(i){return!!i&&"doubleValue"in i})(r)})(e)?e:{integerValue:0}:null}class Eu extends ay{}class Tu extends ay{constructor(e){super(),this.elements=e}}function CO(t,e){const n=PO(e);for(const r of t.elements)n.some((s=>gi(s,r)))||n.push(r);return{arrayValue:{values:n}}}class Su extends ay{constructor(e){super(),this.elements=e}}function AO(t,e){let n=PO(e);for(const r of t.elements)n=n.filter((s=>!gi(s,r)));return{arrayValue:{values:n}}}class Iu extends ay{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function dA(t){return Kt(t.integerValue||t.doubleValue)}function PO(t){return Bh(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class ix{constructor(e,n){this.field=e,this.transform=n}}function x8(t,e){return t.field.isEqual(e.field)&&(function(r,s){return r instanceof Tu&&s instanceof Tu||r instanceof Su&&s instanceof Su?wu(r.elements,s.elements,gi):r instanceof Iu&&s instanceof Iu?gi(r.Pe,s.Pe):r instanceof Eu&&s instanceof Eu})(t.transform,e.transform)}class E8{constructor(e,n){this.version=e,this.transformResults=n}}class Qt{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Qt}static exists(e){return new Qt(void 0,e)}static updateTime(e){return new Qt(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Am(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class ly{}function RO(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Ju(t.key,Qt.none()):new Zu(t.key,t.data,Qt.none());{const n=t.data,r=zn.empty();let s=new Ot(Jt.comparator);for(let i of e.fields)if(!s.has(i)){let a=n.field(i);a===null&&i.length>1&&(i=i.popLast(),a=n.field(i)),a===null?r.delete(i):r.set(i,a),s=s.add(i)}return new oo(t.key,r,new Nr(s.toArray()),Qt.none())}}function T8(t,e,n){t instanceof Zu?(function(s,i,a){const l=s.value.clone(),u=fA(s.fieldTransforms,i,a.transformResults);l.setAll(u),i.convertToFoundDocument(a.version,l).setHasCommittedMutations()})(t,e,n):t instanceof oo?(function(s,i,a){if(!Am(s.precondition,i))return void i.convertToUnknownDocument(a.version);const l=fA(s.fieldTransforms,i,a.transformResults),u=i.data;u.setAll(kO(s)),u.setAll(l),i.convertToFoundDocument(a.version,u).setHasCommittedMutations()})(t,e,n):(function(s,i,a){i.convertToNoDocument(a.version).setHasCommittedMutations()})(0,e,n)}function vh(t,e,n,r){return t instanceof Zu?(function(i,a,l,u){if(!Am(i.precondition,a))return l;const d=i.value.clone(),f=pA(i.fieldTransforms,u,a);return d.setAll(f),a.convertToFoundDocument(a.version,d).setHasLocalMutations(),null})(t,e,n,r):t instanceof oo?(function(i,a,l,u){if(!Am(i.precondition,a))return l;const d=pA(i.fieldTransforms,u,a),f=a.data;return f.setAll(kO(i)),f.setAll(d),a.convertToFoundDocument(a.version,f).setHasLocalMutations(),l===null?null:l.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map((g=>g.field)))})(t,e,n,r):(function(i,a,l){return Am(i.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):l})(t,e,n)}function S8(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=IO(r.transform,s||null);i!=null&&(n===null&&(n=zn.empty()),n.set(r.field,i))}return n||null}function hA(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&wu(r,s,((i,a)=>x8(i,a)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Zu extends ly{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class oo extends ly{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function kO(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function fA(t,e,n){const r=new Map;Fe(t.length===n.length);for(let s=0;s<n.length;s++){const i=t[s],a=i.transform,l=e.data.field(i.field);r.set(i.field,b8(a,l,n[s]))}return r}function pA(t,e,n){const r=new Map;for(const s of t){const i=s.transform,a=n.data.field(s.field);r.set(s.field,_8(i,a,e))}return r}class Ju extends ly{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ox extends ly{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class ax{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&T8(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=vh(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=vh(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=EO();return this.mutations.forEach((s=>{const i=e.get(s.key),a=i.overlayedDocument;let l=this.applyToLocalView(a,i.mutatedFields);l=n.has(s.key)?null:l;const u=RO(a,l);u!==null&&r.set(s.key,u),a.isValidDocument()||a.convertToNoDocument(He.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),dt())}isEqual(e){return this.batchId===e.batchId&&wu(this.mutations,e.mutations,((n,r)=>hA(n,r)))&&wu(this.baseMutations,e.baseMutations,((n,r)=>hA(n,r)))}}class lx{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Fe(e.mutations.length===r.length);let s=(function(){return g8})();const i=e.mutations;for(let a=0;a<i.length;a++)s=s.insert(i[a].key,r[a].version);return new lx(e,n,r,s)}}let cx=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};class I8{constructor(e,n){this.count=e,this.unchangedNames=n}}var mn,bt;function DO(t){switch(t){default:return Le();case le.CANCELLED:case le.UNKNOWN:case le.DEADLINE_EXCEEDED:case le.RESOURCE_EXHAUSTED:case le.INTERNAL:case le.UNAVAILABLE:case le.UNAUTHENTICATED:return!1;case le.INVALID_ARGUMENT:case le.NOT_FOUND:case le.ALREADY_EXISTS:case le.PERMISSION_DENIED:case le.FAILED_PRECONDITION:case le.ABORTED:case le.OUT_OF_RANGE:case le.UNIMPLEMENTED:case le.DATA_LOSS:return!0}}function NO(t){if(t===void 0)return pr("GRPC error has no .code"),le.UNKNOWN;switch(t){case mn.OK:return le.OK;case mn.CANCELLED:return le.CANCELLED;case mn.UNKNOWN:return le.UNKNOWN;case mn.DEADLINE_EXCEEDED:return le.DEADLINE_EXCEEDED;case mn.RESOURCE_EXHAUSTED:return le.RESOURCE_EXHAUSTED;case mn.INTERNAL:return le.INTERNAL;case mn.UNAVAILABLE:return le.UNAVAILABLE;case mn.UNAUTHENTICATED:return le.UNAUTHENTICATED;case mn.INVALID_ARGUMENT:return le.INVALID_ARGUMENT;case mn.NOT_FOUND:return le.NOT_FOUND;case mn.ALREADY_EXISTS:return le.ALREADY_EXISTS;case mn.PERMISSION_DENIED:return le.PERMISSION_DENIED;case mn.FAILED_PRECONDITION:return le.FAILED_PRECONDITION;case mn.ABORTED:return le.ABORTED;case mn.OUT_OF_RANGE:return le.OUT_OF_RANGE;case mn.UNIMPLEMENTED:return le.UNIMPLEMENTED;case mn.DATA_LOSS:return le.DATA_LOSS;default:return Le()}}(bt=mn||(mn={}))[bt.OK=0]="OK",bt[bt.CANCELLED=1]="CANCELLED",bt[bt.UNKNOWN=2]="UNKNOWN",bt[bt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",bt[bt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",bt[bt.NOT_FOUND=5]="NOT_FOUND",bt[bt.ALREADY_EXISTS=6]="ALREADY_EXISTS",bt[bt.PERMISSION_DENIED=7]="PERMISSION_DENIED",bt[bt.UNAUTHENTICATED=16]="UNAUTHENTICATED",bt[bt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",bt[bt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",bt[bt.ABORTED=10]="ABORTED",bt[bt.OUT_OF_RANGE=11]="OUT_OF_RANGE",bt[bt.UNIMPLEMENTED=12]="UNIMPLEMENTED",bt[bt.INTERNAL=13]="INTERNAL",bt[bt.UNAVAILABLE=14]="UNAVAILABLE",bt[bt.DATA_LOSS=15]="DATA_LOSS";function C8(){return new TextEncoder}const A8=new vl([4294967295,4294967295],0);function mA(t){const e=C8().encode(t),n=new WN;return n.update(e),new Uint8Array(n.digest())}function gA(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new vl([n,r],0),new vl([s,i],0)]}class ux{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new oh(`Invalid padding: ${n}`);if(r<0)throw new oh(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new oh(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new oh(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=vl.fromNumber(this.Ie)}Ee(e,n,r){let s=e.add(n.multiply(vl.fromNumber(r)));return s.compare(A8)===1&&(s=new vl([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=mA(e),[r,s]=gA(n);for(let i=0;i<this.hashCount;i++){const a=this.Ee(r,s,i);if(!this.de(a))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),a=new ux(i,s,n);return r.forEach((l=>a.insert(l))),a}insert(e){if(this.Ie===0)return;const n=mA(e),[r,s]=gA(n);for(let i=0;i<this.hashCount;i++){const a=this.Ee(r,s,i);this.Ae(a)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class oh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class cy{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,ff.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new cy(He.min(),s,new Yt(at),qr(),dt())}}class ff{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new ff(r,n,dt(),dt(),dt())}}class Pm{constructor(e,n,r,s){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=s}}class OO{constructor(e,n){this.targetId=e,this.me=n}}class VO{constructor(e,n,r=vn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class yA{constructor(){this.fe=0,this.ge=wA(),this.pe=vn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=dt(),n=dt(),r=dt();return this.ge.forEach(((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:Le()}})),new ff(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=wA()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Fe(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class P8{constructor(e){this.Le=e,this.Be=new Map,this.ke=qr(),this.qe=vA(),this.Qe=new Yt(at)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,(n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:Le()}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach(((r,s)=>{this.ze(s)&&n(s)}))}He(e){const n=e.targetId,r=e.me.count,s=this.Je(n);if(s){const i=s.target;if(ig(i))if(r===0){const a=new Pe(i.path);this.Ue(n,a,Gt.newNoDocument(a,He.min()))}else Fe(r===1);else{const a=this.Ye(n);if(a!==r){const l=this.Ze(e),u=l?this.Xe(l,e,a):1;if(u!==0){this.je(n);const d=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,d)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let a,l;try{a=va(r).toUint8Array()}catch(u){if(u instanceof aO)return Oh("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{l=new ux(a,s,i)}catch(u){return Oh(u instanceof oh?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return l.Ie===0?null:l}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let s=0;return r.forEach((i=>{const a=this.Le.tt(),l=`projects/${a.projectId}/databases/${a.database}/documents/${i.path.canonicalString()}`;e.mightContain(l)||(this.Ue(n,i,null),s++)})),s}rt(e){const n=new Map;this.Be.forEach(((i,a)=>{const l=this.Je(a);if(l){if(i.current&&ig(l.target)){const u=new Pe(l.target.path);this.ke.get(u)!==null||this.it(a,u)||this.Ue(a,u,Gt.newNoDocument(u,e))}i.be&&(n.set(a,i.ve()),i.Ce())}}));let r=dt();this.qe.forEach(((i,a)=>{let l=!0;a.forEachWhile((u=>{const d=this.Je(u);return!d||d.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)})),l&&(r=r.add(i))})),this.ke.forEach(((i,a)=>a.setReadTime(e)));const s=new cy(e,n,this.Qe,this.ke,r);return this.ke=qr(),this.qe=vA(),this.Qe=new Yt(at),s}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const s=this.Ge(e);this.it(e,n)?s.Fe(n,1):s.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new yA,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Ot(at),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||ye("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new yA),this.Le.getRemoteKeysForTarget(e).forEach((n=>{this.Ue(e,n,null)}))}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function vA(){return new Yt(Pe.comparator)}function wA(){return new Yt(Pe.comparator)}const R8={asc:"ASCENDING",desc:"DESCENDING"},k8={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},D8={and:"AND",or:"OR"};class N8{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function pb(t,e){return t.useProto3Json||cf(e)?e:{value:e}}function Cu(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function LO(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function O8(t,e){return Cu(t,e.toTimestamp())}function Vn(t){return Fe(!!t),He.fromTimestamp((function(n){const r=eo(n);return new tn(r.seconds,r.nanos)})(t))}function dx(t,e){return mb(t,e).canonicalString()}function mb(t,e){const n=(function(s){return new Ct(["projects",s.projectId,"databases",s.database])})(t).child("documents");return e===void 0?n:n.child(e)}function MO(t){const e=Ct.fromString(t);return Fe(qO(e)),e}function Uh(t,e){return dx(t.databaseId,e.path)}function Gi(t,e){const n=MO(e);if(n.get(1)!==t.databaseId.projectId)throw new Te(le.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Te(le.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Pe(FO(n))}function $O(t,e){return dx(t.databaseId,e)}function jO(t){const e=MO(t);return e.length===4?Ct.emptyPath():FO(e)}function gb(t){return new Ct(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function FO(t){return Fe(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function _A(t,e,n){return{name:Uh(t,e),fields:n.value.mapValue.fields}}function V8(t,e,n){const r=Gi(t,e.name),s=Vn(e.updateTime),i=e.createTime?Vn(e.createTime):He.min(),a=new zn({mapValue:{fields:e.fields}}),l=Gt.newFoundDocument(r,s,i,a);return n&&l.setHasCommittedMutations(),n?l.setHasCommittedMutations():l}function L8(t,e){return"found"in e?(function(r,s){Fe(!!s.found),s.found.name,s.found.updateTime;const i=Gi(r,s.found.name),a=Vn(s.found.updateTime),l=s.found.createTime?Vn(s.found.createTime):He.min(),u=new zn({mapValue:{fields:s.found.fields}});return Gt.newFoundDocument(i,a,l,u)})(t,e):"missing"in e?(function(r,s){Fe(!!s.missing),Fe(!!s.readTime);const i=Gi(r,s.missing),a=Vn(s.readTime);return Gt.newNoDocument(i,a)})(t,e):Le()}function M8(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:Le()})(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=(function(d,f){return d.useProto3Json?(Fe(f===void 0||typeof f=="string"),vn.fromBase64String(f||"")):(Fe(f===void 0||f instanceof Buffer||f instanceof Uint8Array),vn.fromUint8Array(f||new Uint8Array))})(t,e.targetChange.resumeToken),a=e.targetChange.cause,l=a&&(function(d){const f=d.code===void 0?le.UNKNOWN:NO(d.code);return new Te(f,d.message||"")})(a);n=new VO(r,s,i,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Gi(t,r.document.name),i=Vn(r.document.updateTime),a=r.document.createTime?Vn(r.document.createTime):He.min(),l=new zn({mapValue:{fields:r.document.fields}}),u=Gt.newFoundDocument(s,i,a,l),d=r.targetIds||[],f=r.removedTargetIds||[];n=new Pm(d,f,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Gi(t,r.document),i=r.readTime?Vn(r.readTime):He.min(),a=Gt.newNoDocument(s,i),l=r.removedTargetIds||[];n=new Pm([],l,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Gi(t,r.document),i=r.removedTargetIds||[];n=new Pm([],i,s,null)}else{if(!("filter"in e))return Le();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,a=new I8(s,i),l=r.targetId;n=new OO(l,a)}}return n}function zh(t,e){let n;if(e instanceof Zu)n={update:_A(t,e.key,e.value)};else if(e instanceof Ju)n={delete:Uh(t,e.key)};else if(e instanceof oo)n={update:_A(t,e.key,e.data),updateMask:z8(e.fieldMask)};else{if(!(e instanceof ox))return Le();n={verify:Uh(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(i,a){const l=a.transform;if(l instanceof Eu)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Tu)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Su)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Iu)return{fieldPath:a.field.canonicalString(),increment:l.Pe};throw Le()})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(s,i){return i.updateTime!==void 0?{updateTime:O8(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:Le()})(t,e.precondition)),n}function yb(t,e){const n=e.currentDocument?(function(i){return i.updateTime!==void 0?Qt.updateTime(Vn(i.updateTime)):i.exists!==void 0?Qt.exists(i.exists):Qt.none()})(e.currentDocument):Qt.none(),r=e.updateTransforms?e.updateTransforms.map((s=>(function(a,l){let u=null;if("setToServerValue"in l)Fe(l.setToServerValue==="REQUEST_TIME"),u=new Eu;else if("appendMissingElements"in l){const f=l.appendMissingElements.values||[];u=new Tu(f)}else if("removeAllFromArray"in l){const f=l.removeAllFromArray.values||[];u=new Su(f)}else"increment"in l?u=new Iu(a,l.increment):Le();const d=Jt.fromServerFormat(l.fieldPath);return new ix(d,u)})(t,s))):[];if(e.update){e.update.name;const s=Gi(t,e.update.name),i=new zn({mapValue:{fields:e.update.fields}});if(e.updateMask){const a=(function(u){const d=u.fieldPaths||[];return new Nr(d.map((f=>Jt.fromServerFormat(f))))})(e.updateMask);return new oo(s,i,a,n,r)}return new Zu(s,i,n,r)}if(e.delete){const s=Gi(t,e.delete);return new Ju(s,n)}if(e.verify){const s=Gi(t,e.verify);return new ox(s,n)}return Le()}function $8(t,e){return t&&t.length>0?(Fe(e!==void 0),t.map((n=>(function(s,i){let a=s.updateTime?Vn(s.updateTime):Vn(i);return a.isEqual(He.min())&&(a=Vn(i)),new E8(a,s.transformResults||[])})(n,e)))):[]}function BO(t,e){return{documents:[$O(t,e.path)]}}function UO(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=$O(t,s);const i=(function(d){if(d.length!==0)return HO(Nt.create(d,"and"))})(e.filters);i&&(n.structuredQuery.where=i);const a=(function(d){if(d.length!==0)return d.map((f=>(function(y){return{field:Hc(y.field),direction:F8(y.dir)}})(f)))})(e.orderBy);a&&(n.structuredQuery.orderBy=a);const l=pb(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=(function(d){return{before:d.inclusive,values:d.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(d){return{before:!d.inclusive,values:d.position}})(e.endAt)),{_t:n,parent:s}}function zO(t){let e=jO(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Fe(r===1);const f=n.from[0];f.allDescendants?s=f.collectionId:e=e.child(f.collectionId)}let i=[];n.where&&(i=(function(g){const y=WO(g);return y instanceof Nt&&rx(y)?y.getFilters():[y]})(n.where));let a=[];n.orderBy&&(a=(function(g){return g.map((y=>(function(I){return new sg(qc(I.field),(function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(I.direction))})(y)))})(n.orderBy));let l=null;n.limit&&(l=(function(g){let y;return y=typeof g=="object"?g.value:g,cf(y)?null:y})(n.limit));let u=null;n.startAt&&(u=(function(g){const y=!!g.before,x=g.values||[];return new bu(x,y)})(n.startAt));let d=null;return n.endAt&&(d=(function(g){const y=!g.before,x=g.values||[];return new bu(x,y)})(n.endAt)),d8(e,s,a,i,l,"F",u,d)}function j8(t,e){const n=(function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Le()}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function WO(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=qc(n.unaryFilter.field);return gt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=qc(n.unaryFilter.field);return gt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=qc(n.unaryFilter.field);return gt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=qc(n.unaryFilter.field);return gt.create(a,"!=",{nullValue:"NULL_VALUE"});default:return Le()}})(t):t.fieldFilter!==void 0?(function(n){return gt.create(qc(n.fieldFilter.field),(function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Le()}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Nt.create(n.compositeFilter.filters.map((r=>WO(r))),(function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Le()}})(n.compositeFilter.op))})(t):Le()}function F8(t){return R8[t]}function B8(t){return k8[t]}function U8(t){return D8[t]}function Hc(t){return{fieldPath:t.canonicalString()}}function qc(t){return Jt.fromServerFormat(t.fieldPath)}function HO(t){return t instanceof gt?(function(n){if(n.op==="=="){if(rA(n.value))return{unaryFilter:{field:Hc(n.field),op:"IS_NAN"}};if(nA(n.value))return{unaryFilter:{field:Hc(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(rA(n.value))return{unaryFilter:{field:Hc(n.field),op:"IS_NOT_NAN"}};if(nA(n.value))return{unaryFilter:{field:Hc(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Hc(n.field),op:B8(n.op),value:n.value}}})(t):t instanceof Nt?(function(n){const r=n.getFilters().map((s=>HO(s)));return r.length===1?r[0]:{compositeFilter:{op:U8(n.op),filters:r}}})(t):Le()}function z8(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function qO(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}class Hi{constructor(e,n,r,s,i=He.min(),a=He.min(),l=vn.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l,this.expectedCount=u}withSequenceNumber(e){return new Hi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Hi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Hi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Hi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class KO{constructor(e){this.ct=e}}function W8(t,e){let n;if(e.document)n=V8(t.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=Pe.fromSegments(e.noDocument.path),s=Ll(e.noDocument.readTime);n=Gt.newNoDocument(r,s),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return Le();{const r=Pe.fromSegments(e.unknownDocument.path),s=Ll(e.unknownDocument.version);n=Gt.newUnknownDocument(r,s)}}return e.readTime&&n.setReadTime((function(s){const i=new tn(s[0],s[1]);return He.fromTimestamp(i)})(e.readTime)),n}function bA(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:ag(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=(function(i,a){return{name:Uh(i,a.key),fields:a.data.value.mapValue.fields,updateTime:Cu(i,a.version.toTimestamp()),createTime:Cu(i,a.createTime.toTimestamp())}})(t.ct,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Vl(e.version)};else{if(!e.isUnknownDocument())return Le();r.unknownDocument={path:n.path.toArray(),version:Vl(e.version)}}return r}function ag(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Vl(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Ll(t){const e=new tn(t.seconds,t.nanoseconds);return He.fromTimestamp(e)}function ll(t,e){const n=(e.baseMutations||[]).map((i=>yb(t.ct,i)));for(let i=0;i<e.mutations.length-1;++i){const a=e.mutations[i];if(i+1<e.mutations.length&&e.mutations[i+1].transform!==void 0){const l=e.mutations[i+1];a.updateTransforms=l.transform.fieldTransforms,e.mutations.splice(i+1,1),++i}}const r=e.mutations.map((i=>yb(t.ct,i))),s=tn.fromMillis(e.localWriteTimeMs);return new ax(e.batchId,s,n,r)}function ah(t){const e=Ll(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?Ll(t.lastLimboFreeSnapshotVersion):He.min();let r;return r=(function(i){return i.documents!==void 0})(t.query)?(function(i){return Fe(i.documents.length===1),ys(iy(jO(i.documents[0])))})(t.query):(function(i){return ys(zO(i))})(t.query),new Hi(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,vn.fromBase64String(t.resumeToken))}function GO(t,e){const n=Vl(e.snapshotVersion),r=Vl(e.lastLimboFreeSnapshotVersion);let s;s=ig(e.target)?BO(t.ct,e.target):UO(t.ct,e.target)._t;const i=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Ol(e.target),readTime:n,resumeToken:i,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:s}}function QO(t){const e=zO({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?fb(e,e.limit,"L"):e}function Uw(t,e){return new cx(e.largestBatchId,yb(t.ct,e.overlayMutation))}function xA(t,e){const n=e.path.lastSegment();return[t,mr(e.path.popLast()),n]}function EA(t,e,n,r){return{indexId:t,uid:e,sequenceNumber:n,readTime:Vl(r.readTime),documentKey:mr(r.documentKey.path),largestBatchId:r.largestBatchId}}class H8{getBundleMetadata(e,n){return TA(e).get(n).next((r=>{if(r)return(function(i){return{id:i.bundleId,createTime:Ll(i.createTime),version:i.version}})(r)}))}saveBundleMetadata(e,n){return TA(e).put((function(s){return{bundleId:s.id,createTime:Vl(Vn(s.createTime)),version:s.version}})(n))}getNamedQuery(e,n){return SA(e).get(n).next((r=>{if(r)return(function(i){return{name:i.name,query:QO(i.bundledQuery),readTime:Ll(i.readTime)}})(r)}))}saveNamedQuery(e,n){return SA(e).put((function(s){return{name:s.name,readTime:Vl(Vn(s.readTime)),bundledQuery:s.bundledQuery}})(n))}}function TA(t){return An(t,"bundles")}function SA(t){return An(t,"namedQueries")}class uy{constructor(e,n){this.serializer=e,this.userId=n}static lt(e,n){const r=n.uid||"";return new uy(e,r)}getOverlay(e,n){return Gd(e).get(xA(this.userId,n)).next((r=>r?Uw(this.serializer,r):null))}getOverlays(e,n){const r=li();return J.forEach(n,(s=>this.getOverlay(e,s).next((i=>{i!==null&&r.set(s,i)})))).next((()=>r))}saveOverlays(e,n,r){const s=[];return r.forEach(((i,a)=>{const l=new cx(n,a);s.push(this.ht(e,l))})),J.waitFor(s)}removeOverlaysForBatchId(e,n,r){const s=new Set;n.forEach((a=>s.add(mr(a.getCollectionPath()))));const i=[];return s.forEach((a=>{const l=IDBKeyRange.bound([this.userId,a,r],[this.userId,a,r+1],!1,!0);i.push(Gd(e).j("collectionPathOverlayIndex",l))})),J.waitFor(i)}getOverlaysForCollection(e,n,r){const s=li(),i=mr(n),a=IDBKeyRange.bound([this.userId,i,r],[this.userId,i,Number.POSITIVE_INFINITY],!0);return Gd(e).U("collectionPathOverlayIndex",a).next((l=>{for(const u of l){const d=Uw(this.serializer,u);s.set(d.getKey(),d)}return s}))}getOverlaysForCollectionGroup(e,n,r,s){const i=li();let a;const l=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return Gd(e).J({index:"collectionGroupOverlayIndex",range:l},((u,d,f)=>{const g=Uw(this.serializer,d);i.size()<s||g.largestBatchId===a?(i.set(g.getKey(),g),a=g.largestBatchId):f.done()})).next((()=>i))}ht(e,n){return Gd(e).put((function(s,i,a){const[l,u,d]=xA(i,a.mutation.key);return{userId:i,collectionPath:u,documentId:d,collectionGroup:a.mutation.key.getCollectionGroup(),largestBatchId:a.largestBatchId,overlayMutation:zh(s.ct,a.mutation)}})(this.serializer,this.userId,n))}}function Gd(t){return An(t,"documentOverlays")}class q8{Pt(e){return An(e,"globals")}getSessionToken(e){return this.Pt(e).get("sessionToken").next((n=>{const r=n?.value;return r?vn.fromUint8Array(r):vn.EMPTY_BYTE_STRING}))}setSessionToken(e,n){return this.Pt(e).put({name:"sessionToken",value:n.toUint8Array()})}}class cl{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At(Kt(e.integerValue));else if("doubleValue"in e){const r=Kt(e.doubleValue);isNaN(r)?this.dt(n,13):(this.dt(n,15),Mh(r)?n.At(0):n.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(n,20),typeof r=="string"&&(r=eo(r)),n.Rt(`${r.seconds||""}`),n.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt(va(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.dt(n,45),n.At(r.latitude||0),n.At(r.longitude||0)}else"mapValue"in e?lO(e)?this.dt(n,Number.MAX_SAFE_INTEGER):sy(e)?this.wt(e.mapValue,n):(this.St(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.ft(n)):Le()}Vt(e,n){this.dt(n,25),this.Dt(e,n)}Dt(e,n){n.Rt(e)}St(e,n){const r=e.fields||{};this.dt(n,55);for(const s of Object.keys(r))this.Vt(s,n),this.Tt(r[s],n)}wt(e,n){var r,s;const i=e.fields||{};this.dt(n,53);const a="value",l=((s=(r=i[a].arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.length)||0;this.dt(n,15),n.At(Kt(l)),this.Vt(a,n),this.Tt(i[a],n)}bt(e,n){const r=e.values||[];this.dt(n,50);for(const s of r)this.Tt(s,n)}yt(e,n){this.dt(n,37),Pe.fromName(e).path.forEach((r=>{this.dt(n,60),this.Dt(r,n)}))}dt(e,n){e.At(n)}ft(e){e.At(2)}}cl.vt=new cl;function K8(t){if(t===0)return 8;let e=0;return t>>4==0&&(e+=4,t<<=4),t>>6==0&&(e+=2,t<<=2),t>>7==0&&(e+=1),e}function IA(t){const e=64-(function(r){let s=0;for(let i=0;i<8;++i){const a=K8(255&r[i]);if(s+=a,a!==8)break}return s})(t);return Math.ceil(e/8)}class G8{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ct(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ft(r.value),r=n.next();this.Mt()}xt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ot(r.value),r=n.next();this.Nt()}Lt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Ft(r);else if(r<2048)this.Ft(960|r>>>6),this.Ft(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Ft(480|r>>>12),this.Ft(128|63&r>>>6),this.Ft(128|63&r);else{const s=n.codePointAt(0);this.Ft(240|s>>>18),this.Ft(128|63&s>>>12),this.Ft(128|63&s>>>6),this.Ft(128|63&s)}}this.Mt()}Bt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Ot(r);else if(r<2048)this.Ot(960|r>>>6),this.Ot(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Ot(480|r>>>12),this.Ot(128|63&r>>>6),this.Ot(128|63&r);else{const s=n.codePointAt(0);this.Ot(240|s>>>18),this.Ot(128|63&s>>>12),this.Ot(128|63&s>>>6),this.Ot(128|63&s)}}this.Nt()}kt(e){const n=this.qt(e),r=IA(n);this.Qt(1+r),this.buffer[this.position++]=255&r;for(let s=n.length-r;s<n.length;++s)this.buffer[this.position++]=255&n[s]}Kt(e){const n=this.qt(e),r=IA(n);this.Qt(1+r),this.buffer[this.position++]=~(255&r);for(let s=n.length-r;s<n.length;++s)this.buffer[this.position++]=~(255&n[s])}$t(){this.Ut(255),this.Ut(255)}Wt(){this.Gt(255),this.Gt(255)}reset(){this.position=0}seed(e){this.Qt(e.length),this.buffer.set(e,this.position),this.position+=e.length}zt(){return this.buffer.slice(0,this.position)}qt(e){const n=(function(i){const a=new DataView(new ArrayBuffer(8));return a.setFloat64(0,i,!1),new Uint8Array(a.buffer)})(e),r=(128&n[0])!=0;n[0]^=r?255:128;for(let s=1;s<n.length;++s)n[s]^=r?255:0;return n}Ft(e){const n=255&e;n===0?(this.Ut(0),this.Ut(255)):n===255?(this.Ut(255),this.Ut(0)):this.Ut(n)}Ot(e){const n=255&e;n===0?(this.Gt(0),this.Gt(255)):n===255?(this.Gt(255),this.Gt(0)):this.Gt(e)}Mt(){this.Ut(0),this.Ut(1)}Nt(){this.Gt(0),this.Gt(1)}Ut(e){this.Qt(1),this.buffer[this.position++]=e}Gt(e){this.Qt(1),this.buffer[this.position++]=~e}Qt(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const s=new Uint8Array(r);s.set(this.buffer),this.buffer=s}}class Q8{constructor(e){this.jt=e}gt(e){this.jt.Ct(e)}Rt(e){this.jt.Lt(e)}At(e){this.jt.kt(e)}Et(){this.jt.$t()}}class Y8{constructor(e){this.jt=e}gt(e){this.jt.xt(e)}Rt(e){this.jt.Bt(e)}At(e){this.jt.Kt(e)}Et(){this.jt.Wt()}}class Qd{constructor(){this.jt=new G8,this.Ht=new Q8(this.jt),this.Jt=new Y8(this.jt)}seed(e){this.jt.seed(e)}Yt(e){return e===0?this.Ht:this.Jt}zt(){return this.jt.zt()}reset(){this.jt.reset()}}class ul{constructor(e,n,r,s){this.indexId=e,this.documentKey=n,this.arrayValue=r,this.directionalValue=s}Zt(){const e=this.directionalValue.length,n=e===0||this.directionalValue[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new ul(this.indexId,this.documentKey,this.arrayValue,r)}}function Fo(t,e){let n=t.indexId-e.indexId;return n!==0?n:(n=CA(t.arrayValue,e.arrayValue),n!==0?n:(n=CA(t.directionalValue,e.directionalValue),n!==0?n:Pe.comparator(t.documentKey,e.documentKey)))}function CA(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}class AA{constructor(e){this.Xt=new Ot(((n,r)=>Jt.comparator(n.field,r.field))),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.en=e.orderBy,this.tn=[];for(const n of e.filters){const r=n;r.isInequality()?this.Xt=this.Xt.add(r):this.tn.push(r)}}get nn(){return this.Xt.size>1}rn(e){if(Fe(e.collectionGroup===this.collectionId),this.nn)return!1;const n=ib(e);if(n!==void 0&&!this.sn(n))return!1;const r=sl(e);let s=new Set,i=0,a=0;for(;i<r.length&&this.sn(r[i]);++i)s=s.add(r[i].fieldPath.canonicalString());if(i===r.length)return!0;if(this.Xt.size>0){const l=this.Xt.getIterator().getNext();if(!s.has(l.field.canonicalString())){const u=r[i];if(!this.on(l,u)||!this._n(this.en[a++],u))return!1}++i}for(;i<r.length;++i){const l=r[i];if(a>=this.en.length||!this._n(this.en[a++],l))return!1}return!0}an(){if(this.nn)return null;let e=new Ot(Jt.comparator);const n=[];for(const r of this.tn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new Tm(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new Tm(r.field,0))}for(const r of this.en)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new Tm(r.field,r.dir==="asc"?0:1)));return new rg(rg.UNKNOWN_ID,this.collectionId,n,Lh.empty())}sn(e){for(const n of this.tn)if(this.on(n,e))return!0;return!1}on(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}_n(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}function YO(t){var e,n;if(Fe(t instanceof gt||t instanceof Nt),t instanceof gt){if(t instanceof yO){const s=((n=(e=t.value.arrayValue)===null||e===void 0?void 0:e.values)===null||n===void 0?void 0:n.map((i=>gt.create(t.field,"==",i))))||[];return Nt.create(s,"or")}return t}const r=t.filters.map((s=>YO(s)));return Nt.create(r,t.op)}function X8(t){if(t.getFilters().length===0)return[];const e=_b(YO(t));return Fe(XO(e)),vb(e)||wb(e)?[e]:e.getFilters()}function vb(t){return t instanceof gt}function wb(t){return t instanceof Nt&&rx(t)}function XO(t){return vb(t)||wb(t)||(function(n){if(n instanceof Nt&&cb(n)){for(const r of n.getFilters())if(!vb(r)&&!wb(r))return!1;return!0}return!1})(t)}function _b(t){if(Fe(t instanceof gt||t instanceof Nt),t instanceof gt)return t;if(t.filters.length===1)return _b(t.filters[0]);const e=t.filters.map((r=>_b(r)));let n=Nt.create(e,t.op);return n=lg(n),XO(n)?n:(Fe(n instanceof Nt),Fe(xu(n)),Fe(n.filters.length>1),n.filters.reduce(((r,s)=>hx(r,s))))}function hx(t,e){let n;return Fe(t instanceof gt||t instanceof Nt),Fe(e instanceof gt||e instanceof Nt),n=t instanceof gt?e instanceof gt?(function(s,i){return Nt.create([s,i],"and")})(t,e):PA(t,e):e instanceof gt?PA(e,t):(function(s,i){if(Fe(s.filters.length>0&&i.filters.length>0),xu(s)&&xu(i))return pO(s,i.getFilters());const a=cb(s)?s:i,l=cb(s)?i:s,u=a.filters.map((d=>hx(d,l)));return Nt.create(u,"or")})(t,e),lg(n)}function PA(t,e){if(xu(e))return pO(e,t.getFilters());{const n=e.filters.map((r=>hx(t,r)));return Nt.create(n,"or")}}function lg(t){if(Fe(t instanceof gt||t instanceof Nt),t instanceof gt)return t;const e=t.getFilters();if(e.length===1)return lg(e[0]);if(hO(t))return t;const n=e.map((s=>lg(s))),r=[];return n.forEach((s=>{s instanceof gt?r.push(s):s instanceof Nt&&(s.op===t.op?r.push(...s.filters):r.push(s))})),r.length===1?r[0]:Nt.create(r,t.op)}class Z8{constructor(){this.un=new fx}addToCollectionParentIndex(e,n){return this.un.add(n),J.resolve()}getCollectionParents(e,n){return J.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return J.resolve()}deleteFieldIndex(e,n){return J.resolve()}deleteAllFieldIndexes(e){return J.resolve()}createTargetIndexes(e,n){return J.resolve()}getDocumentsMatchingTarget(e,n){return J.resolve(null)}getIndexType(e,n){return J.resolve(0)}getFieldIndexes(e,n){return J.resolve([])}getNextCollectionGroupToUpdate(e){return J.resolve(null)}getMinOffset(e,n){return J.resolve(Qr.min())}getMinOffsetFromCollectionGroup(e,n){return J.resolve(Qr.min())}updateCollectionGroup(e,n,r){return J.resolve()}updateIndexEntries(e,n){return J.resolve()}}class fx{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Ot(Ct.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Ot(Ct.comparator)).toArray()}}const sm=new Uint8Array(0);class J8{constructor(e,n){this.databaseId=n,this.cn=new fx,this.ln=new Ia((r=>Ol(r)),((r,s)=>uf(r,s))),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.cn.has(n)){const r=n.lastSegment(),s=n.popLast();e.addOnCommittedListener((()=>{this.cn.add(n)}));const i={collectionId:r,parent:mr(s)};return RA(e).put(i)}return J.resolve()}getCollectionParents(e,n){const r=[],s=IDBKeyRange.bound([n,""],[XN(n),""],!1,!0);return RA(e).U(s).next((i=>{for(const a of i){if(a.collectionId!==n)break;r.push(ai(a.parent))}return r}))}addFieldIndex(e,n){const r=Yd(e),s=(function(l){return{indexId:l.indexId,collectionGroup:l.collectionGroup,fields:l.fields.map((u=>[u.fieldPath.canonicalString(),u.kind]))}})(n);delete s.indexId;const i=r.add(s);if(n.indexState){const a=Oc(e);return i.next((l=>{a.put(EA(l,this.uid,n.indexState.sequenceNumber,n.indexState.offset))}))}return i.next()}deleteFieldIndex(e,n){const r=Yd(e),s=Oc(e),i=Nc(e);return r.delete(n.indexId).next((()=>s.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))).next((()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const n=Yd(e),r=Nc(e),s=Oc(e);return n.j().next((()=>r.j())).next((()=>s.j()))}createTargetIndexes(e,n){return J.forEach(this.hn(n),(r=>this.getIndexType(e,r).next((s=>{if(s===0||s===1){const i=new AA(r).an();if(i!=null)return this.addFieldIndex(e,i)}}))))}getDocumentsMatchingTarget(e,n){const r=Nc(e);let s=!0;const i=new Map;return J.forEach(this.hn(n),(a=>this.Pn(e,a).next((l=>{s&&(s=!!l),i.set(a,l)})))).next((()=>{if(s){let a=dt();const l=[];return J.forEach(i,((u,d)=>{ye("IndexedDbIndexManager",`Using index ${(function(N){return`id=${N.indexId}|cg=${N.collectionGroup}|f=${N.fields.map((B=>`${B.fieldPath}:${B.kind}`)).join(",")}`})(u)} to execute ${Ol(n)}`);const f=(function(N,B){const j=ib(B);if(j===void 0)return null;for(const G of og(N,j.fieldPath))switch(G.op){case"array-contains-any":return G.value.arrayValue.values||[];case"array-contains":return[G.value]}return null})(d,u),g=(function(N,B){const j=new Map;for(const G of sl(B))for(const O of og(N,G.fieldPath))switch(O.op){case"==":case"in":j.set(G.fieldPath.canonicalString(),O.value);break;case"not-in":case"!=":return j.set(G.fieldPath.canonicalString(),O.value),Array.from(j.values())}return null})(d,u),y=(function(N,B){const j=[];let G=!0;for(const O of sl(B)){const P=O.kind===0?lA(N,O.fieldPath,N.startAt):cA(N,O.fieldPath,N.startAt);j.push(P.value),G&&(G=P.inclusive)}return new bu(j,G)})(d,u),x=(function(N,B){const j=[];let G=!0;for(const O of sl(B)){const P=O.kind===0?cA(N,O.fieldPath,N.endAt):lA(N,O.fieldPath,N.endAt);j.push(P.value),G&&(G=P.inclusive)}return new bu(j,G)})(d,u),I=this.In(u,d,y),E=this.In(u,d,x),S=this.Tn(u,d,g),k=this.En(u.indexId,f,I,y.inclusive,E,x.inclusive,S);return J.forEach(k,(A=>r.G(A,n.limit).next((N=>{N.forEach((B=>{const j=Pe.fromSegments(B.documentKey);a.has(j)||(a=a.add(j),l.push(j))}))}))))})).next((()=>l))}return J.resolve(null)}))}hn(e){let n=this.ln.get(e);return n||(e.filters.length===0?n=[e]:n=X8(Nt.create(e.filters,"and")).map((r=>db(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt))),this.ln.set(e,n),n)}En(e,n,r,s,i,a,l){const u=(n!=null?n.length:1)*Math.max(r.length,i.length),d=u/(n!=null?n.length:1),f=[];for(let g=0;g<u;++g){const y=n?this.dn(n[g/d]):sm,x=this.An(e,y,r[g%d],s),I=this.Rn(e,y,i[g%d],a),E=l.map((S=>this.An(e,y,S,!0)));f.push(...this.createRange(x,I,E))}return f}An(e,n,r,s){const i=new ul(e,Pe.empty(),n,r);return s?i:i.Zt()}Rn(e,n,r,s){const i=new ul(e,Pe.empty(),n,r);return s?i.Zt():i}Pn(e,n){const r=new AA(n),s=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,s).next((i=>{let a=null;for(const l of i)r.rn(l)&&(!a||l.fields.length>a.fields.length)&&(a=l);return a}))}getIndexType(e,n){let r=2;const s=this.hn(n);return J.forEach(s,(i=>this.Pn(e,i).next((a=>{a?r!==0&&a.fields.length<(function(u){let d=new Ot(Jt.comparator),f=!1;for(const g of u.filters)for(const y of g.getFlattenedFilters())y.field.isKeyField()||(y.op==="array-contains"||y.op==="array-contains-any"?f=!0:d=d.add(y.field));for(const g of u.orderBy)g.field.isKeyField()||(d=d.add(g.field));return d.size+(f?1:0)})(i)&&(r=1):r=0})))).next((()=>(function(a){return a.limit!==null})(n)&&s.length>1&&r===2?1:r))}Vn(e,n){const r=new Qd;for(const s of sl(e)){const i=n.data.field(s.fieldPath);if(i==null)return null;const a=r.Yt(s.kind);cl.vt.It(i,a)}return r.zt()}dn(e){const n=new Qd;return cl.vt.It(e,n.Yt(0)),n.zt()}mn(e,n){const r=new Qd;return cl.vt.It(Fh(this.databaseId,n),r.Yt((function(i){const a=sl(i);return a.length===0?0:a[a.length-1].kind})(e))),r.zt()}Tn(e,n,r){if(r===null)return[];let s=[];s.push(new Qd);let i=0;for(const a of sl(e)){const l=r[i++];for(const u of s)if(this.fn(n,a.fieldPath)&&Bh(l))s=this.gn(s,a,l);else{const d=u.Yt(a.kind);cl.vt.It(l,d)}}return this.pn(s)}In(e,n,r){return this.Tn(e,n,r.position)}pn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].zt();return n}gn(e,n,r){const s=[...e],i=[];for(const a of r.arrayValue.values||[])for(const l of s){const u=new Qd;u.seed(l.zt()),cl.vt.It(a,u.Yt(n.kind)),i.push(u)}return i}fn(e,n){return!!e.filters.find((r=>r instanceof gt&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in")))}getFieldIndexes(e,n){const r=Yd(e),s=Oc(e);return(n?r.U("collectionGroupIndex",IDBKeyRange.bound(n,n)):r.U()).next((i=>{const a=[];return J.forEach(i,(l=>s.get([l.indexId,this.uid]).next((u=>{a.push((function(f,g){const y=g?new Lh(g.sequenceNumber,new Qr(Ll(g.readTime),new Pe(ai(g.documentKey)),g.largestBatchId)):Lh.empty(),x=f.fields.map((([I,E])=>new Tm(Jt.fromServerFormat(I),E)));return new rg(f.indexId,f.collectionGroup,x,y)})(l,u))})))).next((()=>a))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((n=>n.length===0?null:(n.sort(((r,s)=>{const i=r.indexState.sequenceNumber-s.indexState.sequenceNumber;return i!==0?i:at(r.collectionGroup,s.collectionGroup)})),n[0].collectionGroup)))}updateCollectionGroup(e,n,r){const s=Yd(e),i=Oc(e);return this.yn(e).next((a=>s.U("collectionGroupIndex",IDBKeyRange.bound(n,n)).next((l=>J.forEach(l,(u=>i.put(EA(u.indexId,this.uid,a,r))))))))}updateIndexEntries(e,n){const r=new Map;return J.forEach(n,((s,i)=>{const a=r.get(s.collectionGroup);return(a?J.resolve(a):this.getFieldIndexes(e,s.collectionGroup)).next((l=>(r.set(s.collectionGroup,l),J.forEach(l,(u=>this.wn(e,s,u).next((d=>{const f=this.Sn(i,u);return d.isEqual(f)?J.resolve():this.bn(e,i,u,d,f)})))))))}))}Dn(e,n,r,s){return Nc(e).put({indexId:s.indexId,uid:this.uid,arrayValue:s.arrayValue,directionalValue:s.directionalValue,orderedDocumentKey:this.mn(r,n.key),documentKey:n.key.path.toArray()})}vn(e,n,r,s){return Nc(e).delete([s.indexId,this.uid,s.arrayValue,s.directionalValue,this.mn(r,n.key),n.key.path.toArray()])}wn(e,n,r){const s=Nc(e);let i=new Ot(Fo);return s.J({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.mn(r,n)])},((a,l)=>{i=i.add(new ul(r.indexId,n,l.arrayValue,l.directionalValue))})).next((()=>i))}Sn(e,n){let r=new Ot(Fo);const s=this.Vn(n,e);if(s==null)return r;const i=ib(n);if(i!=null){const a=e.data.field(i.fieldPath);if(Bh(a))for(const l of a.arrayValue.values||[])r=r.add(new ul(n.indexId,e.key,this.dn(l),s))}else r=r.add(new ul(n.indexId,e.key,sm,s));return r}bn(e,n,r,s,i){ye("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const a=[];return(function(u,d,f,g,y){const x=u.getIterator(),I=d.getIterator();let E=Dc(x),S=Dc(I);for(;E||S;){let k=!1,A=!1;if(E&&S){const N=f(E,S);N<0?A=!0:N>0&&(k=!0)}else E!=null?A=!0:k=!0;k?(g(S),S=Dc(I)):A?(y(E),E=Dc(x)):(E=Dc(x),S=Dc(I))}})(s,i,Fo,(l=>{a.push(this.Dn(e,n,r,l))}),(l=>{a.push(this.vn(e,n,r,l))})),J.waitFor(a)}yn(e){let n=1;return Oc(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((r,s,i)=>{i.done(),n=s.sequenceNumber+1})).next((()=>n))}createRange(e,n,r){r=r.sort(((a,l)=>Fo(a,l))).filter(((a,l,u)=>!l||Fo(a,u[l-1])!==0));const s=[];s.push(e);for(const a of r){const l=Fo(a,e),u=Fo(a,n);if(l===0)s[0]=e.Zt();else if(l>0&&u<0)s.push(a),s.push(a.Zt());else if(u>0)break}s.push(n);const i=[];for(let a=0;a<s.length;a+=2){if(this.Cn(s[a],s[a+1]))return[];const l=[s[a].indexId,this.uid,s[a].arrayValue,s[a].directionalValue,sm,[]],u=[s[a+1].indexId,this.uid,s[a+1].arrayValue,s[a+1].directionalValue,sm,[]];i.push(IDBKeyRange.bound(l,u))}return i}Cn(e,n){return Fo(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(kA)}getMinOffset(e,n){return J.mapArray(this.hn(n),(r=>this.Pn(e,r).next((s=>s||Le())))).next(kA)}}function RA(t){return An(t,"collectionParents")}function Nc(t){return An(t,"indexEntries")}function Yd(t){return An(t,"indexConfiguration")}function Oc(t){return An(t,"indexState")}function kA(t){Fe(t.length!==0);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const s=t[r].indexState.offset;Z0(s,e)<0&&(e=s),n<s.largestBatchId&&(n=s.largestBatchId)}return new Qr(e.readTime,e.documentKey,n)}const DA={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Dr{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Dr(e,Dr.DEFAULT_COLLECTION_PERCENTILE,Dr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function ZO(t,e,n){const r=t.store("mutations"),s=t.store("documentMutations"),i=[],a=IDBKeyRange.only(n.batchId);let l=0;const u=r.J({range:a},((f,g,y)=>(l++,y.delete())));i.push(u.next((()=>{Fe(l===1)})));const d=[];for(const f of n.mutations){const g=nO(e,f.key.path,n.batchId);i.push(s.delete(g)),d.push(f.key)}return J.waitFor(i).next((()=>d))}function cg(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Le();e=t.noDocument}return JSON.stringify(e).length}Dr.DEFAULT_COLLECTION_PERCENTILE=10,Dr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Dr.DEFAULT=new Dr(41943040,Dr.DEFAULT_COLLECTION_PERCENTILE,Dr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Dr.DISABLED=new Dr(-1,0,0);class dy{constructor(e,n,r,s){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=s,this.Fn={}}static lt(e,n,r,s){Fe(e.uid!=="");const i=e.isAuthenticated()?e.uid:"";return new dy(i,n,r,s)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Bo(e).J({index:"userMutationsIndex",range:r},((s,i,a)=>{n=!1,a.done()})).next((()=>n))}addMutationBatch(e,n,r,s){const i=Kc(e),a=Bo(e);return a.add({}).next((l=>{Fe(typeof l=="number");const u=new ax(l,n,r,s),d=(function(x,I,E){const S=E.baseMutations.map((A=>zh(x.ct,A))),k=E.mutations.map((A=>zh(x.ct,A)));return{userId:I,batchId:E.batchId,localWriteTimeMs:E.localWriteTime.toMillis(),baseMutations:S,mutations:k}})(this.serializer,this.userId,u),f=[];let g=new Ot(((y,x)=>at(y.canonicalString(),x.canonicalString())));for(const y of s){const x=nO(this.userId,y.key.path,l);g=g.add(y.key.path.popLast()),f.push(a.put(d)),f.push(i.put(x,Vq))}return g.forEach((y=>{f.push(this.indexManager.addToCollectionParentIndex(e,y))})),e.addOnCommittedListener((()=>{this.Fn[l]=u.keys()})),J.waitFor(f).next((()=>u))}))}lookupMutationBatch(e,n){return Bo(e).get(n).next((r=>r?(Fe(r.userId===this.userId),ll(this.serializer,r)):null))}Mn(e,n){return this.Fn[n]?J.resolve(this.Fn[n]):this.lookupMutationBatch(e,n).next((r=>{if(r){const s=r.keys();return this.Fn[n]=s,s}return null}))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=IDBKeyRange.lowerBound([this.userId,r]);let i=null;return Bo(e).J({index:"userMutationsIndex",range:s},((a,l,u)=>{l.userId===this.userId&&(Fe(l.batchId>=r),i=ll(this.serializer,l)),u.done()})).next((()=>i))}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Bo(e).J({index:"userMutationsIndex",range:n,reverse:!0},((s,i,a)=>{r=i.batchId,a.done()})).next((()=>r))}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Bo(e).U("userMutationsIndex",n).next((r=>r.map((s=>ll(this.serializer,s)))))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=Sm(this.userId,n.path),s=IDBKeyRange.lowerBound(r),i=[];return Kc(e).J({range:s},((a,l,u)=>{const[d,f,g]=a,y=ai(f);if(d===this.userId&&n.path.isEqual(y))return Bo(e).get(g).next((x=>{if(!x)throw Le();Fe(x.userId===this.userId),i.push(ll(this.serializer,x))}));u.done()})).next((()=>i))}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ot(at);const s=[];return n.forEach((i=>{const a=Sm(this.userId,i.path),l=IDBKeyRange.lowerBound(a),u=Kc(e).J({range:l},((d,f,g)=>{const[y,x,I]=d,E=ai(x);y===this.userId&&i.path.isEqual(E)?r=r.add(I):g.done()}));s.push(u)})),J.waitFor(s).next((()=>this.xn(e,r)))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1,i=Sm(this.userId,r),a=IDBKeyRange.lowerBound(i);let l=new Ot(at);return Kc(e).J({range:a},((u,d,f)=>{const[g,y,x]=u,I=ai(y);g===this.userId&&r.isPrefixOf(I)?I.length===s&&(l=l.add(x)):f.done()})).next((()=>this.xn(e,l)))}xn(e,n){const r=[],s=[];return n.forEach((i=>{s.push(Bo(e).get(i).next((a=>{if(a===null)throw Le();Fe(a.userId===this.userId),r.push(ll(this.serializer,a))})))})),J.waitFor(s).next((()=>r))}removeMutationBatch(e,n){return ZO(e._e,this.userId,n).next((r=>(e.addOnCommittedListener((()=>{this.On(n.batchId)})),J.forEach(r,(s=>this.referenceDelegate.markPotentiallyOrphaned(e,s))))))}On(e){delete this.Fn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((n=>{if(!n)return J.resolve();const r=IDBKeyRange.lowerBound((function(a){return[a]})(this.userId)),s=[];return Kc(e).J({range:r},((i,a,l)=>{if(i[0]===this.userId){const u=ai(i[1]);s.push(u)}else l.done()})).next((()=>{Fe(s.length===0)}))}))}containsKey(e,n){return JO(e,this.userId,n)}Nn(e){return eV(e).get(this.userId).next((n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}))}}function JO(t,e,n){const r=Sm(e,n.path),s=r[1],i=IDBKeyRange.lowerBound(r);let a=!1;return Kc(t).J({range:i,H:!0},((l,u,d)=>{const[f,g,y]=l;f===e&&g===s&&(a=!0),d.done()})).next((()=>a))}function Bo(t){return An(t,"mutations")}function Kc(t){return An(t,"documentMutations")}function eV(t){return An(t,"mutationQueues")}class Ml{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Ml(0)}static kn(){return new Ml(-1)}}class eK{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.qn(e).next((n=>{const r=new Ml(n.highestTargetId);return n.highestTargetId=r.next(),this.Qn(e,n).next((()=>n.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.qn(e).next((n=>He.fromTimestamp(new tn(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.qn(e).next((n=>n.highestListenSequenceNumber))}setTargetsMetadata(e,n,r){return this.qn(e).next((s=>(s.highestListenSequenceNumber=n,r&&(s.lastRemoteSnapshotVersion=r.toTimestamp()),n>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=n),this.Qn(e,s))))}addTargetData(e,n){return this.Kn(e,n).next((()=>this.qn(e).next((r=>(r.targetCount+=1,this.$n(n,r),this.Qn(e,r))))))}updateTargetData(e,n){return this.Kn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next((()=>Vc(e).delete(n.targetId))).next((()=>this.qn(e))).next((r=>(Fe(r.targetCount>0),r.targetCount-=1,this.Qn(e,r))))}removeTargets(e,n,r){let s=0;const i=[];return Vc(e).J(((a,l)=>{const u=ah(l);u.sequenceNumber<=n&&r.get(u.targetId)===null&&(s++,i.push(this.removeTargetData(e,u)))})).next((()=>J.waitFor(i))).next((()=>s))}forEachTarget(e,n){return Vc(e).J(((r,s)=>{const i=ah(s);n(i)}))}qn(e){return NA(e).get("targetGlobalKey").next((n=>(Fe(n!==null),n)))}Qn(e,n){return NA(e).put("targetGlobalKey",n)}Kn(e,n){return Vc(e).put(GO(this.serializer,n))}$n(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.qn(e).next((n=>n.targetCount))}getTargetData(e,n){const r=Ol(n),s=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let i=null;return Vc(e).J({range:s,index:"queryTargetsIndex"},((a,l,u)=>{const d=ah(l);uf(n,d.target)&&(i=d,u.done())})).next((()=>i))}addMatchingKeys(e,n,r){const s=[],i=qo(e);return n.forEach((a=>{const l=mr(a.path);s.push(i.put({targetId:r,path:l})),s.push(this.referenceDelegate.addReference(e,r,a))})),J.waitFor(s)}removeMatchingKeys(e,n,r){const s=qo(e);return J.forEach(n,(i=>{const a=mr(i.path);return J.waitFor([s.delete([r,a]),this.referenceDelegate.removeReference(e,r,i)])}))}removeMatchingKeysForTargetId(e,n){const r=qo(e),s=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(s)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),s=qo(e);let i=dt();return s.J({range:r,H:!0},((a,l,u)=>{const d=ai(a[1]),f=new Pe(d);i=i.add(f)})).next((()=>i))}containsKey(e,n){const r=mr(n.path),s=IDBKeyRange.bound([r],[XN(r)],!1,!0);let i=0;return qo(e).J({index:"documentTargetsIndex",H:!0,range:s},(([a,l],u,d)=>{a!==0&&(i++,d.done())})).next((()=>i>0))}ot(e,n){return Vc(e).get(n).next((r=>r?ah(r):null))}}function Vc(t){return An(t,"targets")}function NA(t){return An(t,"targetGlobal")}function qo(t){return An(t,"targetDocuments")}function OA([t,e],[n,r]){const s=at(t,n);return s===0?at(e,r):s}class tK{constructor(e){this.Un=e,this.buffer=new Ot(OA),this.Wn=0}Gn(){return++this.Wn}zn(e){const n=[e,this.Gn()];if(this.buffer.size<this.Un)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();OA(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class nK{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Hn(6e4)}stop(){this.jn&&(this.jn.cancel(),this.jn=null)}get started(){return this.jn!==null}Hn(e){ye("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Sa(n)?ye("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await Hl(n)}await this.Hn(3e5)}))}}class rK{constructor(e,n){this.Jn=e,this.params=n}calculateTargetCount(e,n){return this.Jn.Yn(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return J.resolve(ms.oe);const r=new tK(n);return this.Jn.forEachTarget(e,(s=>r.zn(s.sequenceNumber))).next((()=>this.Jn.Zn(e,(s=>r.zn(s))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.Jn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Jn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ye("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(DA)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(ye("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),DA):this.Xn(e,n)))}getCacheSize(e){return this.Jn.getCacheSize(e)}Xn(e,n){let r,s,i,a,l,u,d;const f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((g=>(g>this.params.maximumSequenceNumbersToCollect?(ye("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),s=this.params.maximumSequenceNumbersToCollect):s=g,a=Date.now(),this.nthSequenceNumber(e,s)))).next((g=>(r=g,l=Date.now(),this.removeTargets(e,r,n)))).next((g=>(i=g,u=Date.now(),this.removeOrphanedDocuments(e,r)))).next((g=>(d=Date.now(),zc()<=mt.DEBUG&&ye("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-f}ms
	Determined least recently used ${s} in `+(l-a)+`ms
	Removed ${i} targets in `+(u-l)+`ms
	Removed ${g} documents in `+(d-u)+`ms
Total Duration: ${d-f}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:g}))))}}function sK(t,e){return new rK(t,e)}class iK{constructor(e,n){this.db=e,this.garbageCollector=sK(this,n)}Yn(e){const n=this.er(e);return this.db.getTargetCache().getTargetCount(e).next((r=>n.next((s=>r+s))))}er(e){let n=0;return this.Zn(e,(r=>{n++})).next((()=>n))}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Zn(e,n){return this.tr(e,((r,s)=>n(s)))}addReference(e,n,r){return im(e,r)}removeReference(e,n,r){return im(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return im(e,n)}nr(e,n){return(function(s,i){let a=!1;return eV(s).Y((l=>JO(s,l,i).next((u=>(u&&(a=!0),J.resolve(!u)))))).next((()=>a))})(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),s=[];let i=0;return this.tr(e,((a,l)=>{if(l<=n){const u=this.nr(e,a).next((d=>{if(!d)return i++,r.getEntry(e,a).next((()=>(r.removeEntry(a,He.min()),qo(e).delete((function(g){return[0,mr(g.path)]})(a)))))}));s.push(u)}})).next((()=>J.waitFor(s))).next((()=>r.apply(e))).next((()=>i))}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return im(e,n)}tr(e,n){const r=qo(e);let s,i=ms.oe;return r.J({index:"documentTargetsIndex"},(([a,l],{path:u,sequenceNumber:d})=>{a===0?(i!==ms.oe&&n(new Pe(ai(s)),i),i=d,s=u):i=ms.oe})).next((()=>{i!==ms.oe&&n(new Pe(ai(s)),i)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function im(t,e){return qo(t).put((function(r,s){return{targetId:0,path:mr(r.path),sequenceNumber:s}})(e,t.currentSequenceNumber))}class tV{constructor(){this.changes=new Ia((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Gt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?J.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class oK{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return tl(e).put(r)}removeEntry(e,n,r){return tl(e).delete((function(i,a){const l=i.path.toArray();return[l.slice(0,l.length-2),l[l.length-2],ag(a),l[l.length-1]]})(n,r))}updateMetadata(e,n){return this.getMetadata(e).next((r=>(r.byteSize+=n,this.rr(e,r))))}getEntry(e,n){let r=Gt.newInvalidDocument(n);return tl(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Xd(n))},((s,i)=>{r=this.ir(n,i)})).next((()=>r))}sr(e,n){let r={size:0,document:Gt.newInvalidDocument(n)};return tl(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Xd(n))},((s,i)=>{r={document:this.ir(n,i),size:cg(i)}})).next((()=>r))}getEntries(e,n){let r=qr();return this._r(e,n,((s,i)=>{const a=this.ir(s,i);r=r.insert(s,a)})).next((()=>r))}ar(e,n){let r=qr(),s=new Yt(Pe.comparator);return this._r(e,n,((i,a)=>{const l=this.ir(i,a);r=r.insert(i,l),s=s.insert(i,cg(a))})).next((()=>({documents:r,ur:s})))}_r(e,n,r){if(n.isEmpty())return J.resolve();let s=new Ot(MA);n.forEach((u=>s=s.add(u)));const i=IDBKeyRange.bound(Xd(s.first()),Xd(s.last())),a=s.getIterator();let l=a.getNext();return tl(e).J({index:"documentKeyIndex",range:i},((u,d,f)=>{const g=Pe.fromSegments([...d.prefixPath,d.collectionGroup,d.documentId]);for(;l&&MA(l,g)<0;)r(l,null),l=a.getNext();l&&l.isEqual(g)&&(r(l,d),l=a.hasNext()?a.getNext():null),l?f.$(Xd(l)):f.done()})).next((()=>{for(;l;)r(l,null),l=a.hasNext()?a.getNext():null}))}getDocumentsMatchingQuery(e,n,r,s,i){const a=n.path,l=[a.popLast().toArray(),a.lastSegment(),ag(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],u=[a.popLast().toArray(),a.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return tl(e).U(IDBKeyRange.bound(l,u,!0)).next((d=>{i?.incrementDocumentReadCount(d.length);let f=qr();for(const g of d){const y=this.ir(Pe.fromSegments(g.prefixPath.concat(g.collectionGroup,g.documentId)),g);y.isFoundDocument()&&(hf(n,y)||s.has(y.key))&&(f=f.insert(y.key,y))}return f}))}getAllFromCollectionGroup(e,n,r,s){let i=qr();const a=LA(n,r),l=LA(n,Qr.max());return tl(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(a,l,!0)},((u,d,f)=>{const g=this.ir(Pe.fromSegments(d.prefixPath.concat(d.collectionGroup,d.documentId)),d);i=i.insert(g.key,g),i.size===s&&f.done()})).next((()=>i))}newChangeBuffer(e){return new aK(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((n=>n.byteSize))}getMetadata(e){return VA(e).get("remoteDocumentGlobalKey").next((n=>(Fe(!!n),n)))}rr(e,n){return VA(e).put("remoteDocumentGlobalKey",n)}ir(e,n){if(n){const r=W8(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(He.min())))return r}return Gt.newInvalidDocument(e)}}function nV(t){return new oK(t)}class aK extends tV{constructor(e,n){super(),this.cr=e,this.trackRemovals=n,this.lr=new Ia((r=>r.toString()),((r,s)=>r.isEqual(s)))}applyChanges(e){const n=[];let r=0,s=new Ot(((i,a)=>at(i.canonicalString(),a.canonicalString())));return this.changes.forEach(((i,a)=>{const l=this.lr.get(i);if(n.push(this.cr.removeEntry(e,i,l.readTime)),a.isValidDocument()){const u=bA(this.cr.serializer,a);s=s.add(i.path.popLast());const d=cg(u);r+=d-l.size,n.push(this.cr.addEntry(e,i,u))}else if(r-=l.size,this.trackRemovals){const u=bA(this.cr.serializer,a.convertToNoDocument(He.min()));n.push(this.cr.addEntry(e,i,u))}})),s.forEach((i=>{n.push(this.cr.indexManager.addToCollectionParentIndex(e,i))})),n.push(this.cr.updateMetadata(e,r)),J.waitFor(n)}getFromCache(e,n){return this.cr.sr(e,n).next((r=>(this.lr.set(n,{size:r.size,readTime:r.document.readTime}),r.document)))}getAllFromCache(e,n){return this.cr.ar(e,n).next((({documents:r,ur:s})=>(s.forEach(((i,a)=>{this.lr.set(i,{size:a,readTime:r.get(i).readTime})})),r)))}}function VA(t){return An(t,"remoteDocumentGlobal")}function tl(t){return An(t,"remoteDocumentsV14")}function Xd(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function LA(t,e){const n=e.documentKey.path.toArray();return[t,ag(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function MA(t,e){const n=t.path.toArray(),r=e.path.toArray();let s=0;for(let i=0;i<n.length-2&&i<r.length-2;++i)if(s=at(n[i],r[i]),s)return s;return s=at(n.length,r.length),s||(s=at(n[n.length-2],r[r.length-2]),s||at(n[n.length-1],r[r.length-1]))}class lK{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class rV{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((s=>(r=s,this.remoteDocumentCache.getEntry(e,n)))).next((s=>(r!==null&&vh(r.mutation,s,Nr.empty(),tn.now()),s)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,dt()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=dt()){const s=li();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,r).next((i=>{let a=ih();return i.forEach(((l,u)=>{a=a.insert(l,u.overlayedDocument)})),a}))))}getOverlayedDocuments(e,n){const r=li();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,dt())))}populateOverlays(e,n,r){const s=[];return r.forEach((i=>{n.has(i)||s.push(i)})),this.documentOverlayCache.getOverlays(e,s).next((i=>{i.forEach(((a,l)=>{n.set(a,l)}))}))}computeViews(e,n,r,s){let i=qr();const a=yh(),l=(function(){return yh()})();return n.forEach(((u,d)=>{const f=r.get(d.key);s.has(d.key)&&(f===void 0||f.mutation instanceof oo)?i=i.insert(d.key,d):f!==void 0?(a.set(d.key,f.mutation.getFieldMask()),vh(f.mutation,d,f.mutation.getFieldMask(),tn.now())):a.set(d.key,Nr.empty())})),this.recalculateAndSaveOverlays(e,i).next((u=>(u.forEach(((d,f)=>a.set(d,f))),n.forEach(((d,f)=>{var g;return l.set(d,new lK(f,(g=a.get(d))!==null&&g!==void 0?g:null))})),l)))}recalculateAndSaveOverlays(e,n){const r=yh();let s=new Yt(((a,l)=>a-l)),i=dt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((a=>{for(const l of a)l.keys().forEach((u=>{const d=n.get(u);if(d===null)return;let f=r.get(u)||Nr.empty();f=l.applyToLocalView(d,f),r.set(u,f);const g=(s.get(l.batchId)||dt()).add(u);s=s.insert(l.batchId,g)}))})).next((()=>{const a=[],l=s.getReverseIterator();for(;l.hasNext();){const u=l.getNext(),d=u.key,f=u.value,g=EO();f.forEach((y=>{if(!i.has(y)){const x=RO(n.get(y),r.get(y));x!==null&&g.set(y,x),i=i.add(y)}})),a.push(this.documentOverlayCache.saveOverlays(e,d,g))}return J.waitFor(a)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,s){return(function(a){return Pe.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):vO(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next((i=>{const a=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):J.resolve(li());let l=-1,u=i;return a.next((d=>J.forEach(d,((f,g)=>(l<g.largestBatchId&&(l=g.largestBatchId),i.get(f)?J.resolve():this.remoteDocumentCache.getEntry(e,f).next((y=>{u=u.insert(f,y)}))))).next((()=>this.populateOverlays(e,d,i))).next((()=>this.computeViews(e,u,d,dt()))).next((f=>({batchId:l,changes:xO(f)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Pe(n)).next((r=>{let s=ih();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let a=ih();return this.indexManager.getCollectionParents(e,i).next((l=>J.forEach(l,(u=>{const d=(function(g,y){return new df(y,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)})(n,u.child(i));return this.getDocumentsMatchingCollectionQuery(e,d,r,s).next((f=>{f.forEach(((g,y)=>{a=a.insert(g,y)}))}))})).next((()=>a))))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((a=>(i=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s)))).next((a=>{i.forEach(((u,d)=>{const f=d.getKey();a.get(f)===null&&(a=a.insert(f,Gt.newInvalidDocument(f)))}));let l=ih();return a.forEach(((u,d)=>{const f=i.get(u);f!==void 0&&vh(f.mutation,d,Nr.empty(),tn.now()),hf(n,d)&&(l=l.insert(u,d))})),l}))}}class cK{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return J.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,(function(s){return{id:s.id,version:s.version,createTime:Vn(s.createTime)}})(n)),J.resolve()}getNamedQuery(e,n){return J.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,(function(s){return{name:s.name,query:QO(s.bundledQuery),readTime:Vn(s.readTime)}})(n)),J.resolve()}}class uK{constructor(){this.overlays=new Yt(Pe.comparator),this.Ir=new Map}getOverlay(e,n){return J.resolve(this.overlays.get(n))}getOverlays(e,n){const r=li();return J.forEach(n,(s=>this.getOverlay(e,s).next((i=>{i!==null&&r.set(s,i)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((s,i)=>{this.ht(e,n,i)})),J.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Ir.get(r);return s!==void 0&&(s.forEach((i=>this.overlays=this.overlays.remove(i))),this.Ir.delete(r)),J.resolve()}getOverlaysForCollection(e,n,r){const s=li(),i=n.length+1,a=new Pe(n.child("")),l=this.overlays.getIteratorFrom(a);for(;l.hasNext();){const u=l.getNext().value,d=u.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===i&&u.largestBatchId>r&&s.set(u.getKey(),u)}return J.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Yt(((d,f)=>d-f));const a=this.overlays.getIterator();for(;a.hasNext();){const d=a.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let f=i.get(d.largestBatchId);f===null&&(f=li(),i=i.insert(d.largestBatchId,f)),f.set(d.getKey(),d)}}const l=li(),u=i.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach(((d,f)=>l.set(d,f))),!(l.size()>=s)););return J.resolve(l)}ht(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const a=this.Ir.get(s.largestBatchId).delete(r.key);this.Ir.set(s.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new cx(n,r));let i=this.Ir.get(n);i===void 0&&(i=dt(),this.Ir.set(n,i)),this.Ir.set(n,i.add(r.key))}}class dK{constructor(){this.sessionToken=vn.EMPTY_BYTE_STRING}getSessionToken(e){return J.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,J.resolve()}}class px{constructor(){this.Tr=new Ot(On.Er),this.dr=new Ot(On.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new On(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Vr(new On(e,n))}mr(e,n){e.forEach((r=>this.removeReference(r,n)))}gr(e){const n=new Pe(new Ct([])),r=new On(n,e),s=new On(n,e+1),i=[];return this.dr.forEachInRange([r,s],(a=>{this.Vr(a),i.push(a.key)})),i}pr(){this.Tr.forEach((e=>this.Vr(e)))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new Pe(new Ct([])),r=new On(n,e),s=new On(n,e+1);let i=dt();return this.dr.forEachInRange([r,s],(a=>{i=i.add(a.key)})),i}containsKey(e){const n=new On(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class On{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return Pe.comparator(e.key,n.key)||at(e.wr,n.wr)}static Ar(e,n){return at(e.wr,n.wr)||Pe.comparator(e.key,n.key)}}class hK{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Ot(On.Er)}checkEmpty(e){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new ax(i,n,r,s);this.mutationQueue.push(a);for(const l of s)this.br=this.br.add(new On(l.key,i)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return J.resolve(a)}lookupMutationBatch(e,n){return J.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.vr(r),i=s<0?0:s;return J.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new On(n,0),s=new On(n,Number.POSITIVE_INFINITY),i=[];return this.br.forEachInRange([r,s],(a=>{const l=this.Dr(a.wr);i.push(l)})),J.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ot(at);return n.forEach((s=>{const i=new On(s,0),a=new On(s,Number.POSITIVE_INFINITY);this.br.forEachInRange([i,a],(l=>{r=r.add(l.wr)}))})),J.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;Pe.isDocumentKey(i)||(i=i.child(""));const a=new On(new Pe(i),0);let l=new Ot(at);return this.br.forEachWhile((u=>{const d=u.key.path;return!!r.isPrefixOf(d)&&(d.length===s&&(l=l.add(u.wr)),!0)}),a),J.resolve(this.Cr(l))}Cr(e){const n=[];return e.forEach((r=>{const s=this.Dr(r);s!==null&&n.push(s)})),n}removeMutationBatch(e,n){Fe(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return J.forEach(n.mutations,(s=>{const i=new On(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)})).next((()=>{this.br=r}))}On(e){}containsKey(e,n){const r=new On(n,0),s=this.br.firstAfterOrEqual(r);return J.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,J.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class fK{constructor(e){this.Mr=e,this.docs=(function(){return new Yt(Pe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,a=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return J.resolve(r?r.document.mutableCopy():Gt.newInvalidDocument(n))}getEntries(e,n){let r=qr();return n.forEach((s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Gt.newInvalidDocument(s))})),J.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=qr();const a=n.path,l=new Pe(a.child("")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:d,value:{document:f}}=u.getNext();if(!a.isPrefixOf(d.path))break;d.path.length>a.length+1||Z0(ZN(f),r)<=0||(s.has(f.key)||hf(n,f))&&(i=i.insert(f.key,f.mutableCopy()))}return J.resolve(i)}getAllFromCollectionGroup(e,n,r,s){Le()}Or(e,n){return J.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new pK(this)}getSize(e){return J.resolve(this.size)}}class pK extends tV{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,s)=>{s.isValidDocument()?n.push(this.cr.addEntry(e,s)):this.cr.removeEntry(r)})),J.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}class mK{constructor(e){this.persistence=e,this.Nr=new Ia((n=>Ol(n)),uf),this.lastRemoteSnapshotVersion=He.min(),this.highestTargetId=0,this.Lr=0,this.Br=new px,this.targetCount=0,this.kr=Ml.Bn()}forEachTarget(e,n){return this.Nr.forEach(((r,s)=>n(s))),J.resolve()}getLastRemoteSnapshotVersion(e){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return J.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),J.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Ml(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,J.resolve()}updateTargetData(e,n){return this.Kn(n),J.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,J.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.Nr.forEach(((a,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.Nr.delete(a),i.push(this.removeMatchingKeysForTargetId(e,l.targetId)),s++)})),J.waitFor(i).next((()=>s))}getTargetCount(e){return J.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return J.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),J.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach((a=>{i.push(s.markPotentiallyOrphaned(e,a))})),J.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),J.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return J.resolve(r)}containsKey(e,n){return J.resolve(this.Br.containsKey(n))}}class sV{constructor(e,n){this.qr={},this.overlays={},this.Qr=new ms(0),this.Kr=!1,this.Kr=!0,this.$r=new dK,this.referenceDelegate=e(this),this.Ur=new mK(this),this.indexManager=new Z8,this.remoteDocumentCache=(function(s){return new fK(s)})((r=>this.referenceDelegate.Wr(r))),this.serializer=new KO(n),this.Gr=new cK(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new uK,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new hK(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){ye("MemoryPersistence","Starting transaction:",e);const s=new gK(this.Qr.next());return this.referenceDelegate.zr(),r(s).next((i=>this.referenceDelegate.jr(s).next((()=>i)))).toPromise().then((i=>(s.raiseOnCommittedEvent(),i)))}Hr(e,n){return J.or(Object.values(this.qr).map((r=>()=>r.containsKey(e,n))))}}class gK extends eO{constructor(e){super(),this.currentSequenceNumber=e}}class hy{constructor(e){this.persistence=e,this.Jr=new px,this.Yr=null}static Zr(e){return new hy(e)}get Xr(){if(this.Yr)return this.Yr;throw Le()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),J.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),J.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),J.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach((s=>this.Xr.add(s.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((s=>{s.forEach((i=>this.Xr.add(i.toString())))})).next((()=>r.removeTargetData(e,n)))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.Xr,(r=>{const s=Pe.fromPath(r);return this.ei(e,s).next((i=>{i||n.removeEntry(s,He.min())}))})).next((()=>(this.Yr=null,n.apply(e))))}updateLimboDocument(e,n){return this.ei(e,n).next((r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())}))}Wr(e){return 0}ei(e,n){return J.or([()=>J.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}class yK{constructor(e){this.serializer=e}O(e,n,r,s){const i=new ry("createOrUpgrade",n);r<1&&s>=1&&((function(u){u.createObjectStore("owner")})(e),(function(u){u.createObjectStore("mutationQueues",{keyPath:"userId"}),u.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",XC,{unique:!0}),u.createObjectStore("documentMutations")})(e),$A(e),(function(u){u.createObjectStore("remoteDocuments")})(e));let a=J.resolve();return r<3&&s>=3&&(r!==0&&((function(u){u.deleteObjectStore("targetDocuments"),u.deleteObjectStore("targets"),u.deleteObjectStore("targetGlobal")})(e),$A(e)),a=a.next((()=>(function(u){const d=u.store("targetGlobal"),f={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:He.min().toTimestamp(),targetCount:0};return d.put("targetGlobalKey",f)})(i)))),r<4&&s>=4&&(r!==0&&(a=a.next((()=>(function(u,d){return d.store("mutations").U().next((f=>{u.deleteObjectStore("mutations"),u.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",XC,{unique:!0});const g=d.store("mutations"),y=f.map((x=>g.put(x)));return J.waitFor(y)}))})(e,i)))),a=a.next((()=>{(function(u){u.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)}))),r<5&&s>=5&&(a=a.next((()=>this.ni(i)))),r<6&&s>=6&&(a=a.next((()=>((function(u){u.createObjectStore("remoteDocumentGlobal")})(e),this.ri(i))))),r<7&&s>=7&&(a=a.next((()=>this.ii(i)))),r<8&&s>=8&&(a=a.next((()=>this.si(e,i)))),r<9&&s>=9&&(a=a.next((()=>{(function(u){u.objectStoreNames.contains("remoteDocumentChanges")&&u.deleteObjectStore("remoteDocumentChanges")})(e)}))),r<10&&s>=10&&(a=a.next((()=>this.oi(i)))),r<11&&s>=11&&(a=a.next((()=>{(function(u){u.createObjectStore("bundles",{keyPath:"bundleId"})})(e),(function(u){u.createObjectStore("namedQueries",{keyPath:"name"})})(e)}))),r<12&&s>=12&&(a=a.next((()=>{(function(u){const d=u.createObjectStore("documentOverlays",{keyPath:Kq});d.createIndex("collectionPathOverlayIndex",Gq,{unique:!1}),d.createIndex("collectionGroupOverlayIndex",Qq,{unique:!1})})(e)}))),r<13&&s>=13&&(a=a.next((()=>(function(u){const d=u.createObjectStore("remoteDocumentsV14",{keyPath:Lq});d.createIndex("documentKeyIndex",Mq),d.createIndex("collectionGroupIndex",$q)})(e))).next((()=>this._i(e,i))).next((()=>e.deleteObjectStore("remoteDocuments")))),r<14&&s>=14&&(a=a.next((()=>this.ai(e,i)))),r<15&&s>=15&&(a=a.next((()=>(function(u){u.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),u.createObjectStore("indexState",{keyPath:zq}).createIndex("sequenceNumberIndex",Wq,{unique:!1}),u.createObjectStore("indexEntries",{keyPath:Hq}).createIndex("documentKeyIndex",qq,{unique:!1})})(e)))),r<16&&s>=16&&(a=a.next((()=>{n.objectStore("indexState").clear()})).next((()=>{n.objectStore("indexEntries").clear()}))),r<17&&s>=17&&(a=a.next((()=>{(function(u){u.createObjectStore("globals",{keyPath:"name"})})(e)}))),a}ri(e){let n=0;return e.store("remoteDocuments").J(((r,s)=>{n+=cg(s)})).next((()=>{const r={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)}))}ni(e){const n=e.store("mutationQueues"),r=e.store("mutations");return n.U().next((s=>J.forEach(s,(i=>{const a=IDBKeyRange.bound([i.userId,-1],[i.userId,i.lastAcknowledgedBatchId]);return r.U("userMutationsIndex",a).next((l=>J.forEach(l,(u=>{Fe(u.userId===i.userId);const d=ll(this.serializer,u);return ZO(e,i.userId,d).next((()=>{}))}))))}))))}ii(e){const n=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((s=>{const i=[];return r.J(((a,l)=>{const u=new Ct(a),d=(function(g){return[0,mr(g)]})(u);i.push(n.get(d).next((f=>f?J.resolve():(g=>n.put({targetId:0,path:mr(g),sequenceNumber:s.highestListenSequenceNumber}))(u))))})).next((()=>J.waitFor(i)))}))}si(e,n){e.createObjectStore("collectionParents",{keyPath:Uq});const r=n.store("collectionParents"),s=new fx,i=a=>{if(s.add(a)){const l=a.lastSegment(),u=a.popLast();return r.put({collectionId:l,parent:mr(u)})}};return n.store("remoteDocuments").J({H:!0},((a,l)=>{const u=new Ct(a);return i(u.popLast())})).next((()=>n.store("documentMutations").J({H:!0},(([a,l,u],d)=>{const f=ai(l);return i(f.popLast())}))))}oi(e){const n=e.store("targets");return n.J(((r,s)=>{const i=ah(s),a=GO(this.serializer,i);return n.put(a)}))}_i(e,n){const r=n.store("remoteDocuments"),s=[];return r.J(((i,a)=>{const l=n.store("remoteDocumentsV14"),u=(function(g){return g.document?new Pe(Ct.fromString(g.document.name).popFirst(5)):g.noDocument?Pe.fromSegments(g.noDocument.path):g.unknownDocument?Pe.fromSegments(g.unknownDocument.path):Le()})(a).path.toArray(),d={prefixPath:u.slice(0,u.length-2),collectionGroup:u[u.length-2],documentId:u[u.length-1],readTime:a.readTime||[0,0],unknownDocument:a.unknownDocument,noDocument:a.noDocument,document:a.document,hasCommittedMutations:!!a.hasCommittedMutations};s.push(l.put(d))})).next((()=>J.waitFor(s)))}ai(e,n){const r=n.store("mutations"),s=nV(this.serializer),i=new sV(hy.Zr,this.serializer.ct);return r.U().next((a=>{const l=new Map;return a.forEach((u=>{var d;let f=(d=l.get(u.userId))!==null&&d!==void 0?d:dt();ll(this.serializer,u).keys().forEach((g=>f=f.add(g))),l.set(u.userId,f)})),J.forEach(l,((u,d)=>{const f=new hr(d),g=uy.lt(this.serializer,f),y=i.getIndexManager(f),x=dy.lt(f,this.serializer,y,i.referenceDelegate);return new rV(s,x,g,y).recalculateAndSaveOverlaysForDocumentKeys(new ob(n,ms.oe),u).next()}))}))}}function $A(t){t.createObjectStore("targetDocuments",{keyPath:Fq}).createIndex("documentTargetsIndex",Bq,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",jq,{unique:!0}),t.createObjectStore("targetGlobal")}const zw="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class mx{constructor(e,n,r,s,i,a,l,u,d,f,g=17){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.ui=i,this.window=a,this.document=l,this.ci=d,this.li=f,this.hi=g,this.Qr=null,this.Kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Pi=null,this.inForeground=!1,this.Ii=null,this.Ti=null,this.Ei=Number.NEGATIVE_INFINITY,this.di=y=>Promise.resolve(),!mx.D())throw new Te(le.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new iK(this,s),this.Ai=n+"main",this.serializer=new KO(u),this.Ri=new ia(this.Ai,this.hi,new yK(this.serializer)),this.$r=new q8,this.Ur=new eK(this.referenceDelegate,this.serializer),this.remoteDocumentCache=nV(this.serializer),this.Gr=new H8,this.window&&this.window.localStorage?this.Vi=this.window.localStorage:(this.Vi=null,f===!1&&pr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Te(le.FAILED_PRECONDITION,zw);return this.fi(),this.gi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.Ur.getHighestSequenceNumber(e)))})).then((e=>{this.Qr=new ms(e,this.ci)})).then((()=>{this.Kr=!0})).catch((e=>(this.Ri&&this.Ri.close(),Promise.reject(e))))}yi(e){return this.di=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ri.L((async n=>{n.newVersion===null&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.ui.enqueueAndForget((async()=>{this.started&&await this.mi()})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>om(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.wi(e).next((n=>{n||(this.isPrimary=!1,this.ui.enqueueRetryable((()=>this.di(!1))))}))})).next((()=>this.Si(e))).next((n=>this.isPrimary&&!n?this.bi(e).next((()=>!1)):!!n&&this.Di(e).next((()=>!0)))))).catch((e=>{if(Sa(e))return ye("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return ye("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.ui.enqueueRetryable((()=>this.di(e))),this.isPrimary=e}))}wi(e){return Zd(e).get("owner").next((n=>J.resolve(this.vi(n))))}Ci(e){return om(e).delete(this.clientId)}async Fi(){if(this.isPrimary&&!this.Mi(this.Ei,18e5)){this.Ei=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(n=>{const r=An(n,"clientMetadata");return r.U().next((s=>{const i=this.xi(s,18e5),a=s.filter((l=>i.indexOf(l)===-1));return J.forEach(a,(l=>r.delete(l.clientId))).next((()=>a))}))})).catch((()=>[]));if(this.Vi)for(const n of e)this.Vi.removeItem(this.Oi(n.clientId))}}pi(){this.Ti=this.ui.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.mi().then((()=>this.Fi())).then((()=>this.pi()))))}vi(e){return!!e&&e.ownerId===this.clientId}Si(e){return this.li?J.resolve(!0):Zd(e).get("owner").next((n=>{if(n!==null&&this.Mi(n.leaseTimestampMs,5e3)&&!this.Ni(n.ownerId)){if(this.vi(n)&&this.networkEnabled)return!0;if(!this.vi(n)){if(!n.allowTabSynchronization)throw new Te(le.FAILED_PRECONDITION,zw);return!1}}return!(!this.networkEnabled||!this.inForeground)||om(e).U().next((r=>this.xi(r,5e3).find((s=>{if(this.clientId!==s.clientId){const i=!this.networkEnabled&&s.networkEnabled,a=!this.inForeground&&s.inForeground,l=this.networkEnabled===s.networkEnabled;if(i||a&&l)return!0}return!1}))===void 0))})).next((n=>(this.isPrimary!==n&&ye("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n)))}async shutdown(){this.Kr=!1,this.Li(),this.Ti&&(this.Ti.cancel(),this.Ti=null),this.Bi(),this.ki(),await this.Ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(e=>{const n=new ob(e,ms.oe);return this.bi(n).next((()=>this.Ci(n)))})),this.Ri.close(),this.qi()}xi(e,n){return e.filter((r=>this.Mi(r.updateTimeMs,n)&&!this.Ni(r.clientId)))}Qi(){return this.runTransaction("getActiveClients","readonly",(e=>om(e).U().next((n=>this.xi(n,18e5).map((r=>r.clientId))))))}get started(){return this.Kr}getGlobalsCache(){return this.$r}getMutationQueue(e,n){return dy.lt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new J8(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return uy.lt(this.serializer,e)}getBundleCache(){return this.Gr}runTransaction(e,n,r){ye("IndexedDbPersistence","Starting transaction:",e);const s=n==="readonly"?"readonly":"readwrite",i=(function(u){return u===17?Zq:u===16?Xq:u===15?ex:u===14?iO:u===13?sO:u===12?Yq:u===11?rO:void Le()})(this.hi);let a;return this.Ri.runTransaction(e,s,i,(l=>(a=new ob(l,this.Qr?this.Qr.next():ms.oe),n==="readwrite-primary"?this.wi(a).next((u=>!!u||this.Si(a))).next((u=>{if(!u)throw pr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ui.enqueueRetryable((()=>this.di(!1))),new Te(le.FAILED_PRECONDITION,JN);return r(a)})).next((u=>this.Di(a).next((()=>u)))):this.Ki(a).next((()=>r(a)))))).then((l=>(a.raiseOnCommittedEvent(),l)))}Ki(e){return Zd(e).get("owner").next((n=>{if(n!==null&&this.Mi(n.leaseTimestampMs,5e3)&&!this.Ni(n.ownerId)&&!this.vi(n)&&!(this.li||this.allowTabSynchronization&&n.allowTabSynchronization))throw new Te(le.FAILED_PRECONDITION,zw)}))}Di(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Zd(e).put("owner",n)}static D(){return ia.D()}bi(e){const n=Zd(e);return n.get("owner").next((r=>this.vi(r)?(ye("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):J.resolve()))}Mi(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(pr(`Detected an update time that is in the future: ${e} > ${r}`),!1))}fi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Ii=()=>{this.ui.enqueueAndForget((()=>(this.inForeground=this.document.visibilityState==="visible",this.mi())))},this.document.addEventListener("visibilitychange",this.Ii),this.inForeground=this.document.visibilityState==="visible")}Bi(){this.Ii&&(this.document.removeEventListener("visibilitychange",this.Ii),this.Ii=null)}gi(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.Pi=()=>{this.Li();const n=/(?:Version|Mobile)\/1[456]/;LN()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.ui.enterRestrictedMode(!0),this.ui.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Pi))}ki(){this.Pi&&(this.window.removeEventListener("pagehide",this.Pi),this.Pi=null)}Ni(e){var n;try{const r=((n=this.Vi)===null||n===void 0?void 0:n.getItem(this.Oi(e)))!==null;return ye("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return pr("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Li(){if(this.Vi)try{this.Vi.setItem(this.Oi(this.clientId),String(Date.now()))}catch(e){pr("Failed to set zombie client id.",e)}}qi(){if(this.Vi)try{this.Vi.removeItem(this.Oi(this.clientId))}catch{}}Oi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Zd(t){return An(t,"owner")}function om(t){return An(t,"clientMetadata")}function vK(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}class gx{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=s}static Wi(e,n){let r=dt(),s=dt();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new gx(e,n.fromCache,r,s)}}class wK{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class iV{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(function(){return LN()?8:tO(Hn())>0?6:4})()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.Yi(e,n).next((a=>{i.result=a})).next((()=>{if(!i.result)return this.Zi(e,n,s,r).next((a=>{i.result=a}))})).next((()=>{if(i.result)return;const a=new wK;return this.Xi(e,n,a).next((l=>{if(i.result=l,this.zi)return this.es(e,n,a,l.size)}))})).next((()=>i.result))}es(e,n,r,s){return r.documentReadCount<this.ji?(zc()<=mt.DEBUG&&ye("QueryEngine","SDK will not create cache indexes for query:",Wc(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),J.resolve()):(zc()<=mt.DEBUG&&ye("QueryEngine","Query:",Wc(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Hi*s?(zc()<=mt.DEBUG&&ye("QueryEngine","The SDK decides to create cache indexes for query:",Wc(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ys(n))):J.resolve())}Yi(e,n){if(uA(n))return J.resolve(null);let r=ys(n);return this.indexManager.getIndexType(e,r).next((s=>s===0?null:(n.limit!==null&&s===1&&(n=fb(n,null,"F"),r=ys(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((i=>{const a=dt(...i);return this.Ji.getDocuments(e,a).next((l=>this.indexManager.getMinOffset(e,r).next((u=>{const d=this.ts(n,l);return this.ns(n,d,a,u.readTime)?this.Yi(e,fb(n,null,"F")):this.rs(e,d,n,u)}))))})))))}Zi(e,n,r,s){return uA(n)||s.isEqual(He.min())?J.resolve(null):this.Ji.getDocuments(e,r).next((i=>{const a=this.ts(n,i);return this.ns(n,a,r,s)?J.resolve(null):(zc()<=mt.DEBUG&&ye("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Wc(n)),this.rs(e,a,n,Aq(s,-1)).next((l=>l)))}))}ts(e,n){let r=new Ot(_O(e));return n.forEach(((s,i)=>{hf(e,i)&&(r=r.add(i))})),r}ns(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Xi(e,n,r){return zc()<=mt.DEBUG&&ye("QueryEngine","Using full collection scan to execute query:",Wc(n)),this.Ji.getDocumentsMatchingQuery(e,n,Qr.min(),r)}rs(e,n,r,s){return this.Ji.getDocumentsMatchingQuery(e,r,s).next((i=>(n.forEach((a=>{i=i.insert(a.key,a)})),i)))}}class _K{constructor(e,n,r,s){this.persistence=e,this.ss=n,this.serializer=s,this.os=new Yt(at),this._s=new Ia((i=>Ol(i)),uf),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new rV(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.os)))}}function oV(t,e,n,r){return new _K(t,e,n,r)}async function aV(t,e){const n=rt(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next((i=>(s=i,n.ls(e),n.mutationQueue.getAllMutationBatches(r)))).next((i=>{const a=[],l=[];let u=dt();for(const d of s){a.push(d.batchId);for(const f of d.mutations)u=u.add(f.key)}for(const d of i){l.push(d.batchId);for(const f of d.mutations)u=u.add(f.key)}return n.localDocuments.getDocuments(r,u).next((d=>({hs:d,removedBatchIds:a,addedBatchIds:l})))}))}))}function bK(t,e){const n=rt(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const s=e.batch.keys(),i=n.cs.newChangeBuffer({trackRemovals:!0});return(function(l,u,d,f){const g=d.batch,y=g.keys();let x=J.resolve();return y.forEach((I=>{x=x.next((()=>f.getEntry(u,I))).next((E=>{const S=d.docVersions.get(I);Fe(S!==null),E.version.compareTo(S)<0&&(g.applyToRemoteDocument(E,d),E.isValidDocument()&&(E.setReadTime(d.commitVersion),f.addEntry(E)))}))})),x.next((()=>l.mutationQueue.removeMutationBatch(u,g)))})(n,r,e,i).next((()=>i.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(l){let u=dt();for(let d=0;d<l.mutationResults.length;++d)l.mutationResults[d].transformResults.length>0&&(u=u.add(l.batch.mutations[d].key));return u})(e)))).next((()=>n.localDocuments.getDocuments(r,s)))}))}function lV(t){const e=rt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Ur.getLastRemoteSnapshotVersion(n)))}function xK(t,e){const n=rt(t),r=e.snapshotVersion;let s=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(i=>{const a=n.cs.newChangeBuffer({trackRemovals:!0});s=n.os;const l=[];e.targetChanges.forEach(((f,g)=>{const y=s.get(g);if(!y)return;l.push(n.Ur.removeMatchingKeys(i,f.removedDocuments,g).next((()=>n.Ur.addMatchingKeys(i,f.addedDocuments,g))));let x=y.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(g)!==null?x=x.withResumeToken(vn.EMPTY_BYTE_STRING,He.min()).withLastLimboFreeSnapshotVersion(He.min()):f.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(f.resumeToken,r)),s=s.insert(g,x),(function(E,S,k){return E.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=3e8?!0:k.addedDocuments.size+k.modifiedDocuments.size+k.removedDocuments.size>0})(y,x,f)&&l.push(n.Ur.updateTargetData(i,x))}));let u=qr(),d=dt();if(e.documentUpdates.forEach((f=>{e.resolvedLimboDocuments.has(f)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(i,f))})),l.push(EK(i,a,e.documentUpdates).next((f=>{u=f.Ps,d=f.Is}))),!r.isEqual(He.min())){const f=n.Ur.getLastRemoteSnapshotVersion(i).next((g=>n.Ur.setTargetsMetadata(i,i.currentSequenceNumber,r)));l.push(f)}return J.waitFor(l).next((()=>a.apply(i))).next((()=>n.localDocuments.getLocalViewOfDocuments(i,u,d))).next((()=>u))})).then((i=>(n.os=s,i)))}function EK(t,e,n){let r=dt(),s=dt();return n.forEach((i=>r=r.add(i))),e.getEntries(t,r).next((i=>{let a=qr();return n.forEach(((l,u)=>{const d=i.get(l);u.isFoundDocument()!==d.isFoundDocument()&&(s=s.add(l)),u.isNoDocument()&&u.version.isEqual(He.min())?(e.removeEntry(l,u.readTime),a=a.insert(l,u)):!d.isValidDocument()||u.version.compareTo(d.version)>0||u.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(u),a=a.insert(l,u)):ye("LocalStore","Ignoring outdated watch update for ",l,". Current version:",d.version," Watch version:",u.version)})),{Ps:a,Is:s}}))}function TK(t,e){const n=rt(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function SK(t,e){const n=rt(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let s;return n.Ur.getTargetData(r,e).next((i=>i?(s=i,J.resolve(s)):n.Ur.allocateTargetId(r).next((a=>(s=new Hi(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,s).next((()=>s)))))))})).then((r=>{const s=n.os.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r}))}async function bb(t,e,n){const r=rt(t),s=r.os.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,(a=>r.persistence.referenceDelegate.removeTarget(a,s)))}catch(a){if(!Sa(a))throw a;ye("LocalStore",`Failed to update sequence numbers for target ${e}: ${a}`)}r.os=r.os.remove(e),r._s.delete(s.target)}function jA(t,e,n){const r=rt(t);let s=He.min(),i=dt();return r.persistence.runTransaction("Execute query","readwrite",(a=>(function(u,d,f){const g=rt(u),y=g._s.get(f);return y!==void 0?J.resolve(g.os.get(y)):g.Ur.getTargetData(d,f)})(r,a,ys(e)).next((l=>{if(l)return s=l.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(a,l.targetId).next((u=>{i=u}))})).next((()=>r.ss.getDocumentsMatchingQuery(a,e,n?s:He.min(),n?i:dt()))).next((l=>(IK(r,f8(e),l),{documents:l,Ts:i})))))}function IK(t,e,n){let r=t.us.get(e)||He.min();n.forEach(((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)})),t.us.set(e,r)}class FA{constructor(){this.activeTargetIds=w8()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class cV{constructor(){this.so=new FA,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new FA,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class CK{_o(e){}shutdown(){}}class BA{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){ye("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){ye("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let am=null;function Ww(){return am===null?am=(function(){return 268435456+Math.round(2147483648*Math.random())})():am++,"0x"+am.toString(16)}const AK={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class PK{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}const er="WebChannelConnection";class RK extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${s}/databases/${i}`,this.Co=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${i}`}get Fo(){return!1}Mo(n,r,s,i,a){const l=Ww(),u=this.xo(n,r.toUriEncodedString());ye("RestConnection",`Sending RPC '${n}' ${l}:`,u,s);const d={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(d,i,a),this.No(n,u,d,s).then((f=>(ye("RestConnection",`Received RPC '${n}' ${l}: `,f),f)),(f=>{throw Oh("RestConnection",`RPC '${n}' ${l} failed with error: `,f,"url: ",u,"request:",s),f}))}Lo(n,r,s,i,a,l){return this.Mo(n,r,s,i,a)}Oo(n,r,s){n["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Xu})(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach(((i,a)=>n[a]=i)),s&&s.headers.forEach(((i,a)=>n[a]=i))}xo(n,r){const s=AK[n];return`${this.Do}/v1/${r}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,s){const i=Ww();return new Promise(((a,l)=>{const u=new HN;u.setWithCredentials(!0),u.listenOnce(qN.COMPLETE,(()=>{try{switch(u.getLastErrorCode()){case Em.NO_ERROR:const f=u.getResponseJson();ye(er,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(f)),a(f);break;case Em.TIMEOUT:ye(er,`RPC '${e}' ${i} timed out`),l(new Te(le.DEADLINE_EXCEEDED,"Request time out"));break;case Em.HTTP_ERROR:const g=u.getStatus();if(ye(er,`RPC '${e}' ${i} failed with status:`,g,"response text:",u.getResponseText()),g>0){let y=u.getResponseJson();Array.isArray(y)&&(y=y[0]);const x=y?.error;if(x&&x.status&&x.message){const I=(function(S){const k=S.toLowerCase().replace(/_/g,"-");return Object.values(le).indexOf(k)>=0?k:le.UNKNOWN})(x.status);l(new Te(I,x.message))}else l(new Te(le.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new Te(le.UNAVAILABLE,"Connection failed."));break;default:Le()}}finally{ye(er,`RPC '${e}' ${i} completed.`)}}));const d=JSON.stringify(s);ye(er,`RPC '${e}' ${i} sending request:`,s),u.send(n,"POST",d,r,15)}))}Bo(e,n,r){const s=Ww(),i=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=QN(),l=GN(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(u.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const f=i.join("");ye(er,`Creating RPC '${e}' stream ${s}: ${f}`,u);const g=a.createWebChannel(f,u);let y=!1,x=!1;const I=new PK({Io:S=>{x?ye(er,`Not sending because RPC '${e}' stream ${s} is closed:`,S):(y||(ye(er,`Opening RPC '${e}' stream ${s} transport.`),g.open(),y=!0),ye(er,`RPC '${e}' stream ${s} sending:`,S),g.send(S))},To:()=>g.close()}),E=(S,k,A)=>{S.listen(k,(N=>{try{A(N)}catch(B){setTimeout((()=>{throw B}),0)}}))};return E(g,sh.EventType.OPEN,(()=>{x||(ye(er,`RPC '${e}' stream ${s} transport opened.`),I.yo())})),E(g,sh.EventType.CLOSE,(()=>{x||(x=!0,ye(er,`RPC '${e}' stream ${s} transport closed`),I.So())})),E(g,sh.EventType.ERROR,(S=>{x||(x=!0,Oh(er,`RPC '${e}' stream ${s} transport errored:`,S),I.So(new Te(le.UNAVAILABLE,"The operation could not be completed")))})),E(g,sh.EventType.MESSAGE,(S=>{var k;if(!x){const A=S.data[0];Fe(!!A);const N=A,B=N.error||((k=N[0])===null||k===void 0?void 0:k.error);if(B){ye(er,`RPC '${e}' stream ${s} received error:`,B);const j=B.status;let G=(function(D){const M=mn[D];if(M!==void 0)return NO(M)})(j),O=B.message;G===void 0&&(G=le.INTERNAL,O="Unknown error status: "+j+" with message "+B.message),x=!0,I.So(new Te(G,O)),g.close()}else ye(er,`RPC '${e}' stream ${s} received:`,A),I.bo(A)}})),E(l,KN.STAT_EVENT,(S=>{S.stat===sb.PROXY?ye(er,`RPC '${e}' stream ${s} detected buffering proxy`):S.stat===sb.NOPROXY&&ye(er,`RPC '${e}' stream ${s} detected no buffering proxy`)})),setTimeout((()=>{I.wo()}),0),I}}function kK(){return typeof window<"u"?window:null}function Rm(){return typeof document<"u"?document:null}function fy(t){return new N8(t,!0)}class yx{constructor(e,n,r=1e3,s=1.5,i=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=s,this.Qo=i,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),s=Math.max(0,n-r);s>0&&ye("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,s,(()=>(this.Uo=Date.now(),e()))),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}class uV{constructor(e,n,r,s,i,a,l,u){this.ui=e,this.Ho=r,this.Jo=s,this.connection=i,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=l,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new yx(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,(()=>this.__())))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===le.RESOURCE_EXHAUSTED?(pr(n.toString()),pr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===le.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,s])=>{this.Yo===n&&this.P_(r,s)}),(r=>{e((()=>{const s=new Te(le.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(s)}))}))}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo((()=>{r((()=>this.listener.Eo()))})),this.stream.Ro((()=>{r((()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,(()=>(this.r_()&&(this.state=3),Promise.resolve()))),this.listener.Ro())))})),this.stream.mo((s=>{r((()=>this.I_(s)))})),this.stream.onMessage((s=>{r((()=>++this.e_==1?this.E_(s):this.onNext(s)))}))}i_(){this.state=5,this.t_.Go((async()=>{this.state=0,this.start()}))}I_(e){return ye("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget((()=>this.Yo===e?n():(ye("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class DK extends uV{constructor(e,n,r,s,i,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,a),this.serializer=i}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=M8(this.serializer,e),r=(function(i){if(!("targetChange"in i))return He.min();const a=i.targetChange;return a.targetIds&&a.targetIds.length?He.min():a.readTime?Vn(a.readTime):He.min()})(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=gb(this.serializer),n.addTarget=(function(i,a){let l;const u=a.target;if(l=ig(u)?{documents:BO(i,u)}:{query:UO(i,u)._t},l.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){l.resumeToken=LO(i,a.resumeToken);const d=pb(i,a.expectedCount);d!==null&&(l.expectedCount=d)}else if(a.snapshotVersion.compareTo(He.min())>0){l.readTime=Cu(i,a.snapshotVersion.toTimestamp());const d=pb(i,a.expectedCount);d!==null&&(l.expectedCount=d)}return l})(this.serializer,e);const r=j8(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=gb(this.serializer),n.removeTarget=e,this.a_(n)}}class NK extends uV{constructor(e,n,r,s,i,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,a),this.serializer=i}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Fe(!!e.streamToken),this.lastStreamToken=e.streamToken,Fe(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Fe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=$8(e.writeResults,e.commitTime),r=Vn(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=gb(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>zh(this.serializer,r)))};this.a_(n)}}class OK extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.y_=!1}w_(){if(this.y_)throw new Te(le.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([i,a])=>this.connection.Mo(e,mb(n,r),s,i,a))).catch((i=>{throw i.name==="FirebaseError"?(i.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Te(le.UNKNOWN,i.toString())}))}Lo(e,n,r,s,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,l])=>this.connection.Lo(e,mb(n,r),s,a,l,i))).catch((a=>{throw a.name==="FirebaseError"?(a.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Te(le.UNKNOWN,a.toString())}))}terminate(){this.y_=!0,this.connection.terminate()}}class VK{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve()))))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(pr(n),this.D_=!1):ye("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}class LK{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=i,this.k_._o((a=>{r.enqueueAndForget((async()=>{Kl(this)&&(ye("RemoteStore","Restarting streams for network reachability change."),await(async function(u){const d=rt(u);d.L_.add(4),await pf(d),d.q_.set("Unknown"),d.L_.delete(4),await py(d)})(this))}))})),this.q_=new VK(r,s)}}async function py(t){if(Kl(t))for(const e of t.B_)await e(!0)}async function pf(t){for(const e of t.B_)await e(!1)}function dV(t,e){const n=rt(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),bx(n)?_x(n):ed(n).r_()&&wx(n,e))}function vx(t,e){const n=rt(t),r=ed(n);n.N_.delete(e),r.r_()&&hV(n,e),n.N_.size===0&&(r.r_()?r.o_():Kl(n)&&n.q_.set("Unknown"))}function wx(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(He.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ed(t).A_(e)}function hV(t,e){t.Q_.xe(e),ed(t).R_(e)}function _x(t){t.Q_=new P8({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),ed(t).start(),t.q_.v_()}function bx(t){return Kl(t)&&!ed(t).n_()&&t.N_.size>0}function Kl(t){return rt(t).L_.size===0}function fV(t){t.Q_=void 0}async function MK(t){t.q_.set("Online")}async function $K(t){t.N_.forEach(((e,n)=>{wx(t,e)}))}async function jK(t,e){fV(t),bx(t)?(t.q_.M_(e),_x(t)):t.q_.set("Unknown")}async function FK(t,e,n){if(t.q_.set("Online"),e instanceof VO&&e.state===2&&e.cause)try{await(async function(s,i){const a=i.cause;for(const l of i.targetIds)s.N_.has(l)&&(await s.remoteSyncer.rejectListen(l,a),s.N_.delete(l),s.Q_.removeTarget(l))})(t,e)}catch(r){ye("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await ug(t,r)}else if(e instanceof Pm?t.Q_.Ke(e):e instanceof OO?t.Q_.He(e):t.Q_.We(e),!n.isEqual(He.min()))try{const r=await lV(t.localStore);n.compareTo(r)>=0&&await(function(i,a){const l=i.Q_.rt(a);return l.targetChanges.forEach(((u,d)=>{if(u.resumeToken.approximateByteSize()>0){const f=i.N_.get(d);f&&i.N_.set(d,f.withResumeToken(u.resumeToken,a))}})),l.targetMismatches.forEach(((u,d)=>{const f=i.N_.get(u);if(!f)return;i.N_.set(u,f.withResumeToken(vn.EMPTY_BYTE_STRING,f.snapshotVersion)),hV(i,u);const g=new Hi(f.target,u,d,f.sequenceNumber);wx(i,g)})),i.remoteSyncer.applyRemoteEvent(l)})(t,n)}catch(r){ye("RemoteStore","Failed to raise snapshot:",r),await ug(t,r)}}async function ug(t,e,n){if(!Sa(e))throw e;t.L_.add(1),await pf(t),t.q_.set("Offline"),n||(n=()=>lV(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{ye("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await py(t)}))}function pV(t,e){return e().catch((n=>ug(t,n,e)))}async function mf(t){const e=rt(t),n=_a(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;BK(e);)try{const s=await TK(e.localStore,r);if(s===null){e.O_.length===0&&n.o_();break}r=s.batchId,UK(e,s)}catch(s){await ug(e,s)}mV(e)&&gV(e)}function BK(t){return Kl(t)&&t.O_.length<10}function UK(t,e){t.O_.push(e);const n=_a(t);n.r_()&&n.V_&&n.m_(e.mutations)}function mV(t){return Kl(t)&&!_a(t).n_()&&t.O_.length>0}function gV(t){_a(t).start()}async function zK(t){_a(t).p_()}async function WK(t){const e=_a(t);for(const n of t.O_)e.m_(n.mutations)}async function HK(t,e,n){const r=t.O_.shift(),s=lx.from(r,e,n);await pV(t,(()=>t.remoteSyncer.applySuccessfulWrite(s))),await mf(t)}async function qK(t,e){e&&_a(t).V_&&await(async function(r,s){if((function(a){return DO(a)&&a!==le.ABORTED})(s.code)){const i=r.O_.shift();_a(r).s_(),await pV(r,(()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s))),await mf(r)}})(t,e),mV(t)&&gV(t)}async function UA(t,e){const n=rt(t);n.asyncQueue.verifyOperationInProgress(),ye("RemoteStore","RemoteStore received new credentials");const r=Kl(n);n.L_.add(3),await pf(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await py(n)}async function KK(t,e){const n=rt(t);e?(n.L_.delete(2),await py(n)):e||(n.L_.add(2),await pf(n),n.q_.set("Unknown"))}function ed(t){return t.K_||(t.K_=(function(n,r,s){const i=rt(n);return i.w_(),new DK(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)})(t.datastore,t.asyncQueue,{Eo:MK.bind(null,t),Ro:$K.bind(null,t),mo:jK.bind(null,t),d_:FK.bind(null,t)}),t.B_.push((async e=>{e?(t.K_.s_(),bx(t)?_x(t):t.q_.set("Unknown")):(await t.K_.stop(),fV(t))}))),t.K_}function _a(t){return t.U_||(t.U_=(function(n,r,s){const i=rt(n);return i.w_(),new NK(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)})(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:zK.bind(null,t),mo:qK.bind(null,t),f_:WK.bind(null,t),g_:HK.bind(null,t)}),t.B_.push((async e=>{e?(t.U_.s_(),await mf(t)):(await t.U_.stop(),t.O_.length>0&&(ye("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))}))),t.U_}class xx{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Fs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((a=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const a=Date.now()+r,l=new xx(e,n,a,s,i);return l.start(r),l}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Te(le.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ex(t,e){if(pr("AsyncQueue",`${e}: ${t}`),Sa(t))return new Te(le.UNAVAILABLE,`${e}: ${t}`);throw t}class uu{constructor(e){this.comparator=e?(n,r)=>e(n,r)||Pe.comparator(n.key,r.key):(n,r)=>Pe.comparator(n.key,r.key),this.keyedMap=ih(),this.sortedSet=new Yt(this.comparator)}static emptySet(e){return new uu(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof uu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new uu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class zA{constructor(){this.W_=new Yt(Pe.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):Le():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Au{constructor(e,n,r,s,i,a,l,u,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=u,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,s,i){const a=[];return n.forEach((l=>{a.push({type:0,doc:l})})),new Au(e,n,uu.emptySet(n),a,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&oy(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}class GK{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some((e=>e.J_()))}}class QK{constructor(){this.queries=WA(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const s=rt(n),i=s.queries;s.queries=WA(),i.forEach(((a,l)=>{for(const u of l.j_)u.onError(r)}))})(this,new Te(le.ABORTED,"Firestore shutting down"))}}function WA(){return new Ia((t=>wO(t)),oy)}async function yV(t,e){const n=rt(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.H_()&&e.J_()&&(r=2):(i=new GK,r=e.J_()?0:1);try{switch(r){case 0:i.z_=await n.onListen(s,!0);break;case 1:i.z_=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(a){const l=Ex(a,`Initialization of query '${Wc(e.query)}' failed`);return void e.onError(l)}n.queries.set(s,i),i.j_.push(e),e.Z_(n.onlineState),i.z_&&e.X_(i.z_)&&Tx(n)}async function vV(t,e){const n=rt(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const a=i.j_.indexOf(e);a>=0&&(i.j_.splice(a,1),i.j_.length===0?s=e.J_()?0:1:!i.H_()&&e.J_()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function YK(t,e){const n=rt(t);let r=!1;for(const s of e){const i=s.query,a=n.queries.get(i);if(a){for(const l of a.j_)l.X_(s)&&(r=!0);a.z_=s}}r&&Tx(n)}function XK(t,e,n){const r=rt(t),s=r.queries.get(e);if(s)for(const i of s.j_)i.onError(n);r.queries.delete(e)}function Tx(t){t.Y_.forEach((e=>{e.next()}))}var xb,HA;(HA=xb||(xb={})).ea="default",HA.Cache="cache";class wV{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Au(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Au.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==xb.Cache}}class _V{constructor(e){this.key=e}}class bV{constructor(e){this.key=e}}class ZK{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=dt(),this.mutatedKeys=dt(),this.Aa=_O(e),this.Ra=new uu(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new zA,s=n?n.Ra:this.Ra;let i=n?n.mutatedKeys:this.mutatedKeys,a=s,l=!1;const u=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,d=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal(((f,g)=>{const y=s.get(f),x=hf(this.query,g)?g:null,I=!!y&&this.mutatedKeys.has(y.key),E=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let S=!1;y&&x?y.data.isEqual(x.data)?I!==E&&(r.track({type:3,doc:x}),S=!0):this.ga(y,x)||(r.track({type:2,doc:x}),S=!0,(u&&this.Aa(x,u)>0||d&&this.Aa(x,d)<0)&&(l=!0)):!y&&x?(r.track({type:0,doc:x}),S=!0):y&&!x&&(r.track({type:1,doc:y}),S=!0,(u||d)&&(l=!0)),S&&(x?(a=a.add(x),i=E?i.add(f):i.delete(f)):(a=a.delete(f),i=i.delete(f)))})),this.query.limit!==null)for(;a.size>this.query.limit;){const f=this.query.limitType==="F"?a.last():a.first();a=a.delete(f.key),i=i.delete(f.key),r.track({type:1,doc:f})}return{Ra:a,fa:r,ns:l,mutatedKeys:i}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const a=e.fa.G_();a.sort(((f,g)=>(function(x,I){const E=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Le()}};return E(x)-E(I)})(f.type,g.type)||this.Aa(f.doc,g.doc))),this.pa(r),s=s!=null&&s;const l=n&&!s?this.ya():[],u=this.da.size===0&&this.current&&!s?1:0,d=u!==this.Ea;return this.Ea=u,a.length!==0||d?{snapshot:new Au(this.query,e.Ra,i,a,e.mutatedKeys,u===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:l}:{wa:l}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new zA,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach((n=>this.Ta=this.Ta.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ta=this.Ta.delete(n))),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=dt(),this.Ra.forEach((r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))}));const n=[];return e.forEach((r=>{this.da.has(r)||n.push(new bV(r))})),this.da.forEach((r=>{e.has(r)||n.push(new _V(r))})),n}ba(e){this.Ta=e.Ts,this.da=dt();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Au.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class JK{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class eG{constructor(e){this.key=e,this.va=!1}}class tG{constructor(e,n,r,s,i,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=a,this.Ca={},this.Fa=new Ia((l=>wO(l)),oy),this.Ma=new Map,this.xa=new Set,this.Oa=new Yt(Pe.comparator),this.Na=new Map,this.La=new px,this.Ba={},this.ka=new Map,this.qa=Ml.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function nG(t,e,n=!0){const r=CV(t);let s;const i=r.Fa.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.Da()):s=await xV(r,e,n,!0),s}async function rG(t,e){const n=CV(t);await xV(n,e,!0,!1)}async function xV(t,e,n,r){const s=await SK(t.localStore,ys(e)),i=s.targetId,a=t.sharedClientState.addLocalQueryTarget(i,n);let l;return r&&(l=await sG(t,e,i,a==="current",s.resumeToken)),t.isPrimaryClient&&n&&dV(t.remoteStore,s),l}async function sG(t,e,n,r,s){t.Ka=(g,y,x)=>(async function(E,S,k,A){let N=S.view.ma(k);N.ns&&(N=await jA(E.localStore,S.query,!1).then((({documents:O})=>S.view.ma(O,N))));const B=A&&A.targetChanges.get(S.targetId),j=A&&A.targetMismatches.get(S.targetId)!=null,G=S.view.applyChanges(N,E.isPrimaryClient,B,j);return KA(E,S.targetId,G.wa),G.snapshot})(t,g,y,x);const i=await jA(t.localStore,e,!0),a=new ZK(e,i.Ts),l=a.ma(i.documents),u=ff.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),d=a.applyChanges(l,t.isPrimaryClient,u);KA(t,n,d.wa);const f=new JK(e,n,a);return t.Fa.set(e,f),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),d.snapshot}async function iG(t,e,n){const r=rt(t),s=r.Fa.get(e),i=r.Ma.get(s.targetId);if(i.length>1)return r.Ma.set(s.targetId,i.filter((a=>!oy(a,e)))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await bb(r.localStore,s.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(s.targetId),n&&vx(r.remoteStore,s.targetId),Eb(r,s.targetId)})).catch(Hl)):(Eb(r,s.targetId),await bb(r.localStore,s.targetId,!0))}async function oG(t,e){const n=rt(t),r=n.Fa.get(e),s=n.Ma.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),vx(n.remoteStore,r.targetId))}async function aG(t,e,n){const r=AV(t);try{const s=await(function(a,l){const u=rt(a),d=tn.now(),f=l.reduce(((x,I)=>x.add(I.key)),dt());let g,y;return u.persistence.runTransaction("Locally write mutations","readwrite",(x=>{let I=qr(),E=dt();return u.cs.getEntries(x,f).next((S=>{I=S,I.forEach(((k,A)=>{A.isValidDocument()||(E=E.add(k))}))})).next((()=>u.localDocuments.getOverlayedDocuments(x,I))).next((S=>{g=S;const k=[];for(const A of l){const N=S8(A,g.get(A.key).overlayedDocument);N!=null&&k.push(new oo(A.key,N,uO(N.value.mapValue),Qt.exists(!0)))}return u.mutationQueue.addMutationBatch(x,d,k,l)})).next((S=>{y=S;const k=S.applyToLocalDocumentSet(g,E);return u.documentOverlayCache.saveOverlays(x,S.batchId,k)}))})).then((()=>({batchId:y.batchId,changes:xO(g)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),(function(a,l,u){let d=a.Ba[a.currentUser.toKey()];d||(d=new Yt(at)),d=d.insert(l,u),a.Ba[a.currentUser.toKey()]=d})(r,s.batchId,n),await gf(r,s.changes),await mf(r.remoteStore)}catch(s){const i=Ex(s,"Failed to persist write");n.reject(i)}}async function EV(t,e){const n=rt(t);try{const r=await xK(n.localStore,e);e.targetChanges.forEach(((s,i)=>{const a=n.Na.get(i);a&&(Fe(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?a.va=!0:s.modifiedDocuments.size>0?Fe(a.va):s.removedDocuments.size>0&&(Fe(a.va),a.va=!1))})),await gf(n,r,e)}catch(r){await Hl(r)}}function qA(t,e,n){const r=rt(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Fa.forEach(((i,a)=>{const l=a.view.Z_(e);l.snapshot&&s.push(l.snapshot)})),(function(a,l){const u=rt(a);u.onlineState=l;let d=!1;u.queries.forEach(((f,g)=>{for(const y of g.j_)y.Z_(l)&&(d=!0)})),d&&Tx(u)})(r.eventManager,e),s.length&&r.Ca.d_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function lG(t,e,n){const r=rt(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Na.get(e),i=s&&s.key;if(i){let a=new Yt(Pe.comparator);a=a.insert(i,Gt.newNoDocument(i,He.min()));const l=dt().add(i),u=new cy(He.min(),new Map,new Yt(at),a,l);await EV(r,u),r.Oa=r.Oa.remove(i),r.Na.delete(e),Sx(r)}else await bb(r.localStore,e,!1).then((()=>Eb(r,e,n))).catch(Hl)}async function cG(t,e){const n=rt(t),r=e.batch.batchId;try{const s=await bK(n.localStore,e);SV(n,r,null),TV(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await gf(n,s)}catch(s){await Hl(s)}}async function uG(t,e,n){const r=rt(t);try{const s=await(function(a,l){const u=rt(a);return u.persistence.runTransaction("Reject batch","readwrite-primary",(d=>{let f;return u.mutationQueue.lookupMutationBatch(d,l).next((g=>(Fe(g!==null),f=g.keys(),u.mutationQueue.removeMutationBatch(d,g)))).next((()=>u.mutationQueue.performConsistencyCheck(d))).next((()=>u.documentOverlayCache.removeOverlaysForBatchId(d,f,l))).next((()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,f))).next((()=>u.localDocuments.getDocuments(d,f)))}))})(r.localStore,e);SV(r,e,n),TV(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await gf(r,s)}catch(s){await Hl(s)}}function TV(t,e){(t.ka.get(e)||[]).forEach((n=>{n.resolve()})),t.ka.delete(e)}function SV(t,e,n){const r=rt(t);let s=r.Ba[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Ba[r.currentUser.toKey()]=s}}function Eb(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach((r=>{t.La.containsKey(r)||IV(t,r)}))}function IV(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(vx(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),Sx(t))}function KA(t,e,n){for(const r of n)r instanceof _V?(t.La.addReference(r.key,e),dG(t,r)):r instanceof bV?(ye("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||IV(t,r.key)):Le()}function dG(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(ye("SyncEngine","New document in limbo: "+n),t.xa.add(r),Sx(t))}function Sx(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new Pe(Ct.fromString(e)),r=t.qa.next();t.Na.set(r,new eG(n)),t.Oa=t.Oa.insert(n,r),dV(t.remoteStore,new Hi(ys(iy(n.path)),r,"TargetPurposeLimboResolution",ms.oe))}}async function gf(t,e,n){const r=rt(t),s=[],i=[],a=[];r.Fa.isEmpty()||(r.Fa.forEach(((l,u)=>{a.push(r.Ka(u,e,n).then((d=>{var f;if((d||n)&&r.isPrimaryClient){const g=d?!d.fromCache:(f=n?.targetChanges.get(u.targetId))===null||f===void 0?void 0:f.current;r.sharedClientState.updateQueryState(u.targetId,g?"current":"not-current")}if(d){s.push(d);const g=gx.Wi(u.targetId,d);i.push(g)}})))})),await Promise.all(a),r.Ca.d_(s),await(async function(u,d){const f=rt(u);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",(g=>J.forEach(d,(y=>J.forEach(y.$i,(x=>f.persistence.referenceDelegate.addReference(g,y.targetId,x))).next((()=>J.forEach(y.Ui,(x=>f.persistence.referenceDelegate.removeReference(g,y.targetId,x)))))))))}catch(g){if(!Sa(g))throw g;ye("LocalStore","Failed to update sequence numbers: "+g)}for(const g of d){const y=g.targetId;if(!g.fromCache){const x=f.os.get(y),I=x.snapshotVersion,E=x.withLastLimboFreeSnapshotVersion(I);f.os=f.os.insert(y,E)}}})(r.localStore,i))}async function hG(t,e){const n=rt(t);if(!n.currentUser.isEqual(e)){ye("SyncEngine","User change. New user:",e.toKey());const r=await aV(n.localStore,e);n.currentUser=e,(function(i,a){i.ka.forEach((l=>{l.forEach((u=>{u.reject(new Te(le.CANCELLED,a))}))})),i.ka.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await gf(n,r.hs)}}function fG(t,e){const n=rt(t),r=n.Na.get(e);if(r&&r.va)return dt().add(r.key);{let s=dt();const i=n.Ma.get(e);if(!i)return s;for(const a of i){const l=n.Fa.get(a);s=s.unionWith(l.view.Va)}return s}}function CV(t){const e=rt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=EV.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=fG.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=lG.bind(null,e),e.Ca.d_=YK.bind(null,e.eventManager),e.Ca.$a=XK.bind(null,e.eventManager),e}function AV(t){const e=rt(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=cG.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=uG.bind(null,e),e}class Pu{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=fy(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return oV(this.persistence,new iV,e.initialUser,this.serializer)}Ga(e){return new sV(hy.Zr,this.serializer)}Wa(e){return new cV}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Pu.provider={build:()=>new Pu};class pG extends Pu{constructor(e,n,r){super(),this.Ja=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Ja.initialize(this,e),await AV(this.Ja.syncEngine),await mf(this.Ja.remoteStore),await this.persistence.yi((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}za(e){return oV(this.persistence,new iV,e.initialUser,this.serializer)}ja(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new nK(r,e.asyncQueue,n)}Ha(e,n){const r=new Dq(n,this.persistence);return new kq(e.asyncQueue,r)}Ga(e){const n=vK(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?Dr.withCacheSize(this.cacheSizeBytes):Dr.DEFAULT;return new mx(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,kK(),Rm(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Wa(e){return new cV}}class Wh{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>qA(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=hG.bind(null,this.syncEngine),await KK(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new QK})()}createDatastore(e){const n=fy(e.databaseInfo.databaseId),r=(function(i){return new RK(i)})(e.databaseInfo);return(function(i,a,l,u){return new OK(i,a,l,u)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,s,i,a,l){return new LK(r,s,i,a,l)})(this.localStore,this.datastore,e.asyncQueue,(n=>qA(this.syncEngine,n,0)),(function(){return BA.D()?new BA:new CK})())}createSyncEngine(e,n){return(function(s,i,a,l,u,d,f){const g=new tG(s,i,a,l,u,d);return f&&(g.Qa=!0),g})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(s){const i=rt(s);ye("RemoteStore","RemoteStore shutting down."),i.L_.add(5),await pf(i),i.k_.shutdown(),i.q_.set("Unknown")})(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Wh.provider={build:()=>new Wh};class PV{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):pr("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}class mG{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new Te(le.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await(async function(s,i){const a=rt(s),l={documents:i.map((g=>Uh(a.serializer,g)))},u=await a.Lo("BatchGetDocuments",a.serializer.databaseId,Ct.emptyPath(),l,i.length),d=new Map;u.forEach((g=>{const y=L8(a.serializer,g);d.set(y.key.toString(),y)}));const f=[];return i.forEach((g=>{const y=d.get(g.toString());Fe(!!y),f.push(y)})),f})(this.datastore,e);return n.forEach((r=>this.recordVersion(r))),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Ju(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((n=>{e.delete(n.key.toString())})),e.forEach(((n,r)=>{const s=Pe.fromPath(r);this.mutations.push(new ox(s,this.precondition(s)))})),await(async function(r,s){const i=rt(r),a={writes:s.map((l=>zh(i.serializer,l)))};await i.Mo("Commit",i.serializer.databaseId,Ct.emptyPath(),a)})(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw Le();n=He.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new Te(le.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(He.min())?Qt.exists(!1):Qt.updateTime(n):Qt.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(He.min()))throw new Te(le.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Qt.updateTime(n)}return Qt.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class gG{constructor(e,n,r,s,i){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=s,this.deferred=i,this._u=r.maxAttempts,this.t_=new yx(this.asyncQueue,"transaction_retry")}au(){this._u-=1,this.uu()}uu(){this.t_.Go((async()=>{const e=new mG(this.datastore),n=this.cu(e);n&&n.then((r=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(r)})).catch((s=>{this.lu(s)}))))})).catch((r=>{this.lu(r)}))}))}cu(e){try{const n=this.updateFunction(e);return!cf(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}lu(e){this._u>0&&this.hu(e)?(this._u-=1,this.asyncQueue.enqueueAndForget((()=>(this.uu(),Promise.resolve())))):this.deferred.reject(e)}hu(e){if(e.name==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!DO(n)}return!1}}class yG{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=hr.UNAUTHENTICATED,this.clientId=YN.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,(async a=>{ye("FirestoreClient","Received user=",a.uid),await this.authCredentialListener(a),this.user=a})),this.appCheckCredentials.start(r,(a=>(ye("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Fs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Ex(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Hw(t,e){t.asyncQueue.verifyOperationInProgress(),ye("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async s=>{r.isEqual(s)||(await aV(e.localStore,s),r=s)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function GA(t,e){t.asyncQueue.verifyOperationInProgress();const n=await vG(t);ye("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>UA(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,s)=>UA(e.remoteStore,s))),t._onlineComponents=e}async function vG(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ye("FirestoreClient","Using user provided OfflineComponentProvider");try{await Hw(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(s){return s.name==="FirebaseError"?s.code===le.FAILED_PRECONDITION||s.code===le.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11})(n))throw n;Oh("Error using user provided cache. Falling back to memory cache: "+n),await Hw(t,new Pu)}}else ye("FirestoreClient","Using default OfflineComponentProvider"),await Hw(t,new Pu);return t._offlineComponents}async function Ix(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ye("FirestoreClient","Using user provided OnlineComponentProvider"),await GA(t,t._uninitializedComponentsProvider._online)):(ye("FirestoreClient","Using default OnlineComponentProvider"),await GA(t,new Wh))),t._onlineComponents}function wG(t){return Ix(t).then((e=>e.syncEngine))}function _G(t){return Ix(t).then((e=>e.datastore))}async function RV(t){const e=await Ix(t),n=e.eventManager;return n.onListen=nG.bind(null,e.syncEngine),n.onUnlisten=iG.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=rG.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=oG.bind(null,e.syncEngine),n}function bG(t,e,n={}){const r=new Fs;return t.asyncQueue.enqueueAndForget((async()=>(function(i,a,l,u,d){const f=new PV({next:y=>{f.Za(),a.enqueueAndForget((()=>vV(i,g)));const x=y.docs.has(l);!x&&y.fromCache?d.reject(new Te(le.UNAVAILABLE,"Failed to get document because the client is offline.")):x&&y.fromCache&&u&&u.source==="server"?d.reject(new Te(le.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(y)},error:y=>d.reject(y)}),g=new wV(iy(l.path),f,{includeMetadataChanges:!0,_a:!0});return yV(i,g)})(await RV(t),t.asyncQueue,e,n,r))),r.promise}function xG(t,e,n={}){const r=new Fs;return t.asyncQueue.enqueueAndForget((async()=>(function(i,a,l,u,d){const f=new PV({next:y=>{f.Za(),a.enqueueAndForget((()=>vV(i,g))),y.fromCache&&u.source==="server"?d.reject(new Te(le.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(y)},error:y=>d.reject(y)}),g=new wV(l,f,{includeMetadataChanges:!0,_a:!0});return yV(i,g)})(await RV(t),t.asyncQueue,e,n,r))),r.promise}function kV(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const QA=new Map;function DV(t,e,n){if(!n)throw new Te(le.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function EG(t,e,n,r){if(e===!0&&r===!0)throw new Te(le.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function YA(t){if(!Pe.isDocumentKey(t))throw new Te(le.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function XA(t){if(Pe.isDocumentKey(t))throw new Te(le.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function my(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Le()}function vs(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Te(le.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=my(t);throw new Te(le.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}class ZA{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Te(le.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Te(le.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}EG("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=kV((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new Te(le.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Te(le.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Te(le.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,s){return r.timeoutSeconds===s.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Cx{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ZA({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Te(le.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Te(le.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ZA(e),e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new _q;switch(r.type){case"firstParty":return new Eq(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Te(le.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=QA.get(n);r&&(ye("ComponentProvider","Removing Datastore"),QA.delete(n),r.terminate())})(this),Promise.resolve()}}class td{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new td(this.firestore,e,this._query)}}class rr{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new oa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new rr(this.firestore,e,this._key)}}class oa extends td{constructor(e,n,r){super(e,n,iy(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new rr(this.firestore,null,new Pe(e))}withConverter(e){return new oa(this.firestore,e,this._path)}}function yf(t,e,...n){if(t=Cn(t),DV("collection","path",e),t instanceof Cx){const r=Ct.fromString(e,...n);return XA(r),new oa(t,null,r)}{if(!(t instanceof rr||t instanceof oa))throw new Te(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ct.fromString(e,...n));return XA(r),new oa(t.firestore,null,r)}}function sr(t,e,...n){if(t=Cn(t),arguments.length===1&&(e=YN.newId()),DV("doc","path",e),t instanceof Cx){const r=Ct.fromString(e,...n);return YA(r),new rr(t,null,new Pe(r))}{if(!(t instanceof rr||t instanceof oa))throw new Te(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ct.fromString(e,...n));return YA(r),new rr(t.firestore,t instanceof oa?t.converter:null,new Pe(r))}}class JA{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new yx(this,"async_queue_retry"),this.Vu=()=>{const r=Rm();r&&ye("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=Rm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=Rm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise((()=>{}));const n=new Fs;return this.gu((()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Pu.push(e),this.pu())))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Sa(e))throw e;ye("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go((()=>this.pu()))}}gu(e){const n=this.mu.then((()=>(this.du=!0,e().catch((r=>{this.Eu=r,this.du=!1;const s=(function(a){let l=a.message||"";return a.stack&&(l=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),l})(r);throw pr("INTERNAL UNHANDLED ERROR: ",s),r})).then((r=>(this.du=!1,r))))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const s=xx.createAndSchedule(this,e,n,r,(i=>this.yu(i)));return this.Tu.push(s),s}fu(){this.Eu&&Le()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then((()=>{this.Tu.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()}))}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}class ao extends Cx{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new JA,this._persistenceKey=s?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new JA(e),this._firestoreClient=void 0,await e}}}function TG(t,e,n){n||(n="(default)");const r=BN(t,"firestore");if(r.isInitialized(n)){const s=r.getImmediate({identifier:n}),i=r.getOptions(n);if(Dh(i,e))return s;throw new Te(le.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(e.cacheSizeBytes!==void 0&&e.localCache!==void 0)throw new Te(le.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(e.cacheSizeBytes!==void 0&&e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Te(le.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return r.initialize({options:e,instanceIdentifier:n})}function vf(t){if(t._terminated)throw new Te(le.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||SG(t),t._firestoreClient}function SG(t){var e,n,r;const s=t._freezeSettings(),i=(function(l,u,d,f){return new e8(l,u,d,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,kV(f.experimentalLongPollingOptions),f.useFetchStreams)})(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new yG(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&(function(l){const u=l?._online.build();return{_offline:l?._offline.build(u),_online:u}})(t._componentsProvider))}class $l{constructor(e){this._byteString=e}static fromBase64String(e){try{return new $l(vn.fromBase64String(e))}catch(n){throw new Te(le.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new $l(vn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class nd{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Te(le.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Jt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class wf{constructor(e){this._methodName=e}}class Ax{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Te(le.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Te(le.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return at(this._lat,e._lat)||at(this._long,e._long)}}class Px{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0})(this._values,e._values)}}const IG=/^__.*__$/;class CG{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new oo(e,this.data,this.fieldMask,n,this.fieldTransforms):new Zu(e,this.data,n,this.fieldTransforms)}}class NV{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new oo(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function OV(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Le()}}class Rx{constructor(e,n,r,s,i,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.vu(),this.fieldTransforms=i||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new Rx(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Fu({path:r,xu:!1});return s.Ou(e),s}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Fu({path:r,xu:!1});return s.vu(),s}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return dg(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(OV(this.Cu)&&IG.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class AG{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||fy(e)}Qu(e,n,r,s=!1){return new Rx({Cu:e,methodName:n,qu:r,path:Jt.emptyPath(),xu:!1,ku:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function rd(t){const e=t._freezeSettings(),n=fy(t._databaseId);return new AG(t._databaseId,!!e.ignoreUndefinedProperties,n)}function gy(t,e,n,r,s,i={}){const a=t.Qu(i.merge||i.mergeFields?2:0,e,n,s);Vx("Data must be an object, but it was:",a,r);const l=VV(r,a);let u,d;if(i.merge)u=new Nr(a.fieldMask),d=a.fieldTransforms;else if(i.mergeFields){const f=[];for(const g of i.mergeFields){const y=Tb(e,g,n);if(!a.contains(y))throw new Te(le.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);MV(f,y)||f.push(y)}u=new Nr(f),d=a.fieldTransforms.filter((g=>u.covers(g.field)))}else u=null,d=a.fieldTransforms;return new CG(new zn(l),u,d)}class yy extends wf{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof yy}}class kx extends wf{_toFieldTransform(e){return new ix(e.path,new Eu)}isEqual(e){return e instanceof kx}}class Dx extends wf{constructor(e,n){super(e),this.$u=n}_toFieldTransform(e){const n=new Iu(e.serializer,SO(e.serializer,this.$u));return new ix(e.path,n)}isEqual(e){return e instanceof Dx&&this.$u===e.$u}}function Nx(t,e,n,r){const s=t.Qu(1,e,n);Vx("Data must be an object, but it was:",s,r);const i=[],a=zn.empty();ql(r,((u,d)=>{const f=Lx(e,u,n);d=Cn(d);const g=s.Nu(f);if(d instanceof yy)i.push(f);else{const y=_f(d,g);y!=null&&(i.push(f),a.set(f,y))}}));const l=new Nr(i);return new NV(a,l,s.fieldTransforms)}function Ox(t,e,n,r,s,i){const a=t.Qu(1,e,n),l=[Tb(e,r,n)],u=[s];if(i.length%2!=0)throw new Te(le.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let y=0;y<i.length;y+=2)l.push(Tb(e,i[y])),u.push(i[y+1]);const d=[],f=zn.empty();for(let y=l.length-1;y>=0;--y)if(!MV(d,l[y])){const x=l[y];let I=u[y];I=Cn(I);const E=a.Nu(x);if(I instanceof yy)d.push(x);else{const S=_f(I,E);S!=null&&(d.push(x),f.set(x,S))}}const g=new Nr(d);return new NV(f,g,a.fieldTransforms)}function PG(t,e,n,r=!1){return _f(n,t.Qu(r?4:3,e))}function _f(t,e){if(LV(t=Cn(t)))return Vx("Unsupported field value:",e,t),VV(t,e);if(t instanceof wf)return(function(r,s){if(!OV(s.Cu))throw s.Bu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Bu(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return(function(r,s){const i=[];let a=0;for(const l of r){let u=_f(l,s.Lu(a));u==null&&(u={nullValue:"NULL_VALUE"}),i.push(u),a++}return{arrayValue:{values:i}}})(t,e)}return(function(r,s){if((r=Cn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return SO(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=tn.fromDate(r);return{timestampValue:Cu(s.serializer,i)}}if(r instanceof tn){const i=new tn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Cu(s.serializer,i)}}if(r instanceof Ax)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof $l)return{bytesValue:LO(s.serializer,r._byteString)};if(r instanceof rr){const i=s.databaseId,a=r.firestore._databaseId;if(!a.isEqual(i))throw s.Bu(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:dx(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Px)return(function(a,l){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:a.toArray().map((u=>{if(typeof u!="number")throw l.Bu("VectorValues must only contain numeric values.");return sx(l.serializer,u)}))}}}}}})(r,s);throw s.Bu(`Unsupported field value: ${my(r)}`)})(t,e)}function VV(t,e){const n={};return oO(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ql(t,((r,s)=>{const i=_f(s,e.Mu(r));i!=null&&(n[r]=i)})),{mapValue:{fields:n}}}function LV(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof tn||t instanceof Ax||t instanceof $l||t instanceof rr||t instanceof wf||t instanceof Px)}function Vx(t,e,n){if(!LV(n)||!(function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)})(n)){const r=my(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function Tb(t,e,n){if((e=Cn(e))instanceof nd)return e._internalPath;if(typeof e=="string")return Lx(t,e);throw dg("Field path arguments must be of type string or ",t,!1,void 0,n)}const RG=new RegExp("[~\\*/\\[\\]]");function Lx(t,e,n){if(e.search(RG)>=0)throw dg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new nd(...e.split("."))._internalPath}catch{throw dg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function dg(t,e,n,r,s){const i=r&&!r.isEmpty(),a=s!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let u="";return(i||a)&&(u+=" (found",i&&(u+=` in field ${r}`),a&&(u+=` in document ${s}`),u+=")"),new Te(le.INVALID_ARGUMENT,l+t+u)}function MV(t,e){return t.some((n=>n.isEqual(e)))}class hg{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new rr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new kG(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Mx("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class kG extends hg{data(){return super.data()}}function Mx(t,e){return typeof e=="string"?Lx(t,e):e instanceof nd?e._internalPath:e._delegate._internalPath}function DG(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Te(le.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class $x{}class NG extends $x{}function OG(t,e,...n){let r=[];e instanceof $x&&r.push(e),r=r.concat(n),(function(i){const a=i.filter((u=>u instanceof jx)).length,l=i.filter((u=>u instanceof vy)).length;if(a>1||a>0&&l>0)throw new Te(le.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const s of r)t=s._apply(t);return t}class vy extends NG{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new vy(e,n,r)}_apply(e){const n=this._parse(e);return $V(e._query,n),new td(e.firestore,e.converter,hb(e._query,n))}_parse(e){const n=rd(e.firestore);return(function(i,a,l,u,d,f,g){let y;if(d.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new Te(le.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){nP(g,f);const x=[];for(const I of g)x.push(tP(u,i,I));y={arrayValue:{values:x}}}else y=tP(u,i,g)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||nP(g,f),y=PG(l,a,g,f==="in"||f==="not-in");return gt.create(d,f,y)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function eP(t,e,n){const r=e,s=Mx("where",t);return vy._create(s,r,n)}class jx extends $x{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new jx(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:Nt.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(s,i){let a=s;const l=i.getFlattenedFilters();for(const u of l)$V(a,u),a=hb(a,u)})(e._query,n),new td(e.firestore,e.converter,hb(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function tP(t,e,n){if(typeof(n=Cn(n))=="string"){if(n==="")throw new Te(le.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!vO(e)&&n.indexOf("/")!==-1)throw new Te(le.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ct.fromString(n));if(!Pe.isDocumentKey(r))throw new Te(le.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Fh(t,new Pe(r))}if(n instanceof rr)return Fh(t,n._key);throw new Te(le.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${my(n)}.`)}function nP(t,e){if(!Array.isArray(t)||t.length===0)throw new Te(le.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function $V(t,e){const n=(function(s,i){for(const a of s)for(const l of a.getFlattenedFilters())if(i.indexOf(l.op)>=0)return l.op;return null})(t.filters,(function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new Te(le.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Te(le.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class jV{convertValue(e,n="none"){switch(Nl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Kt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(va(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Le()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ql(e,((s,i)=>{r[s]=this.convertValue(i,n)})),r}convertVectorValue(e){var n,r,s;const i=(s=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map((a=>Kt(a.doubleValue)));return new Px(i)}convertGeoPoint(e){return new Ax(Kt(e.latitude),Kt(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=nx(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp($h(e));default:return null}}convertTimestamp(e){const n=eo(e);return new tn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ct.fromString(e);Fe(qO(r));const s=new Dl(r.get(1),r.get(3)),i=new Pe(r.popFirst(5));return s.isEqual(n)||pr(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}function wy(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class VG extends jV{constructor(e){super(),this.firestore=e}convertBytes(e){return new $l(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new rr(this.firestore,null,n)}}class Xc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Fx extends hg{constructor(e,n,r,s,i,a){super(e,n,r,s,a),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new km(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Mx("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class km extends Fx{data(e={}){return super.data(e)}}class LG{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Xc(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new km(this._firestore,this._userDataWriter,r.key,r,new Xc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Te(le.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(s,i){if(s._snapshot.oldDocs.isEmpty()){let a=0;return s._snapshot.docChanges.map((l=>{const u=new km(s._firestore,s._userDataWriter,l.doc.key,l.doc,new Xc(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);return l.doc,{type:"added",doc:u,oldIndex:-1,newIndex:a++}}))}{let a=s._snapshot.oldDocs;return s._snapshot.docChanges.filter((l=>i||l.type!==3)).map((l=>{const u=new km(s._firestore,s._userDataWriter,l.doc.key,l.doc,new Xc(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);let d=-1,f=-1;return l.type!==0&&(d=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(a=a.add(l.doc),f=a.indexOf(l.doc.key)),{type:MG(l.type),doc:u,oldIndex:d,newIndex:f}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function MG(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Le()}}function bf(t){t=vs(t,rr);const e=vs(t.firestore,ao);return bG(vf(e),t._key).then((n=>FG(e,t,n)))}class Bx extends jV{constructor(e){super(),this.firestore=e}convertBytes(e){return new $l(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new rr(this.firestore,null,n)}}function Ca(t){t=vs(t,td);const e=vs(t.firestore,ao),n=vf(e),r=new Bx(e);return DG(t._query),xG(n,t._query).then((s=>new LG(e,r,t,s)))}function jl(t,e,n){t=vs(t,rr);const r=vs(t.firestore,ao),s=wy(t.converter,e,n);return xf(r,[gy(rd(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,Qt.none())])}function $G(t,e,n,...r){t=vs(t,rr);const s=vs(t.firestore,ao),i=rd(s);let a;return a=typeof(e=Cn(e))=="string"||e instanceof nd?Ox(i,"updateDoc",t._key,e,n,r):Nx(i,"updateDoc",t._key,e),xf(s,[a.toMutation(t._key,Qt.exists(!0))])}function FV(t){return xf(vs(t.firestore,ao),[new Ju(t._key,Qt.none())])}function jG(t,e){const n=vs(t.firestore,ao),r=sr(t),s=wy(t.converter,e);return xf(n,[gy(rd(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,Qt.exists(!1))]).then((()=>r))}function xf(t,e){return(function(r,s){const i=new Fs;return r.asyncQueue.enqueueAndForget((async()=>aG(await wG(r),s,i))),i.promise})(vf(t),e)}function FG(t,e,n){const r=n.docs.get(e._key),s=new Bx(t);return new Fx(t,s,e._key,r,new Xc(n.hasPendingWrites,n.fromCache),e.converter)}class BG{constructor(e){this.kind="memory",this._onlineComponentProvider=Wh.provider,e?.garbageCollector?this._offlineComponentProvider=e.garbageCollector._offlineComponentProvider:this._offlineComponentProvider=Pu.provider}toJSON(){return{kind:this.kind}}}class UG{constructor(e){let n;this.kind="persistent",e?.tabManager?(e.tabManager._initialize(e),n=e.tabManager):(n=qG(),n._initialize(e)),this._onlineComponentProvider=n._onlineComponentProvider,this._offlineComponentProvider=n._offlineComponentProvider}toJSON(){return{kind:this.kind}}}function zG(t){return new BG(t)}function WG(t){return new UG(t)}class HG{constructor(e){this.forceOwnership=e,this.kind="persistentSingleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=Wh.provider,this._offlineComponentProvider={build:n=>new pG(n,e?.cacheSizeBytes,this.forceOwnership)}}}function qG(t){return new HG(void 0)}const KG={maxAttempts:5};class GG{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=rd(e)}set(e,n,r){this._verifyNotCommitted();const s=Ko(e,this._firestore),i=wy(s.converter,n,r),a=gy(this._dataReader,"WriteBatch.set",s._key,i,s.converter!==null,r);return this._mutations.push(a.toMutation(s._key,Qt.none())),this}update(e,n,r,...s){this._verifyNotCommitted();const i=Ko(e,this._firestore);let a;return a=typeof(n=Cn(n))=="string"||n instanceof nd?Ox(this._dataReader,"WriteBatch.update",i._key,n,r,s):Nx(this._dataReader,"WriteBatch.update",i._key,n),this._mutations.push(a.toMutation(i._key,Qt.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Ko(e,this._firestore);return this._mutations=this._mutations.concat(new Ju(n._key,Qt.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Te(le.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Ko(t,e){if((t=Cn(t)).firestore!==e)throw new Te(le.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}class QG extends class{constructor(n,r){this._firestore=n,this._transaction=r,this._dataReader=rd(n)}get(n){const r=Ko(n,this._firestore),s=new VG(this._firestore);return this._transaction.lookup([r._key]).then((i=>{if(!i||i.length!==1)return Le();const a=i[0];if(a.isFoundDocument())return new hg(this._firestore,s,a.key,a,r.converter);if(a.isNoDocument())return new hg(this._firestore,s,r._key,null,r.converter);throw Le()}))}set(n,r,s){const i=Ko(n,this._firestore),a=wy(i.converter,r,s),l=gy(this._dataReader,"Transaction.set",i._key,a,i.converter!==null,s);return this._transaction.set(i._key,l),this}update(n,r,s,...i){const a=Ko(n,this._firestore);let l;return l=typeof(r=Cn(r))=="string"||r instanceof nd?Ox(this._dataReader,"Transaction.update",a._key,r,s,i):Nx(this._dataReader,"Transaction.update",a._key,r),this._transaction.update(a._key,l),this}delete(n){const r=Ko(n,this._firestore);return this._transaction.delete(r._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=Ko(e,this._firestore),r=new Bx(this._firestore);return super.get(e).then((s=>new Fx(this._firestore,r,n._key,s._document,new Xc(!1,!1),n.converter)))}}function BV(t,e,n){t=vs(t,ao);const r=Object.assign(Object.assign({},KG),n);return(function(i){if(i.maxAttempts<1)throw new Te(le.INVALID_ARGUMENT,"Max attempts must be at least 1")})(r),(function(i,a,l){const u=new Fs;return i.asyncQueue.enqueueAndForget((async()=>{const d=await _G(i);new gG(i.asyncQueue,d,l,a,u).au()})),u.promise})(vf(t),(s=>e(new QG(t,s))),r)}function Ru(){return new kx("serverTimestamp")}function Bs(t){return new Dx("increment",t)}function Ef(t){return vf(t=vs(t,ao)),new GG(t,(e=>xf(t,e)))}(function(e,n=!0){(function(s){Xu=s})(ny),vu(new Rl("firestore",((r,{instanceIdentifier:s,options:i})=>{const a=r.getProvider("app").getImmediate(),l=new ao(new bq(r.getProvider("auth-internal")),new Sq(r.getProvider("app-check-internal")),(function(d,f){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new Te(le.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Dl(d.options.projectId,f)})(a,s),a);return i=Object.assign({useFetchStreams:n},i),l._setSettings(i),l}),"PUBLIC").setMultipleInstances(!0)),sa(GC,"4.7.3",e),sa(GC,"4.7.3","esm2017")})();var YG="firebase",XG="10.14.1";sa(YG,XG,"app");var oi=function(){return oi=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},oi.apply(this,arguments)};function _y(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function ZG(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}function UV(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const JG=UV,zV=new lf("auth","Firebase",UV());const fg=new Q0("@firebase/auth");function e7(t,...e){fg.logLevel<=mt.WARN&&fg.warn(`Auth (${ny}): ${t}`,...e)}function Dm(t,...e){fg.logLevel<=mt.ERROR&&fg.error(`Auth (${ny}): ${t}`,...e)}function ku(t,...e){throw zx(t,...e)}function Ux(t,...e){return zx(t,...e)}function WV(t,e,n){const r=Object.assign(Object.assign({},JG()),{[e]:n});return new lf("auth","Firebase",r).create(e,{appName:t.name})}function du(t){return WV(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function zx(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return zV.create(t,...e)}function Et(t,e,...n){if(!t)throw zx(e,...n)}function qi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Dm(e),new Error(e)}function pg(t,e){t||qi(e)}function t7(){return rP()==="http:"||rP()==="https:"}function rP(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function n7(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(t7()||eH()||"connection"in navigator)?navigator.onLine:!0}function r7(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class Tf{constructor(e,n){this.shortDelay=e,this.longDelay=n,pg(n>e,"Short delay should be less than long delay!"),this.isMobile=XW()||tH()}get(){return n7()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function s7(t,e){pg(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class HV{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;qi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;qi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;qi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const i7={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const o7=new Tf(3e4,6e4);function sd(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Gl(t,e,n,r,s={}){return qV(t,s,async()=>{let i={},a={};r&&(e==="GET"?a=r:i={body:JSON.stringify(r)});const l=$N(Object.assign({key:t.config.apiKey},a)).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);const d=Object.assign({method:e,headers:u},i);return JW()||(d.referrerPolicy="no-referrer"),HV.fetch()(KV(t,t.config.apiHost,n,l),d)})}async function qV(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},i7),e);try{const s=new l7(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const a=await i.json();if("needConfirmation"in a)throw lm(t,"account-exists-with-different-credential",a);if(i.ok&&!("errorMessage"in a))return a;{const l=i.ok?a.errorMessage:a.error.message,[u,d]=l.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw lm(t,"credential-already-in-use",a);if(u==="EMAIL_EXISTS")throw lm(t,"email-already-in-use",a);if(u==="USER_DISABLED")throw lm(t,"user-disabled",a);const f=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw WV(t,f,d);ku(t,f)}}catch(s){if(s instanceof xi)throw s;ku(t,"network-request-failed",{message:String(s)})}}async function Wx(t,e,n,r,s={}){const i=await Gl(t,e,n,r,s);return"mfaPendingCredential"in i&&ku(t,"multi-factor-auth-required",{_serverResponse:i}),i}function KV(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?s7(t.config,s):`${t.config.apiScheme}://${s}`}function a7(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class l7{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ux(this.auth,"network-request-failed")),o7.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function lm(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Ux(t,e,r);return s.customData._tokenResponse=n,s}function sP(t){return t!==void 0&&t.enterprise!==void 0}class c7{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return a7(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function u7(t,e){return Gl(t,"GET","/v2/recaptchaConfig",sd(t,e))}async function d7(t,e){return Gl(t,"POST","/v1/accounts:delete",e)}async function GV(t,e){return Gl(t,"POST","/v1/accounts:lookup",e)}function wh(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function h7(t,e=!1){const n=Cn(t),r=await n.getIdToken(e),s=QV(r);Et(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,a=i?.sign_in_provider;return{claims:s,token:r,authTime:wh(qw(s.auth_time)),issuedAtTime:wh(qw(s.iat)),expirationTime:wh(qw(s.exp)),signInProvider:a||null,signInSecondFactor:i?.sign_in_second_factor||null}}function qw(t){return Number(t)*1e3}function QV(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Dm("JWT malformed, contained fewer than 3 sections"),null;try{const s=VN(n);return s?JSON.parse(s):(Dm("Failed to decode base64 JWT payload"),null)}catch(s){return Dm("Caught error parsing JWT payload as JSON",s?.toString()),null}}function iP(t){const e=QV(t);return Et(e,"internal-error"),Et(typeof e.exp<"u","internal-error"),Et(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Sb(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof xi&&f7(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function f7({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class p7{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Ib{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=wh(this.lastLoginAt),this.creationTime=wh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function mg(t){var e;const n=t.auth,r=await t.getIdToken(),s=await Sb(t,GV(n,{idToken:r}));Et(s?.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const a=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?YV(i.providerUserInfo):[],l=g7(t.providerData,a),u=t.isAnonymous,d=!(t.email&&i.passwordHash)&&!l?.length,f=u?d:!1,g={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:l,metadata:new Ib(i.createdAt,i.lastLoginAt),isAnonymous:f};Object.assign(t,g)}async function m7(t){const e=Cn(t);await mg(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function g7(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function YV(t){return t.map(e=>{var{providerId:n}=e,r=_y(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}async function y7(t,e){const n=await qV(t,{},async()=>{const r=$N({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,a=KV(t,s,"/v1/token",`key=${i}`),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",HV.fetch()(a,{method:"POST",headers:l,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function v7(t,e){return Gl(t,"POST","/v2/accounts:revokeToken",sd(t,e))}class hu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Et(e.idToken,"internal-error"),Et(typeof e.idToken<"u","internal-error"),Et(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):iP(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Et(e.length!==0,"internal-error");const n=iP(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Et(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await y7(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,a=new hu;return r&&(Et(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),s&&(Et(typeof s=="string","internal-error",{appName:e}),a.accessToken=s),i&&(Et(typeof i=="number","internal-error",{appName:e}),a.expirationTime=i),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new hu,this.toJSON())}_performRefresh(){return qi("not implemented")}}function Uo(t,e){Et(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ki{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=_y(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new p7(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Ib(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Sb(this,this.stsTokenManager.getToken(this.auth,e));return Et(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return h7(this,e)}reload(){return m7(this)}_assign(e){this!==e&&(Et(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ki(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Et(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await mg(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(hl(this.auth.app))return Promise.reject(du(this.auth));const e=await this.getIdToken();return await Sb(this,d7(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,a,l,u,d,f;const g=(r=n.displayName)!==null&&r!==void 0?r:void 0,y=(s=n.email)!==null&&s!==void 0?s:void 0,x=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,I=(a=n.photoURL)!==null&&a!==void 0?a:void 0,E=(l=n.tenantId)!==null&&l!==void 0?l:void 0,S=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,k=(d=n.createdAt)!==null&&d!==void 0?d:void 0,A=(f=n.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:N,emailVerified:B,isAnonymous:j,providerData:G,stsTokenManager:O}=n;Et(N&&O,e,"internal-error");const P=hu.fromJSON(this.name,O);Et(typeof N=="string",e,"internal-error"),Uo(g,e.name),Uo(y,e.name),Et(typeof B=="boolean",e,"internal-error"),Et(typeof j=="boolean",e,"internal-error"),Uo(x,e.name),Uo(I,e.name),Uo(E,e.name),Uo(S,e.name),Uo(k,e.name),Uo(A,e.name);const D=new Ki({uid:N,auth:e,email:y,emailVerified:B,displayName:g,isAnonymous:j,photoURL:I,phoneNumber:x,tenantId:E,stsTokenManager:P,createdAt:k,lastLoginAt:A});return G&&Array.isArray(G)&&(D.providerData=G.map(M=>Object.assign({},M))),S&&(D._redirectEventId=S),D}static async _fromIdTokenResponse(e,n,r=!1){const s=new hu;s.updateFromServerResponse(n);const i=new Ki({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await mg(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];Et(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?YV(s.providerUserInfo):[],a=!(s.email&&s.passwordHash)&&!i?.length,l=new hu;l.updateFromIdToken(r);const u=new Ki({uid:s.localId,auth:e,stsTokenManager:l,isAnonymous:a}),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new Ib(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!i?.length};return Object.assign(u,d),u}}const oP=new Map;function fl(t){pg(t instanceof Function,"Expected a class definition");let e=oP.get(t);return e?(pg(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,oP.set(t,e),e)}class XV{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}XV.type="NONE";const aP=XV;function Kw(t,e,n){return`firebase:${t}:${e}:${n}`}class fu{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Kw(this.userKey,s.apiKey,i),this.fullPersistenceKey=Kw("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ki._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new fu(fl(aP),e,r);const s=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let i=s[0]||fl(aP);const a=Kw(r,e.config.apiKey,e.name);let l=null;for(const d of n)try{const f=await d._get(a);if(f){const g=Ki._fromJSON(e,f);d!==i&&(l=g),i=d;break}}catch{}const u=s.filter(d=>d._shouldAllowMigration);return!i._shouldAllowMigration||!u.length?new fu(i,e,r):(i=u[0],l&&await i._set(a,l.toJSON()),await Promise.all(n.map(async d=>{if(d!==i)try{await d._remove(a)}catch{}})),new fu(i,e,r))}}function lP(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ZV(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(w7(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(eL(e))return"Blackberry";if(tL(e))return"Webos";if(_7(e))return"Safari";if((e.includes("chrome/")||b7(e))&&!e.includes("edge/"))return"Chrome";if(JV(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function w7(t=Hn()){return/firefox\//i.test(t)}function _7(t=Hn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function b7(t=Hn()){return/crios\//i.test(t)}function ZV(t=Hn()){return/iemobile/i.test(t)}function JV(t=Hn()){return/android/i.test(t)}function eL(t=Hn()){return/blackberry/i.test(t)}function tL(t=Hn()){return/webos/i.test(t)}function x7(t=Hn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function E7(){return nH()&&document.documentMode===10}function T7(t=Hn()){return x7(t)||JV(t)||tL(t)||eL(t)||/windows phone/i.test(t)||ZV(t)}function nL(t,e=[]){let n;switch(t){case"Browser":n=lP(Hn());break;case"Worker":n=`${lP(Hn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ny}/${r}`}class S7{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((a,l)=>{try{const u=e(i);a(u)}catch(u){l(u)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function I7(t,e={}){return Gl(t,"GET","/v2/passwordPolicy",sd(t,e))}const C7=6;class A7{constructor(e){var n,r,s,i;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=a.minPasswordLength)!==null&&n!==void 0?n:C7,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,a,l;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(s=u.containsLowercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(i=u.containsUppercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(a=u.containsNumericCharacter)!==null&&a!==void 0?a:!0),u.isValid&&(u.isValid=(l=u.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),u}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class P7{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new cP(this),this.idTokenSubscription=new cP(this),this.beforeStateQueue=new S7(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=zV,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=fl(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await fu.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await GV(this,{idToken:e}),r=await Ki._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(hl(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(l,l))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=s?._redirectEventId,u=await this.tryRedirectSignIn(e);(!a||a===l)&&u?.user&&(s=u.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(a){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Et(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await mg(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=r7()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(hl(this.app))return Promise.reject(du(this));const n=e?Cn(e):null;return n&&Et(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Et(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return hl(this.app)?Promise.reject(du(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return hl(this.app)?Promise.reject(du(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(fl(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await I7(this),n=new A7(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new lf("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await v7(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&fl(e)||this._popupRedirectResolver;Et(n,this,"argument-error"),this.redirectPersistenceManager=await fu.create(this,[fl(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let a=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(Et(l,this,"internal-error"),l.then(()=>{a||i(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,r,s);return()=>{a=!0,u()}}else{const u=e.addObserver(n);return()=>{a=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Et(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=nL(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n?.error&&e7(`Error while retrieving App Check token: ${n.error}`),n?.token}}function by(t){return Cn(t)}class cP{constructor(e){this.auth=e,this.observer=null,this.addObserver=aH(n=>this.observer=n)}get next(){return Et(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Hx={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function R7(t){Hx=t}function k7(t){return Hx.loadJS(t)}function D7(){return Hx.recaptchaEnterpriseScript}const N7="recaptcha-enterprise",O7="NO_RECAPTCHA";class V7{constructor(e){this.type=N7,this.auth=by(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(a,l)=>{u7(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const d=new c7(u);return i.tenantId==null?i._agentRecaptchaConfig=d:i._tenantRecaptchaConfigs[i.tenantId]=d,a(d.siteKey)}}).catch(u=>{l(u)})})}function s(i,a,l){const u=window.grecaptcha;sP(u)?u.enterprise.ready(()=>{u.enterprise.execute(i,{action:e}).then(d=>{a(d)}).catch(()=>{a(O7)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((i,a)=>{r(this.auth).then(l=>{if(!n&&sP(window.grecaptcha))s(l,i,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let u=D7();u.length!==0&&(u+=l),k7(u).then(()=>{s(l,i,a)}).catch(d=>{a(d)})}}).catch(l=>{a(l)})})}}async function uP(t,e,n,r=!1){const s=new V7(t);let i;try{i=await s.verify(n)}catch{i=await s.verify(n,!0)}const a=Object.assign({},e);return r?Object.assign(a,{captchaResp:i}):Object.assign(a,{captchaResponse:i}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function dP(t,e,n,r){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await uP(t,e,n,n==="getOobCode");return r(t,i)}else return r(t,e).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await uP(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(i)})}function L7(t,e){const n=BN(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(Dh(i,e??{}))return s;ku(s,"already-initialized")}return n.initialize({options:e})}function M7(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(fl);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}class $7{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return qi("not implemented")}_getIdTokenResponse(e){return qi("not implemented")}_linkToIdToken(e,n){return qi("not implemented")}_getReauthenticationResolver(e){return qi("not implemented")}}async function j7(t,e){return Gl(t,"POST","/v1/accounts:signUp",e)}async function F7(t,e){return Wx(t,"POST","/v1/accounts:signInWithPassword",sd(t,e))}async function B7(t,e){return Wx(t,"POST","/v1/accounts:signInWithEmailLink",sd(t,e))}async function U7(t,e){return Wx(t,"POST","/v1/accounts:signInWithEmailLink",sd(t,e))}class Hh extends $7{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new Hh(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Hh(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return dP(e,n,"signInWithPassword",F7);case"emailLink":return B7(e,{email:this._email,oobCode:this._password});default:ku(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return dP(e,r,"signUpPassword",j7);case"emailLink":return U7(e,{idToken:n,email:this._email,oobCode:this._password});default:ku(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}function z7(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function W7(t){const e=nh(rh(t)).link,n=e?nh(rh(e)).deep_link_id:null,r=nh(rh(t)).deep_link_id;return(r?nh(rh(r)).link:null)||r||n||e||t}class qx{constructor(e){var n,r,s,i,a,l;const u=nh(rh(e)),d=(n=u.apiKey)!==null&&n!==void 0?n:null,f=(r=u.oobCode)!==null&&r!==void 0?r:null,g=z7((s=u.mode)!==null&&s!==void 0?s:null);Et(d&&f&&g,"argument-error"),this.apiKey=d,this.operation=g,this.code=f,this.continueUrl=(i=u.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(a=u.languageCode)!==null&&a!==void 0?a:null,this.tenantId=(l=u.tenantId)!==null&&l!==void 0?l:null}static parseLink(e){const n=W7(e);try{return new qx(n)}catch{return null}}}class id{constructor(){this.providerId=id.PROVIDER_ID}static credential(e,n){return Hh._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=qx.parseLink(n);return Et(r,"argument-error"),Hh._fromEmailAndCode(e,r.code,r.tenantId)}}id.PROVIDER_ID="password";id.EMAIL_PASSWORD_SIGN_IN_METHOD="password";id.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class gg{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await Ki._fromIdTokenResponse(e,r,s),a=hP(r);return new gg({user:i,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=hP(r);return new gg({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function hP(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class yg extends xi{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,yg.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new yg(e,n,r,s)}}function H7(t,e,n,r){return n._getIdTokenResponse(t).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?yg._fromErrorAndOperation(t,i,e,r):i})}async function q7(t,e,n=!1){if(hl(t.app))return Promise.reject(du(t));const r="signIn",s=await H7(t,r,e),i=await gg._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function K7(t,e){return q7(by(t),e)}async function G7(t){const e=by(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function Q7(t,e,n){return hl(t.app)?Promise.reject(du(t)):K7(Cn(t),id.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&G7(t),r})}function Y7(t,e,n,r){return Cn(t).onAuthStateChanged(e,n,r)}function X7(t){return Cn(t).signOut()}const fP="__sak";class rL{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(fP,"1"),this.storage.removeItem(fP),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const Z7=1e3,J7=10;class sL extends rL{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=T7(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,l,u)=>{this.notifyListeners(a,u)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},i=this.storage.getItem(r);E7()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,J7):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Z7)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}sL.type="LOCAL";const eQ=sL;class tQ extends rL{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}tQ.type="SESSION";new Tf(3e4,6e4);new Tf(2e3,1e4);new Tf(3e4,6e4);new Tf(5e3,15e3);var pP="@firebase/auth",mP="1.7.9";class nQ{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Et(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function rQ(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function sQ(t){vu(new Rl("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:a,authDomain:l}=r.options;Et(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:a,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:nL(t)},d=new P7(r,s,i,u);return M7(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),vu(new Rl("auth-internal",e=>{const n=by(e.getProvider("auth").getImmediate());return(r=>new nQ(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),sa(pP,mP,rQ(t)),sa(pP,mP,"esm2017")}const iQ=300;QW("authIdTokenMaxAge");function oQ(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}R7({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=Ux("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",oQ().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});sQ("Browser");const iL={apiKey:"AIzaSyC9a6NcIZliG3qUImvYyEq4SEbpf6HY1gM",authDomain:"racha-canal.firebaseapp.com",projectId:"racha-canal",storageBucket:"racha-canal.firebasestorage.app",messagingSenderId:"394126692334",appId:"1:394126692334:web:9ac37677048418e52948ff",measurementId:"G-PTV3MT65S0"},aQ=["apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId"],gP=aQ.filter(t=>!iL[t]);if(gP.length>0)throw new Error(`Missing Firebase config: ${gP.join(", ")}`);const oL=cq(iL),vg=L7(oL,{persistence:eQ,popupRedirectResolver:void 0}),lQ=typeof indexedDB<"u",qn=TG(oL,{localCache:lQ?WG():zG()}),Ql=yf(qn,"players"),aL=yf(qn,"categories"),od=yf(qn,"dayEvents"),qh=yf(qn,"daySessions"),to=sr(qn,"meta","day"),cQ=t=>{const e=t.data();return{id:t.id,name:e.name??"",score:e.score??0,scoreDay:e.scoreDay??0,best:e.best??0,bad:e.bad??0}},uQ=t=>{const e=t.data();return{id:t.id,name:e.name??"",points:e.points??0}},dQ=t=>{const e=t.data();return{id:t.id,sessionId:e.sessionId??"",playerId:e.playerId??"",categoryId:e.categoryId??"",categoryName:e.categoryName??"",points:e.points??0,count:e.count??0,totalPoints:e.totalPoints??0,createdAt:e.createdAt?.toDate?.().toISOString()??null}},hQ=async()=>(await Ca(Ql)).docs.map(cQ),fQ=async()=>(await Ca(aL)).docs.map(uQ),pQ=async()=>{const t=await bf(to);if(!t.exists())return{currentSessionId:null,startedAt:null,isFinalized:!1,finalizedAt:null};const e=t.data();return{currentSessionId:e.currentSessionId??null,startedAt:e.startedAt?.toDate?.().toISOString()??null,isFinalized:e.isFinalized??!1,finalizedAt:e.finalizedAt?.toDate?.().toISOString()??null,lastParticipants:Array.isArray(e.lastParticipants)?e.lastParticipants.filter(n=>typeof n=="string"):null}},mQ=async(t,e)=>{const n=OG(od,eP("sessionId","==",t),eP("playerId","==",e));return(await Ca(n)).docs.map(dQ)},Kx=async t=>{if(!t)return{sessionId:"",participants:[]};const e=await bf(sr(qh,t));if(!e.exists())return{sessionId:t,participants:[]};const n=e.data(),r=Array.isArray(n.participants)?n.participants.filter(s=>typeof s=="string"):[];return{sessionId:t,participants:r}};function xy(){return Wl({queryKey:["players"],queryFn:hQ})}function Gx(){return Wl({queryKey:["categories"],queryFn:fQ})}function Qx(){return Wl({queryKey:["daySession"],queryFn:pQ})}function lL(t,e){return Wl({queryKey:["dayEvents",e,t],queryFn:()=>mQ(e??"",t??""),enabled:!!(t&&e)})}function Yx(t){return Wl({queryKey:["dayParticipants",t],queryFn:()=>Kx(t??""),enabled:!!t})}function gQ(){const t=gr();return ws({mutationFn:async({sessionId:e,participants:n})=>{const r=Array.from(new Set(n)).filter(Boolean);return await jl(sr(qh,e),{participants:r},{merge:!0}),await jl(to,{lastParticipants:r},{merge:!0}),{sessionId:e,participants:r}},onSuccess:(e,n)=>Promise.all([t.invalidateQueries({queryKey:["dayParticipants",n.sessionId]}),t.invalidateQueries({queryKey:["daySession"]})])})}function yQ(){const t=gr();return ws({mutationFn:async e=>{const n=sr(Ql),r={name:e.name,score:e.score??0,scoreDay:0,best:0,bad:0,createdAt:Ru()};return await jl(n,r),{id:n.id,name:r.name,score:r.score,scoreDay:r.scoreDay,best:r.best,bad:r.bad}},onSuccess:()=>t.invalidateQueries({queryKey:["players"]})})}function vQ(){const t=gr();return ws({mutationFn:async e=>{await FV(sr(qn,"players",e))},onSuccess:()=>t.invalidateQueries({queryKey:["players"]})})}function wQ(){const t=gr();return ws({mutationFn:async({id:e,name:n})=>{await $G(sr(qn,"players",e),{name:n})},onSuccess:()=>t.invalidateQueries({queryKey:["players"]})})}function _Q(){const t=gr();return ws({mutationFn:async e=>({id:(await jG(aL,{name:e.name,points:e.points,createdAt:Ru()})).id,name:e.name,points:e.points}),onSuccess:()=>t.invalidateQueries({queryKey:["categories"]})})}function bQ(){const t=gr();return ws({mutationFn:async e=>{await FV(sr(qn,"categories",e))},onSuccess:()=>t.invalidateQueries({queryKey:["categories"]})})}function xQ(){const t=gr();return ws({mutationFn:async()=>{await wg(od),await wg(qh);const e=sr(qh);await jl(e,{startedAt:Ru(),isFinalized:!1,participants:[]}),await jl(to,{currentSessionId:e.id,startedAt:Ru(),isFinalized:!1,finalizedAt:null},{merge:!0});const n=await Ca(Ql),r=Ey(n.docs,400);for(const s of r){const i=Ef(qn);for(const a of s)i.update(a.ref,{scoreDay:0});await i.commit()}return{updated:n.size,sessionId:e.id}},onSuccess:()=>Promise.all([t.invalidateQueries({queryKey:["players"]}),t.invalidateQueries({queryKey:["daySession"]}),t.invalidateQueries({queryKey:["dayParticipants"]}),t.invalidateQueries({queryKey:["dayEvents"]})])})}function EQ(){const t=gr();return ws({mutationFn:async()=>{const e=await bf(to),n=e.exists()?e.data():{},r=n.isFinalized??!1,s=n.currentSessionId??null,i=r&&s?(await Kx(s)).participants:[],a=i.length>0?new Set(i):null,u=(await Ca(Ql)).docs.map(E=>{const S=E.data();return{ref:E.ref,id:E.id,scoreDay:typeof S.scoreDay=="number"?S.scoreDay:0,best:typeof S.best=="number"?S.best:0,bad:typeof S.bad=="number"?S.bad:0}});if(u.length===0)return{playersUpdated:0,bestReverted:0,badReverted:0};const d=a?u.filter(E=>a.has(E.id)):u;if(d.length===0)return{playersUpdated:u.length,bestReverted:0,badReverted:0,isFinalized:r};let f=d[0].scoreDay,g=d[0].scoreDay;for(const E of d)E.scoreDay>f&&(f=E.scoreDay),E.scoreDay<g&&(g=E.scoreDay);const y=Ey(u,400);let x=0,I=0;for(const E of y){const S=Ef(qn);for(const k of E){const A={scoreDay:0};if(k.scoreDay!==0&&(A.score=Bs(-k.scoreDay)),r){const N=a?a.has(k.id):!0;N&&k.scoreDay===f&&k.best>0&&(A.best=Bs(-1),x+=1),N&&k.scoreDay===g&&k.bad>0&&(A.bad=Bs(-1),I+=1)}S.update(k.ref,A)}await S.commit()}return await wg(od),await wg(qh),await jl(to,{currentSessionId:null,startedAt:null,isFinalized:!1,finalizedAt:null},{merge:!0}),{playersUpdated:u.length,bestReverted:x,badReverted:I,isFinalized:r}},onSuccess:()=>Promise.all([t.invalidateQueries({queryKey:["players"]}),t.invalidateQueries({queryKey:["daySession"]}),t.invalidateQueries({queryKey:["dayParticipants"]}),t.invalidateQueries({queryKey:["dayEvents"]})])})}function TQ(){const t=gr();return ws({mutationFn:async({playerId:e,delta:n,sessionId:r,items:s})=>{const i=Ef(qn);i.update(sr(qn,"players",e),{scoreDay:Bs(n),score:Bs(n)});for(const a of s){const l=sr(od);i.set(l,{sessionId:r,playerId:e,categoryId:a.categoryId,categoryName:a.categoryName,points:a.points,count:a.count,totalPoints:a.totalPoints,createdAt:Ru()})}return await i.commit(),{applied:n}},onSuccess:()=>Promise.all([t.invalidateQueries({queryKey:["players"]}),t.invalidateQueries({queryKey:["dayEvents"]})])})}function SQ(){const t=gr();return ws({mutationFn:async()=>{const e=await bf(to),r=(e.exists()?e.data():{}).currentSessionId??null;if(!r)throw new Error("Sesso do dia no encontrada.");const{participants:s}=await Kx(r);if(!s||s.length===0)throw new Error("Defina os participantes do dia antes de finalizar.");const a=(await Ca(Ql)).docs.map(S=>{const k=S.data();return{ref:S.ref,scoreDay:typeof k.scoreDay=="number"?k.scoreDay:0,id:S.id}});if(a.length===0)return{bestUpdated:0,badUpdated:0};const l=new Set(s),u=a.filter(S=>l.has(S.id));if(u.length===0)throw new Error("Nenhum participante vlido encontrado para a sesso atual.");let d=u[0].scoreDay,f=u[0].scoreDay;for(const S of u)S.scoreDay>d&&(d=S.scoreDay),S.scoreDay<f&&(f=S.scoreDay);const g=new Map;for(const S of u)S.scoreDay===d&&g.set(S.ref,{...g.get(S.ref),best:1}),S.scoreDay===f&&g.set(S.ref,{...g.get(S.ref),bad:1});const y=Array.from(g.entries()).map(([S,k])=>({ref:S,incs:k})),x=Ey(y,400);for(const S of x){const k=Ef(qn);for(const A of S)k.update(A.ref,{...A.incs.best?{best:Bs(A.incs.best)}:{},...A.incs.bad?{bad:Bs(A.incs.bad)}:{}});await k.commit()}const I=u.filter(S=>S.scoreDay===d).length,E=u.filter(S=>S.scoreDay===f).length;return await jl(to,{isFinalized:!0,finalizedAt:Ru()},{merge:!0}),{bestUpdated:I,badUpdated:E,maxScoreDay:d,minScoreDay:f}},onSuccess:()=>Promise.all([t.invalidateQueries({queryKey:["players"]}),t.invalidateQueries({queryKey:["daySession"]})])})}function IQ(){const t=gr();return ws({mutationFn:async({sessionId:e,playerId:n,eventId:r})=>(await BV(qn,async s=>{const i=await s.get(to);if((i.exists()?i.data():{isFinalized:!1}).isFinalized)throw new Error("Dia finalizado. Desfaa a finalizao para editar eventos.");const l=sr(od,r),u=await s.get(l);if(!u.exists())return;const d=u.data();if(d.sessionId!==e||d.playerId!==n)throw new Error("Evento no pertence  sesso/jogador selecionado.");const f=typeof d.totalPoints=="number"?d.totalPoints:0;s.delete(l),s.update(sr(Ql,n),{scoreDay:Bs(-f),score:Bs(-f)})}),{eventId:r}),onSuccess:(e,n)=>Promise.all([t.invalidateQueries({queryKey:["players"]}),t.invalidateQueries({queryKey:["dayEvents",n.sessionId,n.playerId]})])})}function CQ(){const t=gr();return ws({mutationFn:async({sessionId:e,playerId:n,eventId:r,count:s})=>{const i=Math.max(0,Math.floor(s));return await BV(qn,async a=>{const l=await a.get(to);if((l.exists()?l.data():{isFinalized:!1}).isFinalized)throw new Error("Dia finalizado. Desfaa a finalizao para editar eventos.");const d=sr(od,r),f=await a.get(d);if(!f.exists())return;const g=f.data();if(g.sessionId!==e||g.playerId!==n)throw new Error("Evento no pertence  sesso/jogador selecionado.");const y=typeof g.points=="number"?g.points:0,x=typeof g.totalPoints=="number"?g.totalPoints:y*(g.count??0),I=y*i,E=I-x;a.update(d,{count:i,totalPoints:I}),E!==0&&a.update(sr(Ql,n),{scoreDay:Bs(E),score:Bs(E)})}),{eventId:r,count:i}},onSuccess:(e,n)=>Promise.all([t.invalidateQueries({queryKey:["players"]}),t.invalidateQueries({queryKey:["dayEvents",n.sessionId,n.playerId]})])})}function Ey(t,e){const n=[];for(let r=0;r<t.length;r+=e)n.push(t.slice(r,r+e));return n}async function wg(t){const e=await Ca(t);if(e.empty)return;const n=Ey(e.docs,400);for(const r of n){const s=Ef(qn);for(const i of r)s.delete(i.ref);await s.commit()}}function AQ(){const t=gr(),{data:e,isLoading:n}=xy(),{data:r,isLoading:s}=Gx();T.useRef(!1),T.useEffect(()=>{},[e,r,n,s,t])}const cL=T.createContext({});function PQ(t){const e=T.useRef(null);return e.current===null&&(e.current=t()),e.current}const Xx=T.createContext(null),uL=T.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function RQ(t=!0){const e=T.useContext(Xx);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=e,i=T.useId();T.useEffect(()=>{t&&s(i)},[t]);const a=T.useCallback(()=>t&&r&&r(i),[i,r,t]);return!n&&r?[!1,a]:[!0]}const Zx=typeof window<"u",kQ=Zx?T.useLayoutEffect:T.useEffect,Gr=t=>t;let dL=Gr;function Jx(t){let e;return()=>(e===void 0&&(e=t()),e)}const Du=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},Qi=t=>t*1e3,Yi=t=>t/1e3,DQ={useManualTiming:!1};function NQ(t){let e=new Set,n=new Set,r=!1,s=!1;const i=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function l(d){i.has(d)&&(u.schedule(d),t()),d(a)}const u={schedule:(d,f=!1,g=!1)=>{const x=g&&r?e:n;return f&&i.add(d),x.has(d)||x.add(d),d},cancel:d=>{n.delete(d),i.delete(d)},process:d=>{if(a=d,r){s=!0;return}r=!0,[e,n]=[n,e],e.forEach(l),e.clear(),r=!1,s&&(s=!1,u.process(d))}};return u}const cm=["read","resolveKeyframes","update","preRender","render","postRender"],OQ=40;function hL(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,a=cm.reduce((k,A)=>(k[A]=NQ(i),k),{}),{read:l,resolveKeyframes:u,update:d,preRender:f,render:g,postRender:y}=a,x=()=>{const k=performance.now();n=!1,s.delta=r?1e3/60:Math.max(Math.min(k-s.timestamp,OQ),1),s.timestamp=k,s.isProcessing=!0,l.process(s),u.process(s),d.process(s),f.process(s),g.process(s),y.process(s),s.isProcessing=!1,n&&e&&(r=!1,t(x))},I=()=>{n=!0,r=!0,s.isProcessing||t(x)};return{schedule:cm.reduce((k,A)=>{const N=a[A];return k[A]=(B,j=!1,G=!1)=>(n||I(),N.schedule(B,j,G)),k},{}),cancel:k=>{for(let A=0;A<cm.length;A++)a[cm[A]].cancel(k)},state:s,steps:a}}const{schedule:zt,cancel:ba,state:Bn,steps:Gw}=hL(typeof requestAnimationFrame<"u"?requestAnimationFrame:Gr,!0),fL=T.createContext({strict:!1}),yP={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Nu={};for(const t in yP)Nu[t]={isEnabled:e=>yP[t].some(n=>!!e[n])};function VQ(t){for(const e in t)Nu[e]={...Nu[e],...t[e]}}const LQ=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function _g(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||LQ.has(t)}let pL=t=>!_g(t);function MQ(t){t&&(pL=e=>e.startsWith("on")?!_g(e):t(e))}try{MQ(require("@emotion/is-prop-valid").default)}catch{}function $Q(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(pL(s)||n===!0&&_g(s)||!e&&!_g(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}function jQ(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,s)=>s==="create"?t:(e.has(s)||e.set(s,t(s)),e.get(s))})}const Ty=T.createContext({});function Kh(t){return typeof t=="string"||Array.isArray(t)}function Sy(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const eE=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],tE=["initial",...eE];function Iy(t){return Sy(t.animate)||tE.some(e=>Kh(t[e]))}function mL(t){return!!(Iy(t)||t.variants)}function FQ(t,e){if(Iy(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Kh(n)?n:void 0,animate:Kh(r)?r:void 0}}return t.inherit!==!1?e:{}}function BQ(t){const{initial:e,animate:n}=FQ(t,T.useContext(Ty));return T.useMemo(()=>({initial:e,animate:n}),[vP(e),vP(n)])}function vP(t){return Array.isArray(t)?t.join(" "):t}const UQ=Symbol.for("motionComponentSymbol");function Zc(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function zQ(t,e,n){return T.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Zc(n)&&(n.current=r))},[e])}const nE=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),WQ="framerAppearId",gL="data-"+nE(WQ),{schedule:rE}=hL(queueMicrotask,!1),yL=T.createContext({});function HQ(t,e,n,r,s){var i,a;const{visualElement:l}=T.useContext(Ty),u=T.useContext(fL),d=T.useContext(Xx),f=T.useContext(uL).reducedMotion,g=T.useRef(null);r=r||u.renderer,!g.current&&r&&(g.current=r(t,{visualState:e,parent:l,props:n,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:f}));const y=g.current,x=T.useContext(yL);y&&!y.projection&&s&&(y.type==="html"||y.type==="svg")&&qQ(g.current,n,s,x);const I=T.useRef(!1);T.useInsertionEffect(()=>{y&&I.current&&y.update(n,d)});const E=n[gL],S=T.useRef(!!E&&!(!((i=window.MotionHandoffIsComplete)===null||i===void 0)&&i.call(window,E))&&((a=window.MotionHasOptimisedAnimation)===null||a===void 0?void 0:a.call(window,E)));return kQ(()=>{y&&(I.current=!0,window.MotionIsMounted=!0,y.updateFeatures(),rE.render(y.render),S.current&&y.animationState&&y.animationState.animateChanges())}),T.useEffect(()=>{y&&(!S.current&&y.animationState&&y.animationState.animateChanges(),S.current&&(queueMicrotask(()=>{var k;(k=window.MotionHandoffMarkAsComplete)===null||k===void 0||k.call(window,E)}),S.current=!1))}),y}function qQ(t,e,n,r){const{layoutId:s,layout:i,drag:a,dragConstraints:l,layoutScroll:u,layoutRoot:d}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:vL(t.parent)),t.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!a||l&&Zc(l),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,layoutScroll:u,layoutRoot:d})}function vL(t){if(t)return t.options.allowProjection!==!1?t.projection:vL(t.parent)}function KQ({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:s}){var i,a;t&&VQ(t);function l(d,f){let g;const y={...T.useContext(uL),...d,layoutId:GQ(d)},{isStatic:x}=y,I=BQ(d),E=r(d,x);if(!x&&Zx){QQ();const S=YQ(y);g=S.MeasureLayout,I.visualElement=HQ(s,E,y,e,S.ProjectionNode)}return v.jsxs(Ty.Provider,{value:I,children:[g&&I.visualElement?v.jsx(g,{visualElement:I.visualElement,...y}):null,n(s,d,zQ(E,I.visualElement,f),E,x,I.visualElement)]})}l.displayName=`motion.${typeof s=="string"?s:`create(${(a=(i=s.displayName)!==null&&i!==void 0?i:s.name)!==null&&a!==void 0?a:""})`}`;const u=T.forwardRef(l);return u[UQ]=s,u}function GQ({layoutId:t}){const e=T.useContext(cL).id;return e&&t!==void 0?e+"-"+t:t}function QQ(t,e){T.useContext(fL).strict}function YQ(t){const{drag:e,layout:n}=Nu;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const XQ=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function sE(t){return typeof t!="string"||t.includes("-")?!1:!!(XQ.indexOf(t)>-1||/[A-Z]/u.test(t))}function wP(t){const e=[{},{}];return t?.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function iE(t,e,n,r){if(typeof e=="function"){const[s,i]=wP(r);e=e(n!==void 0?n:t.custom,s,i)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,i]=wP(r);e=e(n!==void 0?n:t.custom,s,i)}return e}const Cb=t=>Array.isArray(t),ZQ=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),JQ=t=>Cb(t)?t[t.length-1]||0:t,nr=t=>!!(t&&t.getVelocity);function Nm(t){const e=nr(t)?t.get():t;return ZQ(e)?e.toValue():e}function eY({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},r,s,i){const a={latestValues:tY(r,s,i,t),renderState:e()};return n&&(a.onMount=l=>n({props:r,current:l,...a}),a.onUpdate=l=>n(l)),a}const wL=t=>(e,n)=>{const r=T.useContext(Ty),s=T.useContext(Xx),i=()=>eY(t,e,r,s);return n?i():PQ(i)};function tY(t,e,n,r){const s={},i=r(t,{});for(const y in i)s[y]=Nm(i[y]);let{initial:a,animate:l}=t;const u=Iy(t),d=mL(t);e&&d&&!u&&t.inherit!==!1&&(a===void 0&&(a=e.initial),l===void 0&&(l=e.animate));let f=n?n.initial===!1:!1;f=f||a===!1;const g=f?l:a;if(g&&typeof g!="boolean"&&!Sy(g)){const y=Array.isArray(g)?g:[g];for(let x=0;x<y.length;x++){const I=iE(t,y[x]);if(I){const{transitionEnd:E,transition:S,...k}=I;for(const A in k){let N=k[A];if(Array.isArray(N)){const B=f?N.length-1:0;N=N[B]}N!==null&&(s[A]=N)}for(const A in E)s[A]=E[A]}}}return s}const ad=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Yl=new Set(ad),_L=t=>e=>typeof e=="string"&&e.startsWith(t),bL=_L("--"),nY=_L("var(--"),oE=t=>nY(t)?rY.test(t.split("/*")[0].trim()):!1,rY=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,xL=(t,e)=>e&&typeof t=="number"?e.transform(t):t,no=(t,e,n)=>n>e?e:n<t?t:n,ld={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Gh={...ld,transform:t=>no(0,1,t)},um={...ld,default:1},Sf=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),zo=Sf("deg"),hi=Sf("%"),Xe=Sf("px"),sY=Sf("vh"),iY=Sf("vw"),_P={...hi,parse:t=>hi.parse(t)/100,transform:t=>hi.transform(t*100)},oY={borderWidth:Xe,borderTopWidth:Xe,borderRightWidth:Xe,borderBottomWidth:Xe,borderLeftWidth:Xe,borderRadius:Xe,radius:Xe,borderTopLeftRadius:Xe,borderTopRightRadius:Xe,borderBottomRightRadius:Xe,borderBottomLeftRadius:Xe,width:Xe,maxWidth:Xe,height:Xe,maxHeight:Xe,top:Xe,right:Xe,bottom:Xe,left:Xe,padding:Xe,paddingTop:Xe,paddingRight:Xe,paddingBottom:Xe,paddingLeft:Xe,margin:Xe,marginTop:Xe,marginRight:Xe,marginBottom:Xe,marginLeft:Xe,backgroundPositionX:Xe,backgroundPositionY:Xe},aY={rotate:zo,rotateX:zo,rotateY:zo,rotateZ:zo,scale:um,scaleX:um,scaleY:um,scaleZ:um,skew:zo,skewX:zo,skewY:zo,distance:Xe,translateX:Xe,translateY:Xe,translateZ:Xe,x:Xe,y:Xe,z:Xe,perspective:Xe,transformPerspective:Xe,opacity:Gh,originX:_P,originY:_P,originZ:Xe},bP={...ld,transform:Math.round},aE={...oY,...aY,zIndex:bP,size:Xe,fillOpacity:Gh,strokeOpacity:Gh,numOctaves:bP},lY={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},cY=ad.length;function uY(t,e,n){let r="",s=!0;for(let i=0;i<cY;i++){const a=ad[i],l=t[a];if(l===void 0)continue;let u=!0;if(typeof l=="number"?u=l===(a.startsWith("scale")?1:0):u=parseFloat(l)===0,!u||n){const d=xL(l,aE[a]);if(!u){s=!1;const f=lY[a]||a;r+=`${f}(${d}) `}n&&(e[a]=d)}}return r=r.trim(),n?r=n(e,s?"":r):s&&(r="none"),r}function lE(t,e,n){const{style:r,vars:s,transformOrigin:i}=t;let a=!1,l=!1;for(const u in e){const d=e[u];if(Yl.has(u)){a=!0;continue}else if(bL(u)){s[u]=d;continue}else{const f=xL(d,aE[u]);u.startsWith("origin")?(l=!0,i[u]=f):r[u]=f}}if(e.transform||(a||n?r.transform=uY(e,t.transform,n):r.transform&&(r.transform="none")),l){const{originX:u="50%",originY:d="50%",originZ:f=0}=i;r.transformOrigin=`${u} ${d} ${f}`}}const dY={offset:"stroke-dashoffset",array:"stroke-dasharray"},hY={offset:"strokeDashoffset",array:"strokeDasharray"};function fY(t,e,n=1,r=0,s=!0){t.pathLength=1;const i=s?dY:hY;t[i.offset]=Xe.transform(-r);const a=Xe.transform(e),l=Xe.transform(n);t[i.array]=`${a} ${l}`}function xP(t,e,n){return typeof t=="string"?t:Xe.transform(e+n*t)}function pY(t,e,n){const r=xP(e,t.x,t.width),s=xP(n,t.y,t.height);return`${r} ${s}`}function cE(t,{attrX:e,attrY:n,attrScale:r,originX:s,originY:i,pathLength:a,pathSpacing:l=1,pathOffset:u=0,...d},f,g){if(lE(t,d,g),f){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:y,style:x,dimensions:I}=t;y.transform&&(I&&(x.transform=y.transform),delete y.transform),I&&(s!==void 0||i!==void 0||x.transform)&&(x.transformOrigin=pY(I,s!==void 0?s:.5,i!==void 0?i:.5)),e!==void 0&&(y.x=e),n!==void 0&&(y.y=n),r!==void 0&&(y.scale=r),a!==void 0&&fY(y,a,l,u,!1)}const uE=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),EL=()=>({...uE(),attrs:{}}),dE=t=>typeof t=="string"&&t.toLowerCase()==="svg";function TL(t,{style:e,vars:n},r,s){Object.assign(t.style,e,s&&s.getProjectionStyles(r));for(const i in n)t.style.setProperty(i,n[i])}const SL=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function IL(t,e,n,r){TL(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(SL.has(s)?s:nE(s),e.attrs[s])}const bg={};function mY(t){Object.assign(bg,t)}function CL(t,{layout:e,layoutId:n}){return Yl.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!bg[t]||t==="opacity")}function hE(t,e,n){var r;const{style:s}=t,i={};for(const a in s)(nr(s[a])||e.style&&nr(e.style[a])||CL(a,t)||((r=n?.getValue(a))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(i[a]=s[a]);return i}function AL(t,e,n){const r=hE(t,e,n);for(const s in t)if(nr(t[s])||nr(e[s])){const i=ad.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=t[s]}return r}function gY(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const EP=["x","y","width","height","cx","cy","r"],yY={useVisualState:wL({scrapeMotionValuesFromProps:AL,createRenderState:EL,onUpdate:({props:t,prevProps:e,current:n,renderState:r,latestValues:s})=>{if(!n)return;let i=!!t.drag;if(!i){for(const l in s)if(Yl.has(l)){i=!0;break}}if(!i)return;let a=!e;if(e)for(let l=0;l<EP.length;l++){const u=EP[l];t[u]!==e[u]&&(a=!0)}a&&zt.read(()=>{gY(n,r),zt.render(()=>{cE(r,s,dE(n.tagName),t.transformTemplate),IL(n,r)})})}})},vY={useVisualState:wL({scrapeMotionValuesFromProps:hE,createRenderState:uE})};function PL(t,e,n){for(const r in e)!nr(e[r])&&!CL(r,n)&&(t[r]=e[r])}function wY({transformTemplate:t},e){return T.useMemo(()=>{const n=uE();return lE(n,e,t),Object.assign({},n.vars,n.style)},[e])}function _Y(t,e){const n=t.style||{},r={};return PL(r,n,t),Object.assign(r,wY(t,e)),r}function bY(t,e){const n={},r=_Y(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}function xY(t,e,n,r){const s=T.useMemo(()=>{const i=EL();return cE(i,e,dE(r),t.transformTemplate),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};PL(i,t.style,t),s.style={...i,...s.style}}return s}function EY(t=!1){return(n,r,s,{latestValues:i},a)=>{const u=(sE(n)?xY:bY)(r,i,a,n),d=$Q(r,typeof n=="string",t),f=n!==T.Fragment?{...d,...u,ref:s}:{},{children:g}=r,y=T.useMemo(()=>nr(g)?g.get():g,[g]);return T.createElement(n,{...f,children:y})}}function TY(t,e){return function(r,{forwardMotionProps:s}={forwardMotionProps:!1}){const a={...sE(r)?yY:vY,preloadedFeatures:t,useRender:EY(s),createVisualElement:e,Component:r};return KQ(a)}}function RL(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function Cy(t,e,n){const r=t.getProps();return iE(r,e,n!==void 0?n:r.custom,t)}const SY=Jx(()=>window.ScrollTimeline!==void 0);class IY{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e,n){const r=this.animations.map(s=>{if(SY()&&s.attachTimeline)return s.attachTimeline(e);if(typeof n=="function")return n(s)});return()=>{r.forEach((s,i)=>{s&&s(),this.animations[i].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class CY extends IY{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function fE(t,e){return t?t[e]||t.default||t:void 0}const Ab=2e4;function kL(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Ab;)e+=n,r=t.next(e);return e>=Ab?1/0:e}function pE(t){return typeof t=="function"}function TP(t,e){t.timeline=e,t.onfinish=null}const mE=t=>Array.isArray(t)&&typeof t[0]=="number",AY={linearEasing:void 0};function PY(t,e){const n=Jx(t);return()=>{var r;return(r=AY[e])!==null&&r!==void 0?r:n()}}const xg=PY(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),DL=(t,e,n=10)=>{let r="";const s=Math.max(Math.round(e/n),2);for(let i=0;i<s;i++)r+=t(Du(0,s-1,i))+", ";return`linear(${r.substring(0,r.length-2)})`};function NL(t){return!!(typeof t=="function"&&xg()||!t||typeof t=="string"&&(t in Pb||xg())||mE(t)||Array.isArray(t)&&t.every(NL))}const lh=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,Pb={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:lh([0,.65,.55,1]),circOut:lh([.55,0,1,.45]),backIn:lh([.31,.01,.66,-.59]),backOut:lh([.33,1.53,.69,.99])};function OL(t,e){if(t)return typeof t=="function"&&xg()?DL(t,e):mE(t)?lh(t):Array.isArray(t)?t.map(n=>OL(n,e)||Pb.easeOut):Pb[t]}const Os={x:!1,y:!1};function VL(){return Os.x||Os.y}function RY(t,e,n){var r;if(t instanceof Element)return[t];if(typeof t=="string"){let s=document;const i=(r=void 0)!==null&&r!==void 0?r:s.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}function LL(t,e){const n=RY(t),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[n,s,()=>r.abort()]}function SP(t){return e=>{e.pointerType==="touch"||VL()||t(e)}}function kY(t,e,n={}){const[r,s,i]=LL(t,n),a=SP(l=>{const{target:u}=l,d=e(l);if(typeof d!="function"||!u)return;const f=SP(g=>{d(g),u.removeEventListener("pointerleave",f)});u.addEventListener("pointerleave",f,s)});return r.forEach(l=>{l.addEventListener("pointerenter",a,s)}),i}const ML=(t,e)=>e?t===e?!0:ML(t,e.parentElement):!1,gE=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,DY=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function NY(t){return DY.has(t.tagName)||t.tabIndex!==-1}const ch=new WeakSet;function IP(t){return e=>{e.key==="Enter"&&t(e)}}function Qw(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const OY=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=IP(()=>{if(ch.has(n))return;Qw(n,"down");const s=IP(()=>{Qw(n,"up")}),i=()=>Qw(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",i,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function CP(t){return gE(t)&&!VL()}function VY(t,e,n={}){const[r,s,i]=LL(t,n),a=l=>{const u=l.currentTarget;if(!CP(l)||ch.has(u))return;ch.add(u);const d=e(l),f=(x,I)=>{window.removeEventListener("pointerup",g),window.removeEventListener("pointercancel",y),!(!CP(x)||!ch.has(u))&&(ch.delete(u),typeof d=="function"&&d(x,{success:I}))},g=x=>{f(x,n.useGlobalTarget||ML(u,x.target))},y=x=>{f(x,!1)};window.addEventListener("pointerup",g,s),window.addEventListener("pointercancel",y,s)};return r.forEach(l=>{!NY(l)&&l.getAttribute("tabindex")===null&&(l.tabIndex=0),(n.useGlobalTarget?window:l).addEventListener("pointerdown",a,s),l.addEventListener("focus",d=>OY(d,s),s)}),i}function LY(t){return t==="x"||t==="y"?Os[t]?null:(Os[t]=!0,()=>{Os[t]=!1}):Os.x||Os.y?null:(Os.x=Os.y=!0,()=>{Os.x=Os.y=!1})}const $L=new Set(["width","height","top","left","right","bottom",...ad]);let Om;function MY(){Om=void 0}const fi={now:()=>(Om===void 0&&fi.set(Bn.isProcessing||DQ.useManualTiming?Bn.timestamp:performance.now()),Om),set:t=>{Om=t,queueMicrotask(MY)}};function yE(t,e){t.indexOf(e)===-1&&t.push(e)}function vE(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class wE{constructor(){this.subscriptions=[]}add(e){return yE(this.subscriptions,e),()=>vE(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let i=0;i<s;i++){const a=this.subscriptions[i];a&&a(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function jL(t,e){return e?t*(1e3/e):0}const AP=30,$Y=t=>!isNaN(parseFloat(t));class jY{constructor(e,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,s=!0)=>{const i=fi.now();this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=fi.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=$Y(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new wE);const r=this.events[e].add(n);return e==="change"?()=>{r(),zt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=fi.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>AP)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,AP);return jL(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Qh(t,e){return new jY(t,e)}function FY(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Qh(n))}function BY(t,e){const n=Cy(t,e);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const a in i){const l=JQ(i[a]);FY(t,a,l)}}function UY(t){return!!(nr(t)&&t.add)}function Rb(t,e){const n=t.getValue("willChange");if(UY(n))return n.add(e)}function FL(t){return t.props[gL]}const BL=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,zY=1e-7,WY=12;function HY(t,e,n,r,s){let i,a,l=0;do a=e+(n-e)/2,i=BL(a,r,s)-t,i>0?n=a:e=a;while(Math.abs(i)>zY&&++l<WY);return a}function If(t,e,n,r){if(t===e&&n===r)return Gr;const s=i=>HY(i,0,1,t,n);return i=>i===0||i===1?i:BL(s(i),e,r)}const UL=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,zL=t=>e=>1-t(1-e),WL=If(.33,1.53,.69,.99),_E=zL(WL),HL=UL(_E),qL=t=>(t*=2)<1?.5*_E(t):.5*(2-Math.pow(2,-10*(t-1))),bE=t=>1-Math.sin(Math.acos(t)),KL=zL(bE),GL=UL(bE),QL=t=>/^0[^.\s]+$/u.test(t);function qY(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||QL(t):!0}const _h=t=>Math.round(t*1e5)/1e5,xE=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function KY(t){return t==null}const GY=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,EE=(t,e)=>n=>!!(typeof n=="string"&&GY.test(n)&&n.startsWith(t)||e&&!KY(n)&&Object.prototype.hasOwnProperty.call(n,e)),YL=(t,e,n)=>r=>{if(typeof r!="string")return r;const[s,i,a,l]=r.match(xE);return{[t]:parseFloat(s),[e]:parseFloat(i),[n]:parseFloat(a),alpha:l!==void 0?parseFloat(l):1}},QY=t=>no(0,255,t),Yw={...ld,transform:t=>Math.round(QY(t))},pl={test:EE("rgb","red"),parse:YL("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Yw.transform(t)+", "+Yw.transform(e)+", "+Yw.transform(n)+", "+_h(Gh.transform(r))+")"};function YY(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const kb={test:EE("#"),parse:YY,transform:pl.transform},Jc={test:EE("hsl","hue"),parse:YL("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+hi.transform(_h(e))+", "+hi.transform(_h(n))+", "+_h(Gh.transform(r))+")"},tr={test:t=>pl.test(t)||kb.test(t)||Jc.test(t),parse:t=>pl.test(t)?pl.parse(t):Jc.test(t)?Jc.parse(t):kb.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?pl.transform(t):Jc.transform(t)},XY=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function ZY(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(xE))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(XY))===null||n===void 0?void 0:n.length)||0)>0}const XL="number",ZL="color",JY="var",eX="var(",PP="${}",tX=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Yh(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const l=e.replace(tX,u=>(tr.test(u)?(r.color.push(i),s.push(ZL),n.push(tr.parse(u))):u.startsWith(eX)?(r.var.push(i),s.push(JY),n.push(u)):(r.number.push(i),s.push(XL),n.push(parseFloat(u))),++i,PP)).split(PP);return{values:n,split:l,indexes:r,types:s}}function JL(t){return Yh(t).values}function eM(t){const{split:e,types:n}=Yh(t),r=e.length;return s=>{let i="";for(let a=0;a<r;a++)if(i+=e[a],s[a]!==void 0){const l=n[a];l===XL?i+=_h(s[a]):l===ZL?i+=tr.transform(s[a]):i+=s[a]}return i}}const nX=t=>typeof t=="number"?0:t;function rX(t){const e=JL(t);return eM(t)(e.map(nX))}const xa={test:ZY,parse:JL,createTransformer:eM,getAnimatableNone:rX},sX=new Set(["brightness","contrast","saturate","opacity"]);function iX(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(xE)||[];if(!r)return t;const s=n.replace(r,"");let i=sX.has(e)?1:0;return r!==n&&(i*=100),e+"("+i+s+")"}const oX=/\b([a-z-]*)\(.*?\)/gu,Db={...xa,getAnimatableNone:t=>{const e=t.match(oX);return e?e.map(iX).join(" "):t}},aX={...aE,color:tr,backgroundColor:tr,outlineColor:tr,fill:tr,stroke:tr,borderColor:tr,borderTopColor:tr,borderRightColor:tr,borderBottomColor:tr,borderLeftColor:tr,filter:Db,WebkitFilter:Db},TE=t=>aX[t];function tM(t,e){let n=TE(t);return n!==Db&&(n=xa),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const lX=new Set(["auto","none","0"]);function cX(t,e,n){let r=0,s;for(;r<t.length&&!s;){const i=t[r];typeof i=="string"&&!lX.has(i)&&Yh(i).values.length&&(s=t[r]),r++}if(s&&n)for(const i of e)t[i]=tM(n,s)}const RP=t=>t===ld||t===Xe,kP=(t,e)=>parseFloat(t.split(", ")[e]),DP=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/u);if(s)return kP(s[1],e);{const i=r.match(/^matrix\((.+)\)$/u);return i?kP(i[1],t):0}},uX=new Set(["x","y","z"]),dX=ad.filter(t=>!uX.has(t));function hX(t){const e=[];return dX.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Ou={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:DP(4,13),y:DP(5,14)};Ou.translateX=Ou.x;Ou.translateY=Ou.y;const wl=new Set;let Nb=!1,Ob=!1;function nM(){if(Ob){const t=Array.from(wl).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const s=hX(r);s.length&&(n.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,a])=>{var l;(l=r.getValue(i))===null||l===void 0||l.set(a)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Ob=!1,Nb=!1,wl.forEach(t=>t.complete()),wl.clear()}function rM(){wl.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Ob=!0)})}function fX(){rM(),nM()}class SE{constructor(e,n,r,s,i,a=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=a}scheduleResolve(){this.isScheduled=!0,this.isAsync?(wl.add(this),Nb||(Nb=!0,zt.read(rM),zt.resolveKeyframes(nM))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:s}=this;for(let i=0;i<e.length;i++)if(e[i]===null)if(i===0){const a=s?.get(),l=e[e.length-1];if(a!==void 0)e[0]=a;else if(r&&n){const u=r.readValue(n,l);u!=null&&(e[0]=u)}e[0]===void 0&&(e[0]=l),s&&a===void 0&&s.set(e[0])}else e[i]=e[i-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),wl.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,wl.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const sM=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),pX=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function mX(t){const e=pX.exec(t);if(!e)return[,];const[,n,r,s]=e;return[`--${n??r}`,s]}function iM(t,e,n=1){const[r,s]=mX(t);if(!r)return;const i=window.getComputedStyle(e).getPropertyValue(r);if(i){const a=i.trim();return sM(a)?parseFloat(a):a}return oE(s)?iM(s,e,n+1):s}const oM=t=>e=>e.test(t),gX={test:t=>t==="auto",parse:t=>t},aM=[ld,Xe,hi,zo,iY,sY,gX],NP=t=>aM.find(oM(t));class lM extends SE{constructor(e,n,r,s,i){super(e,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let u=0;u<e.length;u++){let d=e[u];if(typeof d=="string"&&(d=d.trim(),oE(d))){const f=iM(d,n.current);f!==void 0&&(e[u]=f),u===e.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!$L.has(r)||e.length!==2)return;const[s,i]=e,a=NP(s),l=NP(i);if(a!==l)if(RP(a)&&RP(l))for(let u=0;u<e.length;u++){const d=e[u];typeof d=="string"&&(e[u]=parseFloat(d))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let s=0;s<e.length;s++)qY(e[s])&&r.push(s);r.length&&cX(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ou[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:s}=this;if(!n||!n.current)return;const i=n.getValue(r);i&&i.jump(this.measuredOrigin,!1);const a=s.length-1,l=s[a];s[a]=Ou[r](n.measureViewportBox(),window.getComputedStyle(n.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([u,d])=>{n.getValue(u).set(d)}),this.resolveNoneKeyframes()}}const OP=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(xa.test(t)||t==="0")&&!t.startsWith("url("));function yX(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function vX(t,e,n,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const i=t[t.length-1],a=OP(s,e),l=OP(i,e);return!a||!l?!1:yX(t)||(n==="spring"||pE(n))&&r}const wX=t=>t!==null;function Ay(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter(wX),i=e&&n!=="loop"&&e%2===1?0:s.length-1;return!i||r===void 0?s[i]:r}const _X=40;class cM{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:a="loop",...l}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=fi.now(),this.options={autoplay:e,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:a,...l},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>_X?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&fX(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=fi.now(),this.hasAttemptedResolve=!0;const{name:r,type:s,velocity:i,delay:a,onComplete:l,onUpdate:u,isGenerator:d}=this.options;if(!d&&!vX(e,r,s,i))if(a)this.options.duration=0;else{u&&u(Ay(e,this.options,n)),l&&l(),this.resolveFinishedPromise();return}const f=this.initPlayback(e,n);f!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...f},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const en=(t,e,n)=>t+(e-t)*n;function Xw(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function bX({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,i=0,a=0;if(!e)s=i=a=n;else{const l=n<.5?n*(1+e):n+e-n*e,u=2*n-l;s=Xw(u,l,t+1/3),i=Xw(u,l,t),a=Xw(u,l,t-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(a*255),alpha:r}}function Eg(t,e){return n=>n>0?e:t}const Zw=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},xX=[kb,pl,Jc],EX=t=>xX.find(e=>e.test(t));function VP(t){const e=EX(t);if(!e)return!1;let n=e.parse(t);return e===Jc&&(n=bX(n)),n}const LP=(t,e)=>{const n=VP(t),r=VP(e);if(!n||!r)return Eg(t,e);const s={...n};return i=>(s.red=Zw(n.red,r.red,i),s.green=Zw(n.green,r.green,i),s.blue=Zw(n.blue,r.blue,i),s.alpha=en(n.alpha,r.alpha,i),pl.transform(s))},TX=(t,e)=>n=>e(t(n)),Cf=(...t)=>t.reduce(TX),Vb=new Set(["none","hidden"]);function SX(t,e){return Vb.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function IX(t,e){return n=>en(t,e,n)}function IE(t){return typeof t=="number"?IX:typeof t=="string"?oE(t)?Eg:tr.test(t)?LP:PX:Array.isArray(t)?uM:typeof t=="object"?tr.test(t)?LP:CX:Eg}function uM(t,e){const n=[...t],r=n.length,s=t.map((i,a)=>IE(i)(i,e[a]));return i=>{for(let a=0;a<r;a++)n[a]=s[a](i);return n}}function CX(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=IE(t[s])(t[s],e[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function AX(t,e){var n;const r=[],s={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const a=e.types[i],l=t.indexes[a][s[a]],u=(n=t.values[l])!==null&&n!==void 0?n:0;r[i]=u,s[a]++}return r}const PX=(t,e)=>{const n=xa.createTransformer(e),r=Yh(t),s=Yh(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?Vb.has(t)&&!s.values.length||Vb.has(e)&&!r.values.length?SX(t,e):Cf(uM(AX(r,s),s.values),n):Eg(t,e)};function dM(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?en(t,e,n):IE(t)(t,e)}const RX=5;function hM(t,e,n){const r=Math.max(e-RX,0);return jL(n-t(r),e-r)}const rn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Jw=.001;function kX({duration:t=rn.duration,bounce:e=rn.bounce,velocity:n=rn.velocity,mass:r=rn.mass}){let s,i,a=1-e;a=no(rn.minDamping,rn.maxDamping,a),t=no(rn.minDuration,rn.maxDuration,Yi(t)),a<1?(s=d=>{const f=d*a,g=f*t,y=f-n,x=Lb(d,a),I=Math.exp(-g);return Jw-y/x*I},i=d=>{const g=d*a*t,y=g*n+n,x=Math.pow(a,2)*Math.pow(d,2)*t,I=Math.exp(-g),E=Lb(Math.pow(d,2),a);return(-s(d)+Jw>0?-1:1)*((y-x)*I)/E}):(s=d=>{const f=Math.exp(-d*t),g=(d-n)*t+1;return-Jw+f*g},i=d=>{const f=Math.exp(-d*t),g=(n-d)*(t*t);return f*g});const l=5/t,u=NX(s,i,l);if(t=Qi(t),isNaN(u))return{stiffness:rn.stiffness,damping:rn.damping,duration:t};{const d=Math.pow(u,2)*r;return{stiffness:d,damping:a*2*Math.sqrt(r*d),duration:t}}}const DX=12;function NX(t,e,n){let r=n;for(let s=1;s<DX;s++)r=r-t(r)/e(r);return r}function Lb(t,e){return t*Math.sqrt(1-e*e)}const OX=["duration","bounce"],VX=["stiffness","damping","mass"];function MP(t,e){return e.some(n=>t[n]!==void 0)}function LX(t){let e={velocity:rn.velocity,stiffness:rn.stiffness,damping:rn.damping,mass:rn.mass,isResolvedFromDuration:!1,...t};if(!MP(t,VX)&&MP(t,OX))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,i=2*no(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:rn.mass,stiffness:s,damping:i}}else{const n=kX(t);e={...e,...n,mass:rn.mass},e.isResolvedFromDuration=!0}return e}function fM(t=rn.visualDuration,e=rn.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:s}=n;const i=n.keyframes[0],a=n.keyframes[n.keyframes.length-1],l={done:!1,value:i},{stiffness:u,damping:d,mass:f,duration:g,velocity:y,isResolvedFromDuration:x}=LX({...n,velocity:-Yi(n.velocity||0)}),I=y||0,E=d/(2*Math.sqrt(u*f)),S=a-i,k=Yi(Math.sqrt(u/f)),A=Math.abs(S)<5;r||(r=A?rn.restSpeed.granular:rn.restSpeed.default),s||(s=A?rn.restDelta.granular:rn.restDelta.default);let N;if(E<1){const j=Lb(k,E);N=G=>{const O=Math.exp(-E*k*G);return a-O*((I+E*k*S)/j*Math.sin(j*G)+S*Math.cos(j*G))}}else if(E===1)N=j=>a-Math.exp(-k*j)*(S+(I+k*S)*j);else{const j=k*Math.sqrt(E*E-1);N=G=>{const O=Math.exp(-E*k*G),P=Math.min(j*G,300);return a-O*((I+E*k*S)*Math.sinh(P)+j*S*Math.cosh(P))/j}}const B={calculatedDuration:x&&g||null,next:j=>{const G=N(j);if(x)l.done=j>=g;else{let O=0;E<1&&(O=j===0?Qi(I):hM(N,j,G));const P=Math.abs(O)<=r,D=Math.abs(a-G)<=s;l.done=P&&D}return l.value=l.done?a:G,l},toString:()=>{const j=Math.min(kL(B),Ab),G=DL(O=>B.next(j*O).value,j,30);return j+"ms "+G}};return B}function $P({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:a,min:l,max:u,restDelta:d=.5,restSpeed:f}){const g=t[0],y={done:!1,value:g},x=P=>l!==void 0&&P<l||u!==void 0&&P>u,I=P=>l===void 0?u:u===void 0||Math.abs(l-P)<Math.abs(u-P)?l:u;let E=n*e;const S=g+E,k=a===void 0?S:a(S);k!==S&&(E=k-g);const A=P=>-E*Math.exp(-P/r),N=P=>k+A(P),B=P=>{const D=A(P),M=N(P);y.done=Math.abs(D)<=d,y.value=y.done?k:M};let j,G;const O=P=>{x(y.value)&&(j=P,G=fM({keyframes:[y.value,I(y.value)],velocity:hM(N,P,y.value),damping:s,stiffness:i,restDelta:d,restSpeed:f}))};return O(0),{calculatedDuration:null,next:P=>{let D=!1;return!G&&j===void 0&&(D=!0,B(P),O(P)),j!==void 0&&P>=j?G.next(P-j):(!D&&B(P),y)}}}const MX=If(.42,0,1,1),$X=If(0,0,.58,1),pM=If(.42,0,.58,1),jX=t=>Array.isArray(t)&&typeof t[0]!="number",FX={linear:Gr,easeIn:MX,easeInOut:pM,easeOut:$X,circIn:bE,circInOut:GL,circOut:KL,backIn:_E,backInOut:HL,backOut:WL,anticipate:qL},jP=t=>{if(mE(t)){dL(t.length===4);const[e,n,r,s]=t;return If(e,n,r,s)}else if(typeof t=="string")return FX[t];return t};function BX(t,e,n){const r=[],s=n||dM,i=t.length-1;for(let a=0;a<i;a++){let l=s(t[a],t[a+1]);if(e){const u=Array.isArray(e)?e[a]||Gr:e;l=Cf(u,l)}r.push(l)}return r}function UX(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const i=t.length;if(dL(i===e.length),i===1)return()=>e[0];if(i===2&&e[0]===e[1])return()=>e[1];const a=t[0]===t[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const l=BX(e,r,s),u=l.length,d=f=>{if(a&&f<t[0])return e[0];let g=0;if(u>1)for(;g<t.length-2&&!(f<t[g+1]);g++);const y=Du(t[g],t[g+1],f);return l[g](y)};return n?f=>d(no(t[0],t[i-1],f)):d}function zX(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=Du(0,e,r);t.push(en(n,1,s))}}function WX(t){const e=[0];return zX(e,t.length-1),e}function HX(t,e){return t.map(n=>n*e)}function qX(t,e){return t.map(()=>e||pM).splice(0,t.length-1)}function Tg({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=jX(r)?r.map(jP):jP(r),i={done:!1,value:e[0]},a=HX(n&&n.length===e.length?n:WX(e),t),l=UX(a,e,{ease:Array.isArray(s)?s:qX(e,s)});return{calculatedDuration:t,next:u=>(i.value=l(u),i.done=u>=t,i)}}const KX=t=>{const e=({timestamp:n})=>t(n);return{start:()=>zt.update(e,!0),stop:()=>ba(e),now:()=>Bn.isProcessing?Bn.timestamp:fi.now()}},GX={decay:$P,inertia:$P,tween:Tg,keyframes:Tg,spring:fM},QX=t=>t/100;class CE extends cM{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:u}=this.options;u&&u()};const{name:n,motionValue:r,element:s,keyframes:i}=this.options,a=s?.KeyframeResolver||SE,l=(u,d)=>this.onKeyframesResolved(u,d);this.resolver=new a(i,l,n,r,s),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:a=0}=this.options,l=pE(n)?n:GX[n]||Tg;let u,d;l!==Tg&&typeof e[0]!="number"&&(u=Cf(QX,dM(e[0],e[1])),e=[0,100]);const f=l({...this.options,keyframes:e});i==="mirror"&&(d=l({...this.options,keyframes:[...e].reverse(),velocity:-a})),f.calculatedDuration===null&&(f.calculatedDuration=kL(f));const{calculatedDuration:g}=f,y=g+s,x=y*(r+1)-s;return{generator:f,mirroredGenerator:d,mapPercentToKeyframes:u,calculatedDuration:g,resolvedDuration:y,totalDuration:x}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:P}=this.options;return{done:!0,value:P[P.length-1]}}const{finalKeyframe:s,generator:i,mirroredGenerator:a,mapPercentToKeyframes:l,keyframes:u,calculatedDuration:d,totalDuration:f,resolvedDuration:g}=r;if(this.startTime===null)return i.next(0);const{delay:y,repeat:x,repeatType:I,repeatDelay:E,onUpdate:S}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-f/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const k=this.currentTime-y*(this.speed>=0?1:-1),A=this.speed>=0?k<0:k>f;this.currentTime=Math.max(k,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=f);let N=this.currentTime,B=i;if(x){const P=Math.min(this.currentTime,f)/g;let D=Math.floor(P),M=P%1;!M&&P>=1&&(M=1),M===1&&D--,D=Math.min(D,x+1),D%2&&(I==="reverse"?(M=1-M,E&&(M-=E/g)):I==="mirror"&&(B=a)),N=no(0,1,M)*g}const j=A?{done:!1,value:u[0]}:B.next(N);l&&(j.value=l(j.value));let{done:G}=j;!A&&d!==null&&(G=this.speed>=0?this.currentTime>=f:this.currentTime<=0);const O=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&G);return O&&s!==void 0&&(j.value=Ay(u,this.options,s)),S&&S(j.value),O&&this.finish(),j}get duration(){const{resolved:e}=this;return e?Yi(e.calculatedDuration):0}get time(){return Yi(this.currentTime)}set time(e){e=Qi(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Yi(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=KX,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(i=>this.tick(i))),n&&n();const s=this.driver.now();this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=s):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const YX=new Set(["opacity","clipPath","filter","transform"]);function XX(t,e,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:a="loop",ease:l="easeInOut",times:u}={}){const d={[e]:n};u&&(d.offset=u);const f=OL(l,s);return Array.isArray(f)&&(d.easing=f),t.animate(d,{delay:r,duration:s,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:i+1,direction:a==="reverse"?"alternate":"normal"})}const ZX=Jx(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Sg=10,JX=2e4;function eZ(t){return pE(t.type)||t.type==="spring"||!NL(t.ease)}function tZ(t,e){const n=new CE({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const s=[];let i=0;for(;!r.done&&i<JX;)r=n.sample(i),s.push(r.value),i+=Sg;return{times:void 0,keyframes:s,duration:i-Sg,ease:"linear"}}const mM={anticipate:qL,backInOut:HL,circInOut:GL};function nZ(t){return t in mM}class FP extends cM{constructor(e){super(e);const{name:n,motionValue:r,element:s,keyframes:i}=this.options;this.resolver=new lM(i,(a,l)=>this.onKeyframesResolved(a,l),n,r,s),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:r=300,times:s,ease:i,type:a,motionValue:l,name:u,startTime:d}=this.options;if(!l.owner||!l.owner.current)return!1;if(typeof i=="string"&&xg()&&nZ(i)&&(i=mM[i]),eZ(this.options)){const{onComplete:g,onUpdate:y,motionValue:x,element:I,...E}=this.options,S=tZ(e,E);e=S.keyframes,e.length===1&&(e[1]=e[0]),r=S.duration,s=S.times,i=S.ease,a="keyframes"}const f=XX(l.owner.current,u,e,{...this.options,duration:r,times:s,ease:i});return f.startTime=d??this.calcStartTime(),this.pendingTimeline?(TP(f,this.pendingTimeline),this.pendingTimeline=void 0):f.onfinish=()=>{const{onComplete:g}=this.options;l.set(Ay(e,this.options,n)),g&&g(),this.cancel(),this.resolveFinishedPromise()},{animation:f,duration:r,times:s,type:a,ease:i,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return Yi(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return Yi(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=Qi(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return Gr;const{animation:r}=n;TP(r,e)}return Gr}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:s,type:i,ease:a,times:l}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:d,onUpdate:f,onComplete:g,element:y,...x}=this.options,I=new CE({...x,keyframes:r,duration:s,type:i,ease:a,times:l,isGenerator:!0}),E=Qi(this.time);d.setWithVelocity(I.sample(E-Sg).value,I.sample(E).value,Sg)}const{onStop:u}=this.options;u&&u(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:s,repeatType:i,damping:a,type:l}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:u,transformTemplate:d}=n.owner.getProps();return ZX()&&r&&YX.has(r)&&!u&&!d&&!s&&i!=="mirror"&&a!==0&&l!=="inertia"}}const rZ={type:"spring",stiffness:500,damping:25,restSpeed:10},sZ=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),iZ={type:"keyframes",duration:.8},oZ={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},aZ=(t,{keyframes:e})=>e.length>2?iZ:Yl.has(t)?t.startsWith("scale")?sZ(e[1]):rZ:oZ;function lZ({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:a,repeatDelay:l,from:u,elapsed:d,...f}){return!!Object.keys(f).length}const AE=(t,e,n,r={},s,i)=>a=>{const l=fE(r,t)||{},u=l.delay||r.delay||0;let{elapsed:d=0}=r;d=d-Qi(u);let f={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...l,delay:-d,onUpdate:y=>{e.set(y),l.onUpdate&&l.onUpdate(y)},onComplete:()=>{a(),l.onComplete&&l.onComplete()},name:t,motionValue:e,element:i?void 0:s};lZ(l)||(f={...f,...aZ(t,f)}),f.duration&&(f.duration=Qi(f.duration)),f.repeatDelay&&(f.repeatDelay=Qi(f.repeatDelay)),f.from!==void 0&&(f.keyframes[0]=f.from);let g=!1;if((f.type===!1||f.duration===0&&!f.repeatDelay)&&(f.duration=0,f.delay===0&&(g=!0)),g&&!i&&e.get()!==void 0){const y=Ay(f.keyframes,l);if(y!==void 0)return zt.update(()=>{f.onUpdate(y),f.onComplete()}),new CY([])}return!i&&FP.supports(f)?new FP(f):new CE(f)};function cZ({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function gM(t,e,{delay:n=0,transitionOverride:r,type:s}={}){var i;let{transition:a=t.getDefaultTransition(),transitionEnd:l,...u}=e;r&&(a=r);const d=[],f=s&&t.animationState&&t.animationState.getState()[s];for(const g in u){const y=t.getValue(g,(i=t.latestValues[g])!==null&&i!==void 0?i:null),x=u[g];if(x===void 0||f&&cZ(f,g))continue;const I={delay:n,...fE(a||{},g)};let E=!1;if(window.MotionHandoffAnimation){const k=FL(t);if(k){const A=window.MotionHandoffAnimation(k,g,zt);A!==null&&(I.startTime=A,E=!0)}}Rb(t,g),y.start(AE(g,y,x,t.shouldReduceMotion&&$L.has(g)?{type:!1}:I,t,E));const S=y.animation;S&&d.push(S)}return l&&Promise.all(d).then(()=>{zt.update(()=>{l&&BY(t,l)})}),d}function Mb(t,e,n={}){var r;const s=Cy(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(i=n.transitionOverride);const a=s?()=>Promise.all(gM(t,s,n)):()=>Promise.resolve(),l=t.variantChildren&&t.variantChildren.size?(d=0)=>{const{delayChildren:f=0,staggerChildren:g,staggerDirection:y}=i;return uZ(t,e,f+d,g,y,n)}:()=>Promise.resolve(),{when:u}=i;if(u){const[d,f]=u==="beforeChildren"?[a,l]:[l,a];return d().then(()=>f())}else return Promise.all([a(),l(n.delay)])}function uZ(t,e,n=0,r=0,s=1,i){const a=[],l=(t.variantChildren.size-1)*r,u=s===1?(d=0)=>d*r:(d=0)=>l-d*r;return Array.from(t.variantChildren).sort(dZ).forEach((d,f)=>{d.notify("AnimationStart",e),a.push(Mb(d,e,{...i,delay:n+u(f)}).then(()=>d.notify("AnimationComplete",e)))}),Promise.all(a)}function dZ(t,e){return t.sortNodePosition(e)}function hZ(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(i=>Mb(t,i,n));r=Promise.all(s)}else if(typeof e=="string")r=Mb(t,e,n);else{const s=typeof e=="function"?Cy(t,e,n.custom):e;r=Promise.all(gM(t,s,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const fZ=tE.length;function yM(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?yM(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<fZ;n++){const r=tE[n],s=t.props[r];(Kh(s)||s===!1)&&(e[r]=s)}return e}const pZ=[...eE].reverse(),mZ=eE.length;function gZ(t){return e=>Promise.all(e.map(({animation:n,options:r})=>hZ(t,n,r)))}function yZ(t){let e=gZ(t),n=BP(),r=!0;const s=u=>(d,f)=>{var g;const y=Cy(t,f,u==="exit"?(g=t.presenceContext)===null||g===void 0?void 0:g.custom:void 0);if(y){const{transition:x,transitionEnd:I,...E}=y;d={...d,...E,...I}}return d};function i(u){e=u(t)}function a(u){const{props:d}=t,f=yM(t.parent)||{},g=[],y=new Set;let x={},I=1/0;for(let S=0;S<mZ;S++){const k=pZ[S],A=n[k],N=d[k]!==void 0?d[k]:f[k],B=Kh(N),j=k===u?A.isActive:null;j===!1&&(I=S);let G=N===f[k]&&N!==d[k]&&B;if(G&&r&&t.manuallyAnimateOnMount&&(G=!1),A.protectedKeys={...x},!A.isActive&&j===null||!N&&!A.prevProp||Sy(N)||typeof N=="boolean")continue;const O=vZ(A.prevProp,N);let P=O||k===u&&A.isActive&&!G&&B||S>I&&B,D=!1;const M=Array.isArray(N)?N:[N];let F=M.reduce(s(k),{});j===!1&&(F={});const{prevResolvedValues:$={}}=A,V={...$,...F},ne=me=>{P=!0,y.has(me)&&(D=!0,y.delete(me)),A.needsAnimating[me]=!0;const Z=t.getValue(me);Z&&(Z.liveStyle=!1)};for(const me in V){const Z=F[me],ce=$[me];if(x.hasOwnProperty(me))continue;let ue=!1;Cb(Z)&&Cb(ce)?ue=!RL(Z,ce):ue=Z!==ce,ue?Z!=null?ne(me):y.add(me):Z!==void 0&&y.has(me)?ne(me):A.protectedKeys[me]=!0}A.prevProp=N,A.prevResolvedValues=F,A.isActive&&(x={...x,...F}),r&&t.blockInitialAnimation&&(P=!1),P&&(!(G&&O)||D)&&g.push(...M.map(me=>({animation:me,options:{type:k}})))}if(y.size){const S={};y.forEach(k=>{const A=t.getBaseTarget(k),N=t.getValue(k);N&&(N.liveStyle=!0),S[k]=A??null}),g.push({animation:S})}let E=!!g.length;return r&&(d.initial===!1||d.initial===d.animate)&&!t.manuallyAnimateOnMount&&(E=!1),r=!1,E?e(g):Promise.resolve()}function l(u,d){var f;if(n[u].isActive===d)return Promise.resolve();(f=t.variantChildren)===null||f===void 0||f.forEach(y=>{var x;return(x=y.animationState)===null||x===void 0?void 0:x.setActive(u,d)}),n[u].isActive=d;const g=a(u);for(const y in n)n[y].protectedKeys={};return g}return{animateChanges:a,setActive:l,setAnimateFunction:i,getState:()=>n,reset:()=>{n=BP(),r=!0}}}function vZ(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!RL(e,t):!1}function nl(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function BP(){return{animate:nl(!0),whileInView:nl(),whileHover:nl(),whileTap:nl(),whileDrag:nl(),whileFocus:nl(),exit:nl()}}class Aa{constructor(e){this.isMounted=!1,this.node=e}update(){}}class wZ extends Aa{constructor(e){super(e),e.animationState||(e.animationState=yZ(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Sy(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let _Z=0;class bZ extends Aa{constructor(){super(...arguments),this.id=_Z++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const xZ={animation:{Feature:wZ},exit:{Feature:bZ}};function Xh(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Af(t){return{point:{x:t.pageX,y:t.pageY}}}const EZ=t=>e=>gE(e)&&t(e,Af(e));function bh(t,e,n,r){return Xh(t,e,EZ(n),r)}const UP=(t,e)=>Math.abs(t-e);function TZ(t,e){const n=UP(t.x,e.x),r=UP(t.y,e.y);return Math.sqrt(n**2+r**2)}class vM{constructor(e,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=t_(this.lastMoveEventInfo,this.history),y=this.startEvent!==null,x=TZ(g.offset,{x:0,y:0})>=3;if(!y&&!x)return;const{point:I}=g,{timestamp:E}=Bn;this.history.push({...I,timestamp:E});const{onStart:S,onMove:k}=this.handlers;y||(S&&S(this.lastMoveEvent,g),this.startEvent=this.lastMoveEvent),k&&k(this.lastMoveEvent,g)},this.handlePointerMove=(g,y)=>{this.lastMoveEvent=g,this.lastMoveEventInfo=e_(y,this.transformPagePoint),zt.update(this.updatePoint,!0)},this.handlePointerUp=(g,y)=>{this.end();const{onEnd:x,onSessionEnd:I,resumeAnimation:E}=this.handlers;if(this.dragSnapToOrigin&&E&&E(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=t_(g.type==="pointercancel"?this.lastMoveEventInfo:e_(y,this.transformPagePoint),this.history);this.startEvent&&x&&x(g,S),I&&I(g,S)},!gE(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const a=Af(e),l=e_(a,this.transformPagePoint),{point:u}=l,{timestamp:d}=Bn;this.history=[{...u,timestamp:d}];const{onSessionStart:f}=n;f&&f(e,t_(l,this.history)),this.removeListeners=Cf(bh(this.contextWindow,"pointermove",this.handlePointerMove),bh(this.contextWindow,"pointerup",this.handlePointerUp),bh(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),ba(this.updatePoint)}}function e_(t,e){return e?{point:e(t.point)}:t}function zP(t,e){return{x:t.x-e.x,y:t.y-e.y}}function t_({point:t},e){return{point:t,delta:zP(t,wM(e)),offset:zP(t,SZ(e)),velocity:IZ(e,.1)}}function SZ(t){return t[0]}function wM(t){return t[t.length-1]}function IZ(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=wM(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>Qi(e)));)n--;if(!r)return{x:0,y:0};const i=Yi(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const a={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}const _M=1e-4,CZ=1-_M,AZ=1+_M,bM=.01,PZ=0-bM,RZ=0+bM;function Yr(t){return t.max-t.min}function kZ(t,e,n){return Math.abs(t-e)<=n}function WP(t,e,n,r=.5){t.origin=r,t.originPoint=en(e.min,e.max,t.origin),t.scale=Yr(n)/Yr(e),t.translate=en(n.min,n.max,t.origin)-t.originPoint,(t.scale>=CZ&&t.scale<=AZ||isNaN(t.scale))&&(t.scale=1),(t.translate>=PZ&&t.translate<=RZ||isNaN(t.translate))&&(t.translate=0)}function xh(t,e,n,r){WP(t.x,e.x,n.x,r?r.originX:void 0),WP(t.y,e.y,n.y,r?r.originY:void 0)}function HP(t,e,n){t.min=n.min+e.min,t.max=t.min+Yr(e)}function DZ(t,e,n){HP(t.x,e.x,n.x),HP(t.y,e.y,n.y)}function qP(t,e,n){t.min=e.min-n.min,t.max=t.min+Yr(e)}function Eh(t,e,n){qP(t.x,e.x,n.x),qP(t.y,e.y,n.y)}function NZ(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?en(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?en(n,t,r.max):Math.min(t,n)),t}function KP(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function OZ(t,{top:e,left:n,bottom:r,right:s}){return{x:KP(t.x,n,s),y:KP(t.y,e,r)}}function GP(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function VZ(t,e){return{x:GP(t.x,e.x),y:GP(t.y,e.y)}}function LZ(t,e){let n=.5;const r=Yr(t),s=Yr(e);return s>r?n=Du(e.min,e.max-r,t.min):r>s&&(n=Du(t.min,t.max-s,e.min)),no(0,1,n)}function MZ(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const $b=.35;function $Z(t=$b){return t===!1?t=0:t===!0&&(t=$b),{x:QP(t,"left","right"),y:QP(t,"top","bottom")}}function QP(t,e,n){return{min:YP(t,e),max:YP(t,n)}}function YP(t,e){return typeof t=="number"?t:t[e]||0}const XP=()=>({translate:0,scale:1,origin:0,originPoint:0}),eu=()=>({x:XP(),y:XP()}),ZP=()=>({min:0,max:0}),ln=()=>({x:ZP(),y:ZP()});function fs(t){return[t("x"),t("y")]}function xM({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function jZ({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function FZ(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function n_(t){return t===void 0||t===1}function jb({scale:t,scaleX:e,scaleY:n}){return!n_(t)||!n_(e)||!n_(n)}function il(t){return jb(t)||EM(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function EM(t){return JP(t.x)||JP(t.y)}function JP(t){return t&&t!=="0%"}function Ig(t,e,n){const r=t-n,s=e*r;return n+s}function eR(t,e,n,r,s){return s!==void 0&&(t=Ig(t,s,r)),Ig(t,n,r)+e}function Fb(t,e=0,n=1,r,s){t.min=eR(t.min,e,n,r,s),t.max=eR(t.max,e,n,r,s)}function TM(t,{x:e,y:n}){Fb(t.x,e.translate,e.scale,e.originPoint),Fb(t.y,n.translate,n.scale,n.originPoint)}const tR=.999999999999,nR=1.0000000000001;function BZ(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let i,a;for(let l=0;l<s;l++){i=n[l],a=i.projectionDelta;const{visualElement:u}=i.options;u&&u.props.style&&u.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&nu(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,TM(t,a)),r&&il(i.latestValues)&&nu(t,i.latestValues))}e.x<nR&&e.x>tR&&(e.x=1),e.y<nR&&e.y>tR&&(e.y=1)}function tu(t,e){t.min=t.min+e,t.max=t.max+e}function rR(t,e,n,r,s=.5){const i=en(t.min,t.max,s);Fb(t,e,n,i,r)}function nu(t,e){rR(t.x,e.x,e.scaleX,e.scale,e.originX),rR(t.y,e.y,e.scaleY,e.scale,e.originY)}function SM(t,e){return xM(FZ(t.getBoundingClientRect(),e))}function UZ(t,e,n){const r=SM(t,n),{scroll:s}=e;return s&&(tu(r.x,s.offset.x),tu(r.y,s.offset.y)),r}const IM=({current:t})=>t?t.ownerDocument.defaultView:null,zZ=new WeakMap;class WZ{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ln(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=f=>{const{dragSnapToOrigin:g}=this.getProps();g?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Af(f).point)},i=(f,g)=>{const{drag:y,dragPropagation:x,onDragStart:I}=this.getProps();if(y&&!x&&(this.openDragLock&&this.openDragLock(),this.openDragLock=LY(y),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),fs(S=>{let k=this.getAxisMotionValue(S).get()||0;if(hi.test(k)){const{projection:A}=this.visualElement;if(A&&A.layout){const N=A.layout.layoutBox[S];N&&(k=Yr(N)*(parseFloat(k)/100))}}this.originPoint[S]=k}),I&&zt.postRender(()=>I(f,g)),Rb(this.visualElement,"transform");const{animationState:E}=this.visualElement;E&&E.setActive("whileDrag",!0)},a=(f,g)=>{const{dragPropagation:y,dragDirectionLock:x,onDirectionLock:I,onDrag:E}=this.getProps();if(!y&&!this.openDragLock)return;const{offset:S}=g;if(x&&this.currentDirection===null){this.currentDirection=HZ(S),this.currentDirection!==null&&I&&I(this.currentDirection);return}this.updateAxis("x",g.point,S),this.updateAxis("y",g.point,S),this.visualElement.render(),E&&E(f,g)},l=(f,g)=>this.stop(f,g),u=()=>fs(f=>{var g;return this.getAnimationState(f)==="paused"&&((g=this.getAxisMotionValue(f).animation)===null||g===void 0?void 0:g.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new vM(e,{onSessionStart:s,onStart:i,onMove:a,onSessionEnd:l,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,contextWindow:IM(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:i}=this.getProps();i&&zt.postRender(()=>i(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!dm(e,s,this.currentDirection))return;const i=this.getAxisMotionValue(e);let a=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(a=NZ(a,this.constraints[e],this.elastic[e])),i.set(a)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,i=this.constraints;n&&Zc(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=OZ(s.layoutBox,n):this.constraints=!1,this.elastic=$Z(r),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&fs(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=MZ(s.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Zc(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=UZ(r,s.root,this.visualElement.getTransformPagePoint());let a=VZ(s.layout.layoutBox,i);if(n){const l=n(jZ(a));this.hasMutatedConstraints=!!l,l&&(a=xM(l))}return a}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:a,onDragTransitionEnd:l}=this.getProps(),u=this.constraints||{},d=fs(f=>{if(!dm(f,n,this.currentDirection))return;let g=u&&u[f]||{};a&&(g={min:0,max:0});const y=s?200:1e6,x=s?40:1e7,I={type:"inertia",velocity:r?e[f]:0,bounceStiffness:y,bounceDamping:x,timeConstant:750,restDelta:1,restSpeed:10,...i,...g};return this.startAxisValueAnimation(f,I)});return Promise.all(d).then(l)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return Rb(this.visualElement,e),r.start(AE(e,r,0,n,this.visualElement,!1))}stopAnimation(){fs(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){fs(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){fs(n=>{const{drag:r}=this.getProps();if(!dm(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:a,max:l}=s.layout.layoutBox[n];i.set(e[n]-en(a,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Zc(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};fs(a=>{const l=this.getAxisMotionValue(a);if(l&&this.constraints!==!1){const u=l.get();s[a]=LZ({min:u,max:u},this.constraints[a])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),fs(a=>{if(!dm(a,e,null))return;const l=this.getAxisMotionValue(a),{min:u,max:d}=this.constraints[a];l.set(en(u,d,s[a]))})}addListeners(){if(!this.visualElement.current)return;zZ.set(this.visualElement,this);const e=this.visualElement.current,n=bh(e,"pointerdown",u=>{const{drag:d,dragListener:f=!0}=this.getProps();d&&f&&this.start(u)}),r=()=>{const{dragConstraints:u}=this.getProps();Zc(u)&&u.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),zt.read(r);const a=Xh(window,"resize",()=>this.scalePositionWithinConstraints()),l=s.addEventListener("didUpdate",(({delta:u,hasLayoutChanged:d})=>{this.isDragging&&d&&(fs(f=>{const g=this.getAxisMotionValue(f);g&&(this.originPoint[f]+=u[f].translate,g.set(g.get()+u[f].translate))}),this.visualElement.render())}));return()=>{a(),n(),i(),l&&l()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:a=$b,dragMomentum:l=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:a,dragMomentum:l}}}function dm(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function HZ(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class qZ extends Aa{constructor(e){super(e),this.removeGroupControls=Gr,this.removeListeners=Gr,this.controls=new WZ(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Gr}unmount(){this.removeGroupControls(),this.removeListeners()}}const sR=t=>(e,n)=>{t&&zt.postRender(()=>t(e,n))};class KZ extends Aa{constructor(){super(...arguments),this.removePointerDownListener=Gr}onPointerDown(e){this.session=new vM(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:IM(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:sR(e),onStart:sR(n),onMove:r,onEnd:(i,a)=>{delete this.session,s&&zt.postRender(()=>s(i,a))}}}mount(){this.removePointerDownListener=bh(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Vm={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function iR(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Jd={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Xe.test(t))t=parseFloat(t);else return t;const n=iR(t,e.target.x),r=iR(t,e.target.y);return`${n}% ${r}%`}},GZ={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=xa.parse(t);if(s.length>5)return r;const i=xa.createTransformer(t),a=typeof s[0]!="number"?1:0,l=n.x.scale*e.x,u=n.y.scale*e.y;s[0+a]/=l,s[1+a]/=u;const d=en(l,u,.5);return typeof s[2+a]=="number"&&(s[2+a]/=d),typeof s[3+a]=="number"&&(s[3+a]/=d),i(s)}};class QZ extends T.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=e;mY(YZ),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Vm.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,a=r.projection;return a&&(a.isPresent=i,s||e.layoutDependency!==n||n===void 0?a.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?a.promote():a.relegate()||zt.postRender(()=>{const l=a.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),rE.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function CM(t){const[e,n]=RQ(),r=T.useContext(cL);return v.jsx(QZ,{...t,layoutGroup:r,switchLayoutGroup:T.useContext(yL),isPresent:e,safeToRemove:n})}const YZ={borderRadius:{...Jd,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Jd,borderTopRightRadius:Jd,borderBottomLeftRadius:Jd,borderBottomRightRadius:Jd,boxShadow:GZ};function XZ(t,e,n){const r=nr(t)?t:Qh(t);return r.start(AE("",r,e,n)),r.animation}function ZZ(t){return t instanceof SVGElement&&t.tagName!=="svg"}const JZ=(t,e)=>t.depth-e.depth;class eJ{constructor(){this.children=[],this.isDirty=!1}add(e){yE(this.children,e),this.isDirty=!0}remove(e){vE(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(JZ),this.isDirty=!1,this.children.forEach(e)}}function tJ(t,e){const n=fi.now(),r=({timestamp:s})=>{const i=s-n;i>=e&&(ba(r),t(i-e))};return zt.read(r,!0),()=>ba(r)}const AM=["TopLeft","TopRight","BottomLeft","BottomRight"],nJ=AM.length,oR=t=>typeof t=="string"?parseFloat(t):t,aR=t=>typeof t=="number"||Xe.test(t);function rJ(t,e,n,r,s,i){s?(t.opacity=en(0,n.opacity!==void 0?n.opacity:1,sJ(r)),t.opacityExit=en(e.opacity!==void 0?e.opacity:1,0,iJ(r))):i&&(t.opacity=en(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let a=0;a<nJ;a++){const l=`border${AM[a]}Radius`;let u=lR(e,l),d=lR(n,l);if(u===void 0&&d===void 0)continue;u||(u=0),d||(d=0),u===0||d===0||aR(u)===aR(d)?(t[l]=Math.max(en(oR(u),oR(d),r),0),(hi.test(d)||hi.test(u))&&(t[l]+="%")):t[l]=d}(e.rotate||n.rotate)&&(t.rotate=en(e.rotate||0,n.rotate||0,r))}function lR(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const sJ=PM(0,.5,KL),iJ=PM(.5,.95,Gr);function PM(t,e,n){return r=>r<t?0:r>e?1:n(Du(t,e,r))}function cR(t,e){t.min=e.min,t.max=e.max}function hs(t,e){cR(t.x,e.x),cR(t.y,e.y)}function uR(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function dR(t,e,n,r,s){return t-=e,t=Ig(t,1/n,r),s!==void 0&&(t=Ig(t,1/s,r)),t}function oJ(t,e=0,n=1,r=.5,s,i=t,a=t){if(hi.test(e)&&(e=parseFloat(e),e=en(a.min,a.max,e/100)-a.min),typeof e!="number")return;let l=en(i.min,i.max,r);t===i&&(l-=e),t.min=dR(t.min,e,n,l,s),t.max=dR(t.max,e,n,l,s)}function hR(t,e,[n,r,s],i,a){oJ(t,e[n],e[r],e[s],e.scale,i,a)}const aJ=["x","scaleX","originX"],lJ=["y","scaleY","originY"];function fR(t,e,n,r){hR(t.x,e,aJ,n?n.x:void 0,r?r.x:void 0),hR(t.y,e,lJ,n?n.y:void 0,r?r.y:void 0)}function pR(t){return t.translate===0&&t.scale===1}function RM(t){return pR(t.x)&&pR(t.y)}function mR(t,e){return t.min===e.min&&t.max===e.max}function cJ(t,e){return mR(t.x,e.x)&&mR(t.y,e.y)}function gR(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function kM(t,e){return gR(t.x,e.x)&&gR(t.y,e.y)}function yR(t){return Yr(t.x)/Yr(t.y)}function vR(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class uJ{constructor(){this.members=[]}add(e){yE(this.members,e),e.scheduleRender()}remove(e){if(vE(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function dJ(t,e,n){let r="";const s=t.x.translate/e.x,i=t.y.translate/e.y,a=n?.z||0;if((s||i||a)&&(r=`translate3d(${s}px, ${i}px, ${a}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:d,rotate:f,rotateX:g,rotateY:y,skewX:x,skewY:I}=n;d&&(r=`perspective(${d}px) ${r}`),f&&(r+=`rotate(${f}deg) `),g&&(r+=`rotateX(${g}deg) `),y&&(r+=`rotateY(${y}deg) `),x&&(r+=`skewX(${x}deg) `),I&&(r+=`skewY(${I}deg) `)}const l=t.x.scale*e.x,u=t.y.scale*e.y;return(l!==1||u!==1)&&(r+=`scale(${l}, ${u})`),r||"none"}const ol={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},uh=typeof window<"u"&&window.MotionDebug!==void 0,r_=["","X","Y","Z"],hJ={visibility:"hidden"},wR=1e3;let fJ=0;function s_(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function DM(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=FL(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",zt,!(s||i))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&DM(r)}function NM({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(a={},l=e?.()){this.id=fJ++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,uh&&(ol.totalNodes=ol.resolvedTargetDeltas=ol.recalculatedProjection=0),this.nodes.forEach(gJ),this.nodes.forEach(bJ),this.nodes.forEach(xJ),this.nodes.forEach(yJ),uh&&window.MotionDebug.record(ol)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new eJ)}addEventListener(a,l){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new wE),this.eventHandlers.get(a).add(l)}notifyListeners(a,...l){const u=this.eventHandlers.get(a);u&&u.notify(...l)}hasListeners(a){return this.eventHandlers.has(a)}mount(a,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=ZZ(a),this.instance=a;const{layoutId:u,layout:d,visualElement:f}=this.options;if(f&&!f.current&&f.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(d||u)&&(this.isLayoutDirty=!0),t){let g;const y=()=>this.root.updateBlockedByResize=!1;t(a,()=>{this.root.updateBlockedByResize=!0,g&&g(),g=tJ(y,250),Vm.hasAnimatedSinceResize&&(Vm.hasAnimatedSinceResize=!1,this.nodes.forEach(bR))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&f&&(u||d)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:y,hasRelativeTargetChanged:x,layout:I})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const E=this.options.transition||f.getDefaultTransition()||CJ,{onLayoutAnimationStart:S,onLayoutAnimationComplete:k}=f.getProps(),A=!this.targetLayout||!kM(this.targetLayout,I)||x,N=!y&&x;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||N||y&&(A||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(g,N);const B={...fE(E,"layout"),onPlay:S,onComplete:k};(f.shouldReduceMotion||this.options.layoutRoot)&&(B.delay=0,B.type=!1),this.startAnimation(B)}else y||bR(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=I})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,ba(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(EJ),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&DM(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let f=0;f<this.path.length;f++){const g=this.path[f];g.shouldResetTransform=!0,g.updateScroll("snapshot"),g.options.layoutRoot&&g.willUpdate(!1)}const{layoutId:l,layout:u}=this.options;if(l===void 0&&!u)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(_R);return}this.isUpdating||this.nodes.forEach(wJ),this.isUpdating=!1,this.nodes.forEach(_J),this.nodes.forEach(pJ),this.nodes.forEach(mJ),this.clearAllSnapshots();const l=fi.now();Bn.delta=no(0,1e3/60,l-Bn.timestamp),Bn.timestamp=l,Bn.isProcessing=!0,Gw.update.process(Bn),Gw.preRender.process(Bn),Gw.render.process(Bn),Bn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,rE.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(vJ),this.sharedNodes.forEach(TJ)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,zt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){zt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ln(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(l=!1),l){const u=r(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:u,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:u}}}resetTransform(){if(!s)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!RM(this.projectionDelta),u=this.getTransformTemplate(),d=u?u(this.latestValues,""):void 0,f=d!==this.prevTransformTemplateValue;a&&(l||il(this.latestValues)||f)&&(s(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const l=this.measurePageBox();let u=this.removeElementScroll(l);return a&&(u=this.removeTransform(u)),AJ(u),{animationId:this.root.animationId,measuredBox:l,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){var a;const{visualElement:l}=this.options;if(!l)return ln();const u=l.measureViewportBox();if(!(((a=this.scroll)===null||a===void 0?void 0:a.wasRoot)||this.path.some(PJ))){const{scroll:f}=this.root;f&&(tu(u.x,f.offset.x),tu(u.y,f.offset.y))}return u}removeElementScroll(a){var l;const u=ln();if(hs(u,a),!((l=this.scroll)===null||l===void 0)&&l.wasRoot)return u;for(let d=0;d<this.path.length;d++){const f=this.path[d],{scroll:g,options:y}=f;f!==this.root&&g&&y.layoutScroll&&(g.wasRoot&&hs(u,a),tu(u.x,g.offset.x),tu(u.y,g.offset.y))}return u}applyTransform(a,l=!1){const u=ln();hs(u,a);for(let d=0;d<this.path.length;d++){const f=this.path[d];!l&&f.options.layoutScroll&&f.scroll&&f!==f.root&&nu(u,{x:-f.scroll.offset.x,y:-f.scroll.offset.y}),il(f.latestValues)&&nu(u,f.latestValues)}return il(this.latestValues)&&nu(u,this.latestValues),u}removeTransform(a){const l=ln();hs(l,a);for(let u=0;u<this.path.length;u++){const d=this.path[u];if(!d.instance||!il(d.latestValues))continue;jb(d.latestValues)&&d.updateSnapshot();const f=ln(),g=d.measurePageBox();hs(f,g),fR(l,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,f)}return il(this.latestValues)&&fR(l,this.latestValues),l}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Bn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var l;const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==u;if(!(a||d&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:y}=this.options;if(!(!this.layout||!(g||y))){if(this.resolvedRelativeTargetAt=Bn.timestamp,!this.targetDelta&&!this.relativeTarget){const x=this.getClosestProjectingParent();x&&x.layout&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ln(),this.relativeTargetOrigin=ln(),Eh(this.relativeTargetOrigin,this.layout.layoutBox,x.layout.layoutBox),hs(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=ln(),this.targetWithTransforms=ln()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),DZ(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):hs(this.target,this.layout.layoutBox),TM(this.target,this.targetDelta)):hs(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const x=this.getClosestProjectingParent();x&&!!x.resumingFrom==!!this.resumingFrom&&!x.options.layoutScroll&&x.target&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ln(),this.relativeTargetOrigin=ln(),Eh(this.relativeTargetOrigin,this.target,x.target),hs(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}uh&&ol.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||jb(this.parent.latestValues)||EM(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var a;const l=this.getLead(),u=!!this.resumingFrom||this!==l;let d=!0;if((this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty)&&(d=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===Bn.timestamp&&(d=!1),d)return;const{layout:f,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||g))return;hs(this.layoutCorrected,this.layout.layoutBox);const y=this.treeScale.x,x=this.treeScale.y;BZ(this.layoutCorrected,this.treeScale,this.path,u),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=ln());const{target:I}=l;if(!I){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(uR(this.prevProjectionDelta.x,this.projectionDelta.x),uR(this.prevProjectionDelta.y,this.projectionDelta.y)),xh(this.projectionDelta,this.layoutCorrected,I,this.latestValues),(this.treeScale.x!==y||this.treeScale.y!==x||!vR(this.projectionDelta.x,this.prevProjectionDelta.x)||!vR(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",I)),uh&&ol.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){var l;if((l=this.options.visualElement)===null||l===void 0||l.scheduleRender(),a){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=eu(),this.projectionDelta=eu(),this.projectionDeltaWithTransform=eu()}setAnimationOrigin(a,l=!1){const u=this.snapshot,d=u?u.latestValues:{},f={...this.latestValues},g=eu();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const y=ln(),x=u?u.source:void 0,I=this.layout?this.layout.source:void 0,E=x!==I,S=this.getStack(),k=!S||S.members.length<=1,A=!!(E&&!k&&this.options.crossfade===!0&&!this.path.some(IJ));this.animationProgress=0;let N;this.mixTargetDelta=B=>{const j=B/1e3;xR(g.x,a.x,j),xR(g.y,a.y,j),this.setTargetDelta(g),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Eh(y,this.layout.layoutBox,this.relativeParent.layout.layoutBox),SJ(this.relativeTarget,this.relativeTargetOrigin,y,j),N&&cJ(this.relativeTarget,N)&&(this.isProjectionDirty=!1),N||(N=ln()),hs(N,this.relativeTarget)),E&&(this.animationValues=f,rJ(f,d,this.latestValues,j,A,k)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=j},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(ba(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=zt.update(()=>{Vm.hasAnimatedSinceResize=!0,this.currentAnimation=XZ(0,wR,{...a,onUpdate:l=>{this.mixTargetDelta(l),a.onUpdate&&a.onUpdate(l)},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(wR),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:l,target:u,layout:d,latestValues:f}=a;if(!(!l||!u||!d)){if(this!==a&&this.layout&&d&&OM(this.options.animationType,this.layout.layoutBox,d.layoutBox)){u=this.target||ln();const g=Yr(this.layout.layoutBox.x);u.x.min=a.target.x.min,u.x.max=u.x.min+g;const y=Yr(this.layout.layoutBox.y);u.y.min=a.target.y.min,u.y.max=u.y.min+y}hs(l,u),nu(l,f),xh(this.projectionDeltaWithTransform,this.layoutCorrected,l,f)}}registerSharedNode(a,l){this.sharedNodes.has(a)||this.sharedNodes.set(a,new uJ),this.sharedNodes.get(a).add(l);const d=l.options.initialPromotionConfig;l.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(l):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var a;const{layoutId:l}=this.options;return l?((a=this.getStack())===null||a===void 0?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:l}=this.options;return l?(a=this.getStack())===null||a===void 0?void 0:a.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:l,preserveFollowOpacity:u}={}){const d=this.getStack();d&&d.promote(this,u),a&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let l=!1;const{latestValues:u}=a;if((u.z||u.rotate||u.rotateX||u.rotateY||u.rotateZ||u.skewX||u.skewY)&&(l=!0),!l)return;const d={};u.z&&s_("z",a,d,this.animationValues);for(let f=0;f<r_.length;f++)s_(`rotate${r_[f]}`,a,d,this.animationValues),s_(`skew${r_[f]}`,a,d,this.animationValues);a.render();for(const f in d)a.setStaticValue(f,d[f]),this.animationValues&&(this.animationValues[f]=d[f]);a.scheduleRender()}getProjectionStyles(a){var l,u;if(!this.instance||this.isSVG)return;if(!this.isVisible)return hJ;const d={visibility:""},f=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,d.opacity="",d.pointerEvents=Nm(a?.pointerEvents)||"",d.transform=f?f(this.latestValues,""):"none",d;const g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){const E={};return this.options.layoutId&&(E.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,E.pointerEvents=Nm(a?.pointerEvents)||""),this.hasProjected&&!il(this.latestValues)&&(E.transform=f?f({},""):"none",this.hasProjected=!1),E}const y=g.animationValues||g.latestValues;this.applyTransformsToTarget(),d.transform=dJ(this.projectionDeltaWithTransform,this.treeScale,y),f&&(d.transform=f(y,d.transform));const{x,y:I}=this.projectionDelta;d.transformOrigin=`${x.origin*100}% ${I.origin*100}% 0`,g.animationValues?d.opacity=g===this?(u=(l=y.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&u!==void 0?u:1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:d.opacity=g===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const E in bg){if(y[E]===void 0)continue;const{correct:S,applyTo:k}=bg[E],A=d.transform==="none"?y[E]:S(y[E],g);if(k){const N=k.length;for(let B=0;B<N;B++)d[k[B]]=A}else d[E]=A}return this.options.layoutId&&(d.pointerEvents=g===this?Nm(a?.pointerEvents)||"":"none"),d}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var l;return(l=a.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(_R),this.root.sharedNodes.clear()}}}function pJ(t){t.updateLayout()}function mJ(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:i}=t.options,a=n.source!==t.layout.source;i==="size"?fs(g=>{const y=a?n.measuredBox[g]:n.layoutBox[g],x=Yr(y);y.min=r[g].min,y.max=y.min+x}):OM(i,n.layoutBox,r)&&fs(g=>{const y=a?n.measuredBox[g]:n.layoutBox[g],x=Yr(r[g]);y.max=y.min+x,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[g].max=t.relativeTarget[g].min+x)});const l=eu();xh(l,r,n.layoutBox);const u=eu();a?xh(u,t.applyTransform(s,!0),n.measuredBox):xh(u,r,n.layoutBox);const d=!RM(l);let f=!1;if(!t.resumeFrom){const g=t.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:y,layout:x}=g;if(y&&x){const I=ln();Eh(I,n.layoutBox,y.layoutBox);const E=ln();Eh(E,r,x.layoutBox),kM(I,E)||(f=!0),g.options.layoutRoot&&(t.relativeTarget=E,t.relativeTargetOrigin=I,t.relativeParent=g)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:u,layoutDelta:l,hasLayoutChanged:d,hasRelativeTargetChanged:f})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function gJ(t){uh&&ol.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function yJ(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function vJ(t){t.clearSnapshot()}function _R(t){t.clearMeasurements()}function wJ(t){t.isLayoutDirty=!1}function _J(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function bR(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function bJ(t){t.resolveTargetDelta()}function xJ(t){t.calcProjection()}function EJ(t){t.resetSkewAndRotation()}function TJ(t){t.removeLeadSnapshot()}function xR(t,e,n){t.translate=en(e.translate,0,n),t.scale=en(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function ER(t,e,n,r){t.min=en(e.min,n.min,r),t.max=en(e.max,n.max,r)}function SJ(t,e,n,r){ER(t.x,e.x,n.x,r),ER(t.y,e.y,n.y,r)}function IJ(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const CJ={duration:.45,ease:[.4,0,.1,1]},TR=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),SR=TR("applewebkit/")&&!TR("chrome/")?Math.round:Gr;function IR(t){t.min=SR(t.min),t.max=SR(t.max)}function AJ(t){IR(t.x),IR(t.y)}function OM(t,e,n){return t==="position"||t==="preserve-aspect"&&!kZ(yR(e),yR(n),.2)}function PJ(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const RJ=NM({attachResizeListener:(t,e)=>Xh(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),i_={current:void 0},VM=NM({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!i_.current){const t=new RJ({});t.mount(window),t.setOptions({layoutScroll:!0}),i_.current=t}return i_.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),kJ={pan:{Feature:KZ},drag:{Feature:qZ,ProjectionNode:VM,MeasureLayout:CM}};function CR(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,i=r[s];i&&zt.postRender(()=>i(e,Af(e)))}class DJ extends Aa{mount(){const{current:e}=this.node;e&&(this.unmount=kY(e,n=>(CR(this.node,n,"Start"),r=>CR(this.node,r,"End"))))}unmount(){}}class NJ extends Aa{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Cf(Xh(this.node.current,"focus",()=>this.onFocus()),Xh(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function AR(t,e,n){const{props:r}=t;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),i=r[s];i&&zt.postRender(()=>i(e,Af(e)))}class OJ extends Aa{mount(){const{current:e}=this.node;e&&(this.unmount=VY(e,n=>(AR(this.node,n,"Start"),(r,{success:s})=>AR(this.node,r,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Bb=new WeakMap,o_=new WeakMap,VJ=t=>{const e=Bb.get(t.target);e&&e(t)},LJ=t=>{t.forEach(VJ)};function MJ({root:t,...e}){const n=t||document;o_.has(n)||o_.set(n,{});const r=o_.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(LJ,{root:t,...e})),r[s]}function $J(t,e,n){const r=MJ(e);return Bb.set(t,n),r.observe(t),()=>{Bb.delete(t),r.unobserve(t)}}const jJ={some:0,all:1};class FJ extends Aa{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=e,a={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:jJ[s]},l=u=>{const{isIntersecting:d}=u;if(this.isInView===d||(this.isInView=d,i&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:f,onViewportLeave:g}=this.node.getProps(),y=d?f:g;y&&y(u)};return $J(this.node.current,a,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(BJ(e,n))&&this.startObserver()}unmount(){}}function BJ({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const UJ={inView:{Feature:FJ},tap:{Feature:OJ},focus:{Feature:NJ},hover:{Feature:DJ}},zJ={layout:{ProjectionNode:VM,MeasureLayout:CM}},Ub={current:null},LM={current:!1};function WJ(){if(LM.current=!0,!!Zx)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Ub.current=t.matches;t.addListener(e),e()}else Ub.current=!1}const HJ=[...aM,tr,xa],qJ=t=>HJ.find(oM(t)),PR=new WeakMap;function KJ(t,e,n){for(const r in e){const s=e[r],i=n[r];if(nr(s))t.addValue(r,s);else if(nr(i))t.addValue(r,Qh(s,{owner:t}));else if(i!==s)if(t.hasValue(r)){const a=t.getValue(r);a.liveStyle===!0?a.jump(s):a.hasAnimated||a.set(s)}else{const a=t.getStaticValue(r);t.addValue(r,Qh(a!==void 0?a:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const RR=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class GJ{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:a},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=SE,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const x=fi.now();this.renderScheduledAt<x&&(this.renderScheduledAt=x,zt.render(this.render,!1,!0))};const{latestValues:u,renderState:d,onUpdate:f}=a;this.onUpdate=f,this.latestValues=u,this.baseTarget={...u},this.initialValues=n.initial?{...u}:{},this.renderState=d,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=l,this.blockInitialAnimation=!!i,this.isControllingVariants=Iy(n),this.isVariantNode=mL(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:g,...y}=this.scrapeMotionValuesFromProps(n,{},this);for(const x in y){const I=y[x];u[x]!==void 0&&nr(I)&&I.set(u[x],!1)}}mount(e){this.current=e,PR.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),LM.current||WJ(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Ub.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){PR.delete(this.current),this.projection&&this.projection.unmount(),ba(this.notifyUpdate),ba(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Yl.has(e),s=n.on("change",l=>{this.latestValues[e]=l,this.props.onUpdate&&zt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),i(),a&&a(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Nu){const n=Nu[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ln()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<RR.length;r++){const s=RR[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,a=e[i];a&&(this.propEventSubscriptions[s]=this.on(s,a))}this.prevMotionValues=KJ(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Qh(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(sM(s)||QL(s))?s=parseFloat(s):!qJ(s)&&xa.test(n)&&(s=tM(e,n)),this.setBaseTarget(e,nr(s)?s.get():s)),nr(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let s;if(typeof r=="string"||typeof r=="object"){const a=iE(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);a&&(s=a[e])}if(r&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!nr(i)?i:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new wE),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class MM extends GJ{constructor(){super(...arguments),this.KeyframeResolver=lM}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;nr(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function QJ(t){return window.getComputedStyle(t)}class YJ extends MM{constructor(){super(...arguments),this.type="html",this.renderInstance=TL}readValueFromInstance(e,n){if(Yl.has(n)){const r=TE(n);return r&&r.default||0}else{const r=QJ(e),s=(bL(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return SM(e,n)}build(e,n,r){lE(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return hE(e,n,r)}}class XJ extends MM{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ln}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Yl.has(n)){const r=TE(n);return r&&r.default||0}return n=SL.has(n)?n:nE(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return AL(e,n,r)}build(e,n,r){cE(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,s){IL(e,n,r,s)}mount(e){this.isSVGTag=dE(e.tagName),super.mount(e)}}const ZJ=(t,e)=>sE(t)?new XJ(e):new YJ(e,{allowProjection:t!==T.Fragment}),JJ=TY({...xZ,...UJ,...kJ,...zJ},ZJ),eee=jQ(JJ);var PE="Avatar",[tee]=Ws(PE),[nee,$M]=tee(PE),jM=T.forwardRef((t,e)=>{const{__scopeAvatar:n,...r}=t,[s,i]=T.useState("idle");return v.jsx(nee,{scope:n,imageLoadingStatus:s,onImageLoadingStatusChange:i,children:v.jsx(Je.span,{...r,ref:e})})});jM.displayName=PE;var FM="AvatarImage",BM=T.forwardRef((t,e)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:s=()=>{},...i}=t,a=$M(FM,n),l=ree(r,i),u=sn(d=>{s(d),a.onImageLoadingStatusChange(d)});return yn(()=>{l!=="idle"&&u(l)},[l,u]),l==="loaded"?v.jsx(Je.img,{...i,ref:e,src:r}):null});BM.displayName=FM;var UM="AvatarFallback",zM=T.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:r,...s}=t,i=$M(UM,n),[a,l]=T.useState(r===void 0);return T.useEffect(()=>{if(r!==void 0){const u=window.setTimeout(()=>l(!0),r);return()=>window.clearTimeout(u)}},[r]),a&&i.imageLoadingStatus!=="loaded"?v.jsx(Je.span,{...s,ref:e}):null});zM.displayName=UM;function kR(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function ree(t,{referrerPolicy:e,crossOrigin:n}){const r=iee(),s=T.useRef(null),i=r?(s.current||(s.current=new window.Image),s.current):null,[a,l]=T.useState(()=>kR(i,t));return yn(()=>{l(kR(i,t))},[i,t]),yn(()=>{const u=g=>()=>{l(g)};if(!i)return;const d=u("loaded"),f=u("error");return i.addEventListener("load",d),i.addEventListener("error",f),e&&(i.referrerPolicy=e),typeof n=="string"&&(i.crossOrigin=n),()=>{i.removeEventListener("load",d),i.removeEventListener("error",f)}},[i,n,e]),a}function see(){return()=>{}}function iee(){return T.useSyncExternalStore(see,()=>!0,()=>!1)}var WM=jM,HM=BM,qM=zM;const RE=T.forwardRef(({className:t,...e},n)=>v.jsx(WM,{ref:n,className:tt(`
      after:content-[''] after:block after:absolute after:inset-0 after:rounded-full after:pointer-events-none after:border after:border-black/10 dark:after:border-white/10
      relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full`,t),...e}));RE.displayName=WM.displayName;const oee=T.forwardRef(({className:t,...e},n)=>v.jsx(HM,{ref:n,className:tt("aspect-square h-full w-full",t),...e}));oee.displayName=HM.displayName;const kE=T.forwardRef(({className:t,...e},n)=>v.jsx(qM,{ref:n,className:tt("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));kE.displayName=qM.displayName;function hm({player:t,rank:e,total:n,scoreValue:r,showStatusLabels:s=!0,onClick:i}){const a=e<=3,l=n>1&&e===n,u=GD(t.name),d=r??t.score,f=!!i;return v.jsxs(eee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:e*.05},whileHover:{y:-4,scale:1.01},className:tt("relative flex items-center p-4 mb-3 rounded-xl border transition-all duration-200","bg-card hover:shadow-lg shadow-sm",a?"border-primary/20 bg-gradient-to-r from-card to-primary/5":"border-border/50",f&&"cursor-pointer"),onClick:i,role:f?"button":void 0,tabIndex:f?0:void 0,onKeyDown:g=>{f&&(g.key==="Enter"||g.key===" ")&&(g.preventDefault(),i?.())},children:[v.jsx("div",{className:"flex-shrink-0 w-12 flex justify-center",children:v.jsx("div",{className:tt("w-8 h-8 flex items-center justify-center rounded-full font-bold font-display text-sm",e===1&&"bg-yellow-400 text-yellow-900 shadow-yellow-200 shadow-md",e===2&&"bg-slate-300 text-slate-800 shadow-slate-200 shadow-md",e===3&&"bg-amber-700 text-amber-100 shadow-amber-900/20 shadow-md",e>3&&"bg-muted text-muted-foreground"),children:e})}),v.jsx("div",{className:"flex-shrink-0 mr-4",children:v.jsx(RE,{className:tt("w-12 h-12 border-2",e===1?"border-yellow-400":"border-border"),children:v.jsx(kE,{className:"bg-muted text-muted-foreground font-bold",children:u})})}),v.jsxs("div",{className:"flex-grow min-w-0",children:[v.jsx("h3",{className:"text-lg font-bold truncate leading-tight text-foreground",children:t.name}),s&&e===1&&v.jsxs("p",{className:"text-xs text-primary font-medium flex items-center gap-1 mt-0.5",children:[v.jsx(BD,{className:"w-3 h-3"}),"Lder Atual"]}),s&&l&&v.jsx("p",{className:"text-xs text-destructive font-medium mt-0.5",children:"pancada no ovo"})]}),v.jsxs("div",{className:"flex-shrink-0 text-right pl-4",children:[v.jsx("div",{className:"text-2xl font-display font-bold text-primary tabular-nums tracking-tight",children:d}),v.jsx("div",{className:"text-[10px] uppercase font-bold text-muted-foreground tracking-wider",children:"PTS"})]})]})}const aee=R0("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover-elevate active-elevate-2",{variants:{variant:{default:"bg-primary text-primary-foreground border border-primary-border",destructive:"bg-destructive text-destructive-foreground border border-destructive-border",outline:" border [border-color:var(--button-outline)]  shadow-xs active:shadow-none ",secondary:"border bg-secondary text-secondary-foreground border border-secondary-border ",ghost:"border border-transparent"},size:{default:"min-h-9 px-4 py-2",sm:"min-h-8 rounded-md px-3 text-xs",lg:"min-h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),wt=T.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const a=r?uD:"button";return v.jsx(a,{className:tt(aee({variant:e,size:n,className:t})),ref:i,...s})});wt.displayName="Button";var a_="focusScope.autoFocusOnMount",l_="focusScope.autoFocusOnUnmount",DR={bubbles:!1,cancelable:!0},lee="FocusScope",DE=T.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...a}=t,[l,u]=T.useState(null),d=sn(s),f=sn(i),g=T.useRef(null),y=Tt(e,E=>u(E)),x=T.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;T.useEffect(()=>{if(r){let E=function(N){if(x.paused||!l)return;const B=N.target;l.contains(B)?g.current=B:Wo(g.current,{select:!0})},S=function(N){if(x.paused||!l)return;const B=N.relatedTarget;B!==null&&(l.contains(B)||Wo(g.current,{select:!0}))},k=function(N){if(document.activeElement===document.body)for(const j of N)j.removedNodes.length>0&&Wo(l)};document.addEventListener("focusin",E),document.addEventListener("focusout",S);const A=new MutationObserver(k);return l&&A.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",E),document.removeEventListener("focusout",S),A.disconnect()}}},[r,l,x.paused]),T.useEffect(()=>{if(l){OR.add(x);const E=document.activeElement;if(!l.contains(E)){const k=new CustomEvent(a_,DR);l.addEventListener(a_,d),l.dispatchEvent(k),k.defaultPrevented||(cee(pee(KM(l)),{select:!0}),document.activeElement===E&&Wo(l))}return()=>{l.removeEventListener(a_,d),setTimeout(()=>{const k=new CustomEvent(l_,DR);l.addEventListener(l_,f),l.dispatchEvent(k),k.defaultPrevented||Wo(E??document.body,{select:!0}),l.removeEventListener(l_,f),OR.remove(x)},0)}}},[l,d,f,x]);const I=T.useCallback(E=>{if(!n&&!r||x.paused)return;const S=E.key==="Tab"&&!E.altKey&&!E.ctrlKey&&!E.metaKey,k=document.activeElement;if(S&&k){const A=E.currentTarget,[N,B]=uee(A);N&&B?!E.shiftKey&&k===B?(E.preventDefault(),n&&Wo(N,{select:!0})):E.shiftKey&&k===N&&(E.preventDefault(),n&&Wo(B,{select:!0})):k===A&&E.preventDefault()}},[n,r,x.paused]);return v.jsx(Je.div,{tabIndex:-1,...a,ref:y,onKeyDown:I})});DE.displayName=lee;function cee(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Wo(r,{select:e}),document.activeElement!==n)return}function uee(t){const e=KM(t),n=NR(e,t),r=NR(e.reverse(),t);return[n,r]}function KM(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function NR(t,e){for(const n of t)if(!dee(n,{upTo:e}))return n}function dee(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function hee(t){return t instanceof HTMLInputElement&&"select"in t}function Wo(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&hee(t)&&e&&t.select()}}var OR=fee();function fee(){let t=[];return{add(e){const n=t[0];e!==n&&n?.pause(),t=VR(t,e),t.unshift(e)},remove(e){t=VR(t,e),t[0]?.resume()}}}function VR(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function pee(t){return t.filter(e=>e.tagName!=="A")}var c_=0;function GM(){T.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??LR()),document.body.insertAdjacentElement("beforeend",t[1]??LR()),c_++,()=>{c_===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),c_--}},[])}function LR(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Lm="right-scroll-bar-position",Mm="width-before-scroll-bar",mee="with-scroll-bars-hidden",gee="--removed-body-scroll-bar-size";function u_(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function yee(t,e){var n=T.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var vee=typeof window<"u"?T.useLayoutEffect:T.useEffect,MR=new WeakMap;function wee(t,e){var n=yee(null,function(r){return t.forEach(function(s){return u_(s,r)})});return vee(function(){var r=MR.get(n);if(r){var s=new Set(r),i=new Set(t),a=n.current;s.forEach(function(l){i.has(l)||u_(l,null)}),i.forEach(function(l){s.has(l)||u_(l,a)})}MR.set(n,t)},[t]),n}function _ee(t){return t}function bee(t,e){e===void 0&&(e=_ee);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var a=e(i,r);return n.push(a),function(){n=n.filter(function(l){return l!==a})}},assignSyncMedium:function(i){for(r=!0;n.length;){var a=n;n=[],a.forEach(i)}n={push:function(l){return i(l)},filter:function(){return n}}},assignMedium:function(i){r=!0;var a=[];if(n.length){var l=n;n=[],l.forEach(i),a=n}var u=function(){var f=a;a=[],f.forEach(i)},d=function(){return Promise.resolve().then(u)};d(),n={push:function(f){a.push(f),d()},filter:function(f){return a=a.filter(f),n}}}};return s}function xee(t){t===void 0&&(t={});var e=bee(null);return e.options=oi({async:!0,ssr:!1},t),e}var QM=function(t){var e=t.sideCar,n=_y(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return T.createElement(r,oi({},n))};QM.isSideCarExport=!0;function Eee(t,e){return t.useMedium(e),QM}var YM=xee(),d_=function(){},Py=T.forwardRef(function(t,e){var n=T.useRef(null),r=T.useState({onScrollCapture:d_,onWheelCapture:d_,onTouchMoveCapture:d_}),s=r[0],i=r[1],a=t.forwardProps,l=t.children,u=t.className,d=t.removeScrollBar,f=t.enabled,g=t.shards,y=t.sideCar,x=t.noIsolation,I=t.inert,E=t.allowPinchZoom,S=t.as,k=S===void 0?"div":S,A=t.gapMode,N=_y(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),B=y,j=wee([n,e]),G=oi(oi({},N),s);return T.createElement(T.Fragment,null,f&&T.createElement(B,{sideCar:YM,removeScrollBar:d,shards:g,noIsolation:x,inert:I,setCallbacks:i,allowPinchZoom:!!E,lockRef:n,gapMode:A}),a?T.cloneElement(T.Children.only(l),oi(oi({},G),{ref:j})):T.createElement(k,oi({},G,{className:u,ref:j}),l))});Py.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Py.classNames={fullWidth:Mm,zeroRight:Lm};var Tee=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function See(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=Tee();return e&&t.setAttribute("nonce",e),t}function Iee(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function Cee(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var Aee=function(){var t=0,e=null;return{add:function(n){t==0&&(e=See())&&(Iee(e,n),Cee(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},Pee=function(){var t=Aee();return function(e,n){T.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},XM=function(){var t=Pee(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},Ree={left:0,top:0,right:0,gap:0},h_=function(t){return parseInt(t||"",10)||0},kee=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[h_(n),h_(r),h_(s)]},Dee=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return Ree;var e=kee(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},Nee=XM(),pu="data-scroll-locked",Oee=function(t,e,n,r){var s=t.left,i=t.top,a=t.right,l=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(mee,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(pu,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Lm,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Mm,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Lm," .").concat(Lm,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Mm," .").concat(Mm,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(pu,`] {
    `).concat(gee,": ").concat(l,`px;
  }
`)},$R=function(){var t=parseInt(document.body.getAttribute(pu)||"0",10);return isFinite(t)?t:0},Vee=function(){T.useEffect(function(){return document.body.setAttribute(pu,($R()+1).toString()),function(){var t=$R()-1;t<=0?document.body.removeAttribute(pu):document.body.setAttribute(pu,t.toString())}},[])},Lee=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;Vee();var i=T.useMemo(function(){return Dee(s)},[s]);return T.createElement(Nee,{styles:Oee(i,!e,s,n?"":"!important")})},zb=!1;if(typeof window<"u")try{var fm=Object.defineProperty({},"passive",{get:function(){return zb=!0,!0}});window.addEventListener("test",fm,fm),window.removeEventListener("test",fm,fm)}catch{zb=!1}var Lc=zb?{passive:!1}:!1,Mee=function(t){return t.tagName==="TEXTAREA"},ZM=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!Mee(t)&&n[e]==="visible")},$ee=function(t){return ZM(t,"overflowY")},jee=function(t){return ZM(t,"overflowX")},jR=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=JM(t,r);if(s){var i=e2(t,r),a=i[1],l=i[2];if(a>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},Fee=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},Bee=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},JM=function(t,e){return t==="v"?$ee(e):jee(e)},e2=function(t,e){return t==="v"?Fee(e):Bee(e)},Uee=function(t,e){return t==="h"&&e==="rtl"?-1:1},zee=function(t,e,n,r,s){var i=Uee(t,window.getComputedStyle(e).direction),a=i*r,l=n.target,u=e.contains(l),d=!1,f=a>0,g=0,y=0;do{var x=e2(t,l),I=x[0],E=x[1],S=x[2],k=E-S-i*I;(I||k)&&JM(t,l)&&(g+=k,y+=I),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!u&&l!==document.body||u&&(e.contains(l)||e===l));return(f&&Math.abs(g)<1||!f&&Math.abs(y)<1)&&(d=!0),d},pm=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},FR=function(t){return[t.deltaX,t.deltaY]},BR=function(t){return t&&"current"in t?t.current:t},Wee=function(t,e){return t[0]===e[0]&&t[1]===e[1]},Hee=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},qee=0,Mc=[];function Kee(t){var e=T.useRef([]),n=T.useRef([0,0]),r=T.useRef(),s=T.useState(qee++)[0],i=T.useState(XM)[0],a=T.useRef(t);T.useEffect(function(){a.current=t},[t]),T.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var E=ZG([t.lockRef.current],(t.shards||[]).map(BR),!0).filter(Boolean);return E.forEach(function(S){return S.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),E.forEach(function(S){return S.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var l=T.useCallback(function(E,S){if("touches"in E&&E.touches.length===2||E.type==="wheel"&&E.ctrlKey)return!a.current.allowPinchZoom;var k=pm(E),A=n.current,N="deltaX"in E?E.deltaX:A[0]-k[0],B="deltaY"in E?E.deltaY:A[1]-k[1],j,G=E.target,O=Math.abs(N)>Math.abs(B)?"h":"v";if("touches"in E&&O==="h"&&G.type==="range")return!1;var P=jR(O,G);if(!P)return!0;if(P?j=O:(j=O==="v"?"h":"v",P=jR(O,G)),!P)return!1;if(!r.current&&"changedTouches"in E&&(N||B)&&(r.current=j),!j)return!0;var D=r.current||j;return zee(D,S,E,D==="h"?N:B)},[]),u=T.useCallback(function(E){var S=E;if(!(!Mc.length||Mc[Mc.length-1]!==i)){var k="deltaY"in S?FR(S):pm(S),A=e.current.filter(function(j){return j.name===S.type&&(j.target===S.target||S.target===j.shadowParent)&&Wee(j.delta,k)})[0];if(A&&A.should){S.cancelable&&S.preventDefault();return}if(!A){var N=(a.current.shards||[]).map(BR).filter(Boolean).filter(function(j){return j.contains(S.target)}),B=N.length>0?l(S,N[0]):!a.current.noIsolation;B&&S.cancelable&&S.preventDefault()}}},[]),d=T.useCallback(function(E,S,k,A){var N={name:E,delta:S,target:k,should:A,shadowParent:Gee(k)};e.current.push(N),setTimeout(function(){e.current=e.current.filter(function(B){return B!==N})},1)},[]),f=T.useCallback(function(E){n.current=pm(E),r.current=void 0},[]),g=T.useCallback(function(E){d(E.type,FR(E),E.target,l(E,t.lockRef.current))},[]),y=T.useCallback(function(E){d(E.type,pm(E),E.target,l(E,t.lockRef.current))},[]);T.useEffect(function(){return Mc.push(i),t.setCallbacks({onScrollCapture:g,onWheelCapture:g,onTouchMoveCapture:y}),document.addEventListener("wheel",u,Lc),document.addEventListener("touchmove",u,Lc),document.addEventListener("touchstart",f,Lc),function(){Mc=Mc.filter(function(E){return E!==i}),document.removeEventListener("wheel",u,Lc),document.removeEventListener("touchmove",u,Lc),document.removeEventListener("touchstart",f,Lc)}},[]);var x=t.removeScrollBar,I=t.inert;return T.createElement(T.Fragment,null,I?T.createElement(i,{styles:Hee(s)}):null,x?T.createElement(Lee,{gapMode:t.gapMode}):null)}function Gee(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const Qee=Eee(YM,Kee);var NE=T.forwardRef(function(t,e){return T.createElement(Py,oi({},t,{ref:e,sideCar:Qee}))});NE.classNames=Py.classNames;var Yee=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},$c=new WeakMap,mm=new WeakMap,gm={},f_=0,t2=function(t){return t&&(t.host||t2(t.parentNode))},Xee=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=t2(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},Zee=function(t,e,n,r){var s=Xee(e,Array.isArray(t)?t:[t]);gm[n]||(gm[n]=new WeakMap);var i=gm[n],a=[],l=new Set,u=new Set(s),d=function(g){!g||l.has(g)||(l.add(g),d(g.parentNode))};s.forEach(d);var f=function(g){!g||u.has(g)||Array.prototype.forEach.call(g.children,function(y){if(l.has(y))f(y);else try{var x=y.getAttribute(r),I=x!==null&&x!=="false",E=($c.get(y)||0)+1,S=(i.get(y)||0)+1;$c.set(y,E),i.set(y,S),a.push(y),E===1&&I&&mm.set(y,!0),S===1&&y.setAttribute(n,"true"),I||y.setAttribute(r,"true")}catch(k){console.error("aria-hidden: cannot operate on ",y,k)}})};return f(e),l.clear(),f_++,function(){a.forEach(function(g){var y=$c.get(g)-1,x=i.get(g)-1;$c.set(g,y),i.set(g,x),y||(mm.has(g)||g.removeAttribute(r),mm.delete(g)),x||g.removeAttribute(n)}),f_--,f_||($c=new WeakMap,$c=new WeakMap,mm=new WeakMap,gm={})}},n2=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=Yee(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),Zee(r,s,n,"aria-hidden")):function(){return null}},OE="Dialog",[r2]=Ws(OE),[Jee,Hs]=r2(OE),s2=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:a=!0}=t,l=T.useRef(null),u=T.useRef(null),[d=!1,f]=Al({prop:r,defaultProp:s,onChange:i});return v.jsx(Jee,{scope:e,triggerRef:l,contentRef:u,contentId:na(),titleId:na(),descriptionId:na(),open:d,onOpenChange:f,onOpenToggle:T.useCallback(()=>f(g=>!g),[f]),modal:a,children:n})};s2.displayName=OE;var i2="DialogTrigger",o2=T.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Hs(i2,n),i=Tt(e,s.triggerRef);return v.jsx(Je.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":ME(s.open),...r,ref:i,onClick:We(t.onClick,s.onOpenToggle)})});o2.displayName=i2;var VE="DialogPortal",[ete,a2]=r2(VE,{forceMount:void 0}),l2=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,i=Hs(VE,e);return v.jsx(ete,{scope:e,forceMount:n,children:T.Children.map(r,a=>v.jsx(_s,{present:n||i.open,children:v.jsx(Kg,{asChild:!0,container:s,children:a})}))})};l2.displayName=VE;var Cg="DialogOverlay",c2=T.forwardRef((t,e)=>{const n=a2(Cg,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=Hs(Cg,t.__scopeDialog);return i.modal?v.jsx(_s,{present:r||i.open,children:v.jsx(nte,{...s,ref:e})}):null});c2.displayName=Cg;var tte=mu("DialogOverlay.RemoveScroll"),nte=T.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Hs(Cg,n);return v.jsx(NE,{as:tte,allowPinchZoom:!0,shards:[s.contentRef],children:v.jsx(Je.div,{"data-state":ME(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Fl="DialogContent",u2=T.forwardRef((t,e)=>{const n=a2(Fl,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=Hs(Fl,t.__scopeDialog);return v.jsx(_s,{present:r||i.open,children:i.modal?v.jsx(rte,{...s,ref:e}):v.jsx(ste,{...s,ref:e})})});u2.displayName=Fl;var rte=T.forwardRef((t,e)=>{const n=Hs(Fl,t.__scopeDialog),r=T.useRef(null),s=Tt(e,n.contentRef,r);return T.useEffect(()=>{const i=r.current;if(i)return n2(i)},[]),v.jsx(d2,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:We(t.onCloseAutoFocus,i=>{i.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:We(t.onPointerDownOutside,i=>{const a=i.detail.originalEvent,l=a.button===0&&a.ctrlKey===!0;(a.button===2||l)&&i.preventDefault()}),onFocusOutside:We(t.onFocusOutside,i=>i.preventDefault())})}),ste=T.forwardRef((t,e)=>{const n=Hs(Fl,t.__scopeDialog),r=T.useRef(!1),s=T.useRef(!1);return v.jsx(d2,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{t.onCloseAutoFocus?.(i),i.defaultPrevented||(r.current||n.triggerRef.current?.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{t.onInteractOutside?.(i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const a=i.target;n.triggerRef.current?.contains(a)&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),d2=T.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...a}=t,l=Hs(Fl,n),u=T.useRef(null),d=Tt(e,u);return GM(),v.jsxs(v.Fragment,{children:[v.jsx(DE,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:v.jsx(sf,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":ME(l.open),...a,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),v.jsxs(v.Fragment,{children:[v.jsx(ite,{titleId:l.titleId}),v.jsx(ate,{contentRef:u,descriptionId:l.descriptionId})]})]})}),LE="DialogTitle",h2=T.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Hs(LE,n);return v.jsx(Je.h2,{id:s.titleId,...r,ref:e})});h2.displayName=LE;var f2="DialogDescription",p2=T.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Hs(f2,n);return v.jsx(Je.p,{id:s.descriptionId,...r,ref:e})});p2.displayName=f2;var m2="DialogClose",g2=T.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Hs(m2,n);return v.jsx(Je.button,{type:"button",...r,ref:e,onClick:We(t.onClick,()=>s.onOpenChange(!1))})});g2.displayName=m2;function ME(t){return t?"open":"closed"}var y2="DialogTitleWarning",[mse,v2]=R5(y2,{contentName:Fl,titleName:LE,docsSlug:"dialog"}),ite=({titleId:t})=>{const e=v2(y2),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return T.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},ote="DialogDescriptionWarning",ate=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${v2(ote).contentName}}.`;return T.useEffect(()=>{const s=t.current?.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},lte=s2,cte=o2,ute=l2,w2=c2,_2=u2,b2=h2,x2=p2,dte=g2;const _l=lte,$E=cte,hte=ute,E2=T.forwardRef(({className:t,...e},n)=>v.jsx(w2,{ref:n,className:tt("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));E2.displayName=w2.displayName;const aa=T.forwardRef(({className:t,children:e,...n},r)=>v.jsxs(hte,{children:[v.jsx(E2,{}),v.jsxs(_2,{ref:r,className:tt("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,v.jsxs(dte,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[v.jsx(N0,{className:"h-4 w-4"}),v.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));aa.displayName=_2.displayName;const la=({className:t,...e})=>v.jsx("div",{className:tt("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});la.displayName="DialogHeader";const bl=({className:t,...e})=>v.jsx("div",{className:tt("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});bl.displayName="DialogFooter";const ca=T.forwardRef(({className:t,...e},n)=>v.jsx(b2,{ref:n,className:tt("text-lg font-semibold leading-none tracking-tight",t),...e}));ca.displayName=b2.displayName;const ua=T.forwardRef(({className:t,...e},n)=>v.jsx(x2,{ref:n,className:tt("text-sm text-muted-foreground",t),...e}));ua.displayName=x2.displayName;function si({className:t,...e}){return v.jsx("div",{className:tt("animate-pulse rounded-md bg-muted",t),...e})}var fte=T.createContext(void 0);function Ry(t){const e=T.useContext(fte);return t||e||"ltr"}var p_="rovingFocusGroup.onEntryFocus",pte={bubbles:!1,cancelable:!0},ky="RovingFocusGroup",[Wb,T2,mte]=I0(ky),[gte,S2]=Ws(ky,[mte]),[yte,vte]=gte(ky),I2=T.forwardRef((t,e)=>v.jsx(Wb.Provider,{scope:t.__scopeRovingFocusGroup,children:v.jsx(Wb.Slot,{scope:t.__scopeRovingFocusGroup,children:v.jsx(wte,{...t,ref:e})})}));I2.displayName=ky;var wte=T.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:a,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:u,onEntryFocus:d,preventScrollOnEntryFocus:f=!1,...g}=t,y=T.useRef(null),x=Tt(e,y),I=Ry(i),[E=null,S]=Al({prop:a,defaultProp:l,onChange:u}),[k,A]=T.useState(!1),N=sn(d),B=T2(n),j=T.useRef(!1),[G,O]=T.useState(0);return T.useEffect(()=>{const P=y.current;if(P)return P.addEventListener(p_,N),()=>P.removeEventListener(p_,N)},[N]),v.jsx(yte,{scope:n,orientation:r,dir:I,loop:s,currentTabStopId:E,onItemFocus:T.useCallback(P=>S(P),[S]),onItemShiftTab:T.useCallback(()=>A(!0),[]),onFocusableItemAdd:T.useCallback(()=>O(P=>P+1),[]),onFocusableItemRemove:T.useCallback(()=>O(P=>P-1),[]),children:v.jsx(Je.div,{tabIndex:k||G===0?-1:0,"data-orientation":r,...g,ref:x,style:{outline:"none",...t.style},onMouseDown:We(t.onMouseDown,()=>{j.current=!0}),onFocus:We(t.onFocus,P=>{const D=!j.current;if(P.target===P.currentTarget&&D&&!k){const M=new CustomEvent(p_,pte);if(P.currentTarget.dispatchEvent(M),!M.defaultPrevented){const F=B().filter(de=>de.focusable),$=F.find(de=>de.active),V=F.find(de=>de.id===E),ve=[$,V,...F].filter(Boolean).map(de=>de.ref.current);P2(ve,f)}}j.current=!1}),onBlur:We(t.onBlur,()=>A(!1))})})}),C2="RovingFocusGroupItem",A2=T.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,...a}=t,l=na(),u=i||l,d=vte(C2,n),f=d.currentTabStopId===u,g=T2(n),{onFocusableItemAdd:y,onFocusableItemRemove:x}=d;return T.useEffect(()=>{if(r)return y(),()=>x()},[r,y,x]),v.jsx(Wb.ItemSlot,{scope:n,id:u,focusable:r,active:s,children:v.jsx(Je.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...a,ref:e,onMouseDown:We(t.onMouseDown,I=>{r?d.onItemFocus(u):I.preventDefault()}),onFocus:We(t.onFocus,()=>d.onItemFocus(u)),onKeyDown:We(t.onKeyDown,I=>{if(I.key==="Tab"&&I.shiftKey){d.onItemShiftTab();return}if(I.target!==I.currentTarget)return;const E=xte(I,d.orientation,d.dir);if(E!==void 0){if(I.metaKey||I.ctrlKey||I.altKey||I.shiftKey)return;I.preventDefault();let k=g().filter(A=>A.focusable).map(A=>A.ref.current);if(E==="last")k.reverse();else if(E==="prev"||E==="next"){E==="prev"&&k.reverse();const A=k.indexOf(I.currentTarget);k=d.loop?Ete(k,A+1):k.slice(A+1)}setTimeout(()=>P2(k))}})})})});A2.displayName=C2;var _te={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function bte(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function xte(t,e,n){const r=bte(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return _te[r]}function P2(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function Ete(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var Tte=I2,Ste=A2,jE="Tabs",[Ite]=Ws(jE,[S2]),R2=S2(),[Cte,FE]=Ite(jE),k2=T.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:i,orientation:a="horizontal",dir:l,activationMode:u="automatic",...d}=t,f=Ry(l),[g,y]=Al({prop:r,onChange:s,defaultProp:i});return v.jsx(Cte,{scope:n,baseId:na(),value:g,onValueChange:y,orientation:a,dir:f,activationMode:u,children:v.jsx(Je.div,{dir:f,"data-orientation":a,...d,ref:e})})});k2.displayName=jE;var D2="TabsList",N2=T.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...s}=t,i=FE(D2,n),a=R2(n);return v.jsx(Tte,{asChild:!0,...a,orientation:i.orientation,dir:i.dir,loop:r,children:v.jsx(Je.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:e})})});N2.displayName=D2;var O2="TabsTrigger",V2=T.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...i}=t,a=FE(O2,n),l=R2(n),u=$2(a.baseId,r),d=j2(a.baseId,r),f=r===a.value;return v.jsx(Ste,{asChild:!0,...l,focusable:!s,active:f,children:v.jsx(Je.button,{type:"button",role:"tab","aria-selected":f,"aria-controls":d,"data-state":f?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:u,...i,ref:e,onMouseDown:We(t.onMouseDown,g=>{!s&&g.button===0&&g.ctrlKey===!1?a.onValueChange(r):g.preventDefault()}),onKeyDown:We(t.onKeyDown,g=>{[" ","Enter"].includes(g.key)&&a.onValueChange(r)}),onFocus:We(t.onFocus,()=>{const g=a.activationMode!=="manual";!f&&!s&&g&&a.onValueChange(r)})})})});V2.displayName=O2;var L2="TabsContent",M2=T.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:s,children:i,...a}=t,l=FE(L2,n),u=$2(l.baseId,r),d=j2(l.baseId,r),f=r===l.value,g=T.useRef(f);return T.useEffect(()=>{const y=requestAnimationFrame(()=>g.current=!1);return()=>cancelAnimationFrame(y)},[]),v.jsx(_s,{present:s||f,children:({present:y})=>v.jsx(Je.div,{"data-state":f?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":u,hidden:!y,id:d,tabIndex:0,...a,ref:e,style:{...t.style,animationDuration:g.current?"0s":void 0},children:y&&i})})});M2.displayName=L2;function $2(t,e){return`${t}-trigger-${e}`}function j2(t,e){return`${t}-content-${e}`}var Ate=k2,F2=N2,B2=V2,U2=M2;const z2=Ate,BE=T.forwardRef(({className:t,...e},n)=>v.jsx(F2,{ref:n,className:tt("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));BE.displayName=F2.displayName;const Zo=T.forwardRef(({className:t,...e},n)=>v.jsx(B2,{ref:n,className:tt("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));Zo.displayName=B2.displayName;const Jo=T.forwardRef(({className:t,...e},n)=>v.jsx(U2,{ref:n,className:tt("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));Jo.displayName=U2.displayName;function UE(){const[t,e]=T.useState(null),[n,r]=T.useState(!0),[s,i]=T.useState(!1);return T.useEffect(()=>{const l=Y7(vg,u=>{e(u),r(!1)});return()=>l()},[]),{user:t,isLoading:n,isAuthenticated:!!t,logout:async()=>{i(!0);try{await X7(vg)}finally{i(!1)}},isLoggingOut:s}}function Pte(){const{isAuthenticated:t}=UE();AQ();const{data:e,isLoading:n}=xy(),{data:r}=Qx(),{data:s}=Yx(r?.currentSessionId??null),[i,a]=T.useState(null),[l,u]=T.useState(!1),{data:d,isLoading:f}=lL(i,r?.currentSessionId??null),g=(e??[]).slice().sort((A,N)=>N.score!==A.score?N.score-A.score:A.name.localeCompare(N.name)),y=T.useMemo(()=>{const A=(e??[]).slice();if(!r?.currentSessionId)return[];const N=s?.participants??[];return(N.length>0?A.filter(j=>N.includes(j.id)):A.filter(j=>j.scoreDay!==0)).sort((j,G)=>G.scoreDay!==j.scoreDay?G.scoreDay-j.scoreDay:j.name.localeCompare(G.name))},[e,r?.currentSessionId,s?.participants]),x=(e??[]).slice().sort((A,N)=>N.best!==A.best?N.best-A.best:A.name.localeCompare(N.name)).filter(A=>A.best>0),I=(e??[]).slice().sort((A,N)=>N.bad!==A.bad?N.bad-A.bad:A.name.localeCompare(N.name)).filter(A=>A.bad>0),E=(e??[]).find(A=>A.id===i)??null,S=T.useMemo(()=>{if(!d)return[];const A=new Map;for(const N of d){const B=N.categoryId||N.categoryName,j=A.get(B);j?(j.count+=N.count,j.totalPoints+=N.totalPoints):A.set(B,{categoryName:N.categoryName,points:N.points,count:N.count,totalPoints:N.totalPoints})}return Array.from(A.values()).sort((N,B)=>B.totalPoints-N.totalPoints)},[d]),k=S.reduce((A,N)=>A+N.totalPoints,0);return v.jsxs("div",{className:"page-scroll bg-background pb-20 safe-area-bottom",children:[v.jsx("header",{className:"sticky top-0 z-10 bg-background/80 backdrop-blur-md border-b border-border/50 safe-area-top",children:v.jsxs("div",{className:"max-w-md mx-auto px-4 h-16 flex items-center justify-between",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("div",{className:"w-8 h-8 rounded-lg bg-primary flex items-center justify-center text-white",children:v.jsx(A9,{className:"w-5 h-5"})}),v.jsxs("h1",{className:"text-xl font-bold tracking-tight text-foreground",children:["Racha",v.jsx("span",{className:"text-primary",children:"Canal"})]})]}),v.jsx(Q1,{href:t?"/admin":"/login",children:v.jsx(wt,{variant:"ghost",size:"sm",className:"text-muted-foreground font-medium hover:text-primary gap-2",children:t?v.jsxs(v.Fragment,{children:[v.jsx(FD,{className:"w-4 h-4"}),"rea Admin"]}):v.jsxs(v.Fragment,{children:[v.jsx(jD,{className:"w-4 h-4"}),"rea Admin"]})})})]})}),v.jsxs("main",{className:"max-w-md mx-auto px-4 py-6 space-y-6",children:[v.jsxs("section",{className:"relative overflow-hidden rounded-2xl bg-gradient-to-br from-secondary to-green-800 p-6 shadow-xl shadow-green-900/20 text-white",children:[v.jsxs("div",{className:"relative z-10",children:[v.jsx("h2",{className:"text-2xl font-bold font-display mb-1",children:"Classificao da Liga"}),v.jsx("p",{className:"text-green-100 text-sm opacity-90",children:"Atualizaes de pontuao ao vivo direto do campo."})]}),v.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/5 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2 pointer-events-none"}),v.jsx("div",{className:"absolute bottom-0 left-0 w-24 h-24 bg-primary/20 rounded-full blur-2xl translate-y-1/2 -translate-x-1/2 pointer-events-none"})]}),v.jsxs(z2,{defaultValue:"total",className:"space-y-4",children:[v.jsxs(BE,{className:"grid w-full grid-cols-3 h-12 bg-muted/50 p-1 rounded-xl",children:[v.jsx(Zo,{value:"total",className:"rounded-lg data-[state=active]:bg-white data-[state=active]:shadow-sm",children:"Total"}),v.jsx(Zo,{value:"day",className:"rounded-lg data-[state=active]:bg-white data-[state=active]:shadow-sm",children:"Hoje"}),v.jsx(Zo,{value:"stats",className:"rounded-lg data-[state=active]:bg-white data-[state=active]:shadow-sm",children:"Resultado"})]}),v.jsx(Jo,{value:"total",className:"space-y-1",children:n?Array.from({length:5}).map((A,N)=>v.jsxs("div",{className:"flex items-center p-4 mb-3 rounded-xl border bg-card",children:[v.jsx(si,{className:"w-8 h-8 rounded-full mr-4"}),v.jsx(si,{className:"w-12 h-12 rounded-full mr-4"}),v.jsxs("div",{className:"space-y-2 flex-1",children:[v.jsx(si,{className:"h-4 w-[120px]"}),v.jsx(si,{className:"h-3 w-[80px]"})]}),v.jsx(si,{className:"h-8 w-12"})]},N)):g.length>0?g.map((A,N)=>v.jsx(hm,{player:A,rank:N+1,total:g.length,scoreValue:A.score},A.id)):v.jsx("div",{className:"text-center py-12 text-muted-foreground",children:"Nenhum jogador cadastrado."})}),v.jsx(Jo,{value:"day",className:"space-y-1",children:r?.currentSessionId?n?Array.from({length:5}).map((A,N)=>v.jsxs("div",{className:"flex items-center p-4 mb-3 rounded-xl border bg-card",children:[v.jsx(si,{className:"w-8 h-8 rounded-full mr-4"}),v.jsx(si,{className:"w-12 h-12 rounded-full mr-4"}),v.jsxs("div",{className:"space-y-2 flex-1",children:[v.jsx(si,{className:"h-4 w-[120px]"}),v.jsx(si,{className:"h-3 w-[80px]"})]}),v.jsx(si,{className:"h-8 w-12"})]},N)):y.length>0?y.map((A,N)=>v.jsx(hm,{player:A,rank:N+1,total:y.length,scoreValue:A.scoreDay,onClick:()=>{a(A.id),u(!0)}},A.id)):v.jsx("div",{className:"text-center py-12 text-muted-foreground",children:"Nenhum participante encontrado."}):v.jsx("div",{className:"text-center py-12 text-muted-foreground",children:"A pontuao do dia ainda no foi iniciada."})}),v.jsxs(Jo,{value:"stats",className:"space-y-6",children:[v.jsxs("section",{className:"space-y-3",children:[v.jsxs("div",{className:"flex items-center gap-2 text-sm font-semibold text-muted-foreground uppercase tracking-wider",children:[v.jsx(BD,{className:"h-4 w-4"}),"Melhores do Racha"]}),x.length===0?v.jsx("div",{className:"text-sm text-muted-foreground",children:"Nenhum registro ainda."}):v.jsx("div",{className:"space-y-1",children:x.map((A,N)=>v.jsx(hm,{player:A,rank:N+1,total:x.length,scoreValue:A.best,showStatusLabels:!1},A.id))})]}),v.jsxs("section",{className:"space-y-3",children:[v.jsx("div",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wider",children:"Pancada no Ovo"}),I.length===0?v.jsx("div",{className:"text-sm text-muted-foreground",children:"Nenhum registro ainda."}):v.jsx("div",{className:"space-y-1",children:I.map((A,N)=>v.jsx(hm,{player:A,rank:N+1,total:I.length,scoreValue:A.bad,showStatusLabels:!1},A.id))})]})]})]})]}),v.jsx(_l,{open:l,onOpenChange:u,children:v.jsxs(aa,{className:"max-w-md w-full max-h-[80vh] overflow-y-auto safe-area-overlay",children:[v.jsxs(la,{children:[v.jsx(ca,{children:"Detalhe da pontuao do dia"}),v.jsx(ua,{children:E?E.name:"Jogador"})]}),r?.currentSessionId?f?v.jsx("div",{className:"text-sm text-muted-foreground",children:"Carregando histrico..."}):S.length===0?v.jsx("div",{className:"text-sm text-muted-foreground",children:"Nenhum registro para este jogador."}):v.jsxs("div",{className:"space-y-3",children:[v.jsxs("div",{className:"rounded-lg border bg-muted/30 p-3 text-sm",children:[v.jsx("div",{className:"text-xs uppercase text-muted-foreground",children:"Total do dia"}),v.jsxs("div",{className:"text-lg font-bold text-primary",children:[k>0?"+":"",k," pts"]})]}),v.jsx("div",{className:"space-y-2 pb-3",children:S.map(A=>v.jsxs("div",{className:"flex items-center justify-between rounded-lg border bg-card p-3 text-sm",children:[v.jsxs("div",{children:[v.jsx("div",{className:"font-semibold",children:A.categoryName}),v.jsxs("div",{className:"text-xs text-muted-foreground",children:[A.count,"x (",A.points>0?"+":"",A.points,")"]})]}),v.jsxs("div",{className:"font-bold tabular-nums",children:[A.totalPoints>0?"+":"",A.totalPoints]})]},`${A.categoryName}-${A.points}`))})]}):v.jsx("div",{className:"text-sm text-muted-foreground",children:"A pontuao do dia ainda no foi iniciada."})]})})]})}var Pf=t=>t.type==="checkbox",ml=t=>t instanceof Date,fr=t=>t==null;const W2=t=>typeof t=="object";var dn=t=>!fr(t)&&!Array.isArray(t)&&W2(t)&&!ml(t),H2=t=>dn(t)&&t.target?Pf(t.target)?t.target.checked:t.target.value:t,Rte=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,q2=(t,e)=>t.has(Rte(e)),kte=t=>{const e=t.constructor&&t.constructor.prototype;return dn(e)&&e.hasOwnProperty("isPrototypeOf")},zE=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Fn(t){let e;const n=Array.isArray(t),r=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(zE&&(t instanceof Blob||r))&&(n||dn(t)))if(e=n?[]:{},!n&&!kte(t))e=t;else for(const s in t)t.hasOwnProperty(s)&&(e[s]=Fn(t[s]));else return t;return e}var Dy=t=>Array.isArray(t)?t.filter(Boolean):[],cn=t=>t===void 0,Ae=(t,e,n)=>{if(!e||!dn(t))return n;const r=Dy(e.split(/[,[\].]+?/)).reduce((s,i)=>fr(s)?s:s[i],t);return cn(r)||r===t?cn(t[e])?n:t[e]:r},Wr=t=>typeof t=="boolean",WE=t=>/^\w*$/.test(t),K2=t=>Dy(t.replace(/["|']|\]/g,"").split(/\.|\[/)),Rt=(t,e,n)=>{let r=-1;const s=WE(e)?[e]:K2(e),i=s.length,a=i-1;for(;++r<i;){const l=s[r];let u=n;if(r!==a){const d=t[l];u=dn(d)||Array.isArray(d)?d:isNaN(+s[r+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;t[l]=u,t=t[l]}};const Ag={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Ms={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Ui={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},G2=Se.createContext(null),Ny=()=>Se.useContext(G2),Dte=t=>{const{children:e,...n}=t;return Se.createElement(G2.Provider,{value:n},e)};var Q2=(t,e,n,r=!0)=>{const s={defaultValues:e._defaultValues};for(const i in t)Object.defineProperty(s,i,{get:()=>{const a=i;return e._proxyFormState[a]!==Ms.all&&(e._proxyFormState[a]=!r||Ms.all),n&&(n[a]=!0),t[a]}});return s};function Nte(t){const e=Ny(),{control:n=e.control,disabled:r,name:s,exact:i}=t||{},[a,l]=Se.useState(n._formState),u=Se.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),d=Se.useRef(s);return d.current=s,Se.useEffect(()=>n._subscribe({name:d.current,formState:u.current,exact:i,callback:f=>{!r&&l({...n._formState,...f})}}),[n,r,i]),Se.useEffect(()=>{u.current.isValid&&n._setValid(!0)},[n]),Se.useMemo(()=>Q2(a,n,u.current,!1),[a,n])}var ci=t=>typeof t=="string",Y2=(t,e,n,r,s)=>ci(t)?(r&&e.watch.add(t),Ae(n,t,s)):Array.isArray(t)?t.map(i=>(r&&e.watch.add(i),Ae(n,i))):(r&&(e.watchAll=!0),n);function Ote(t){const e=Ny(),{control:n=e.control,name:r,defaultValue:s,disabled:i,exact:a}=t||{},l=Se.useRef(r),u=Se.useRef(s);l.current=r,Se.useEffect(()=>n._subscribe({name:l.current,formState:{values:!0},exact:a,callback:g=>!i&&f(Y2(l.current,n._names,g.values||n._formValues,!1,u.current))}),[n,i,a]);const[d,f]=Se.useState(n._getWatch(r,s));return Se.useEffect(()=>n._removeUnmounted()),d}function Vte(t){const e=Ny(),{name:n,disabled:r,control:s=e.control,shouldUnregister:i}=t,a=q2(s._names.array,n),l=Ote({control:s,name:n,defaultValue:Ae(s._formValues,n,Ae(s._defaultValues,n,t.defaultValue)),exact:!0}),u=Nte({control:s,name:n,exact:!0}),d=Se.useRef(t),f=Se.useRef(s.register(n,{...t.rules,value:l,...Wr(t.disabled)?{disabled:t.disabled}:{}})),g=Se.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Ae(u.errors,n)},isDirty:{enumerable:!0,get:()=>!!Ae(u.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!Ae(u.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!Ae(u.validatingFields,n)},error:{enumerable:!0,get:()=>Ae(u.errors,n)}}),[u,n]),y=Se.useCallback(S=>f.current.onChange({target:{value:H2(S),name:n},type:Ag.CHANGE}),[n]),x=Se.useCallback(()=>f.current.onBlur({target:{value:Ae(s._formValues,n),name:n},type:Ag.BLUR}),[n,s._formValues]),I=Se.useCallback(S=>{const k=Ae(s._fields,n);k&&S&&(k._f.ref={focus:()=>S.focus(),select:()=>S.select(),setCustomValidity:A=>S.setCustomValidity(A),reportValidity:()=>S.reportValidity()})},[s._fields,n]),E=Se.useMemo(()=>({name:n,value:l,...Wr(r)||u.disabled?{disabled:u.disabled||r}:{},onChange:y,onBlur:x,ref:I}),[n,r,u.disabled,y,x,I,l]);return Se.useEffect(()=>{const S=s._options.shouldUnregister||i;s.register(n,{...d.current.rules,...Wr(d.current.disabled)?{disabled:d.current.disabled}:{}});const k=(A,N)=>{const B=Ae(s._fields,A);B&&B._f&&(B._f.mount=N)};if(k(n,!0),S){const A=Fn(Ae(s._options.defaultValues,n));Rt(s._defaultValues,n,A),cn(Ae(s._formValues,n))&&Rt(s._formValues,n,A)}return!a&&s.register(n),()=>{(a?S&&!s._state.action:S)?s.unregister(n):k(n,!1)}},[n,s,a,i]),Se.useEffect(()=>{s._setDisabledField({disabled:r,name:n})},[r,n,s]),Se.useMemo(()=>({field:E,formState:u,fieldState:g}),[E,u,g])}const Lte=t=>t.render(Vte(t));var X2=(t,e,n,r,s)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:s||!0}}:{},Th=t=>Array.isArray(t)?t:[t],UR=()=>{let t=[];return{get observers(){return t},next:s=>{for(const i of t)i.next&&i.next(s)},subscribe:s=>(t.push(s),{unsubscribe:()=>{t=t.filter(i=>i!==s)}}),unsubscribe:()=>{t=[]}}},Hb=t=>fr(t)||!W2(t);function Go(t,e){if(Hb(t)||Hb(e))return t===e;if(ml(t)&&ml(e))return t.getTime()===e.getTime();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const s of n){const i=t[s];if(!r.includes(s))return!1;if(s!=="ref"){const a=e[s];if(ml(i)&&ml(a)||dn(i)&&dn(a)||Array.isArray(i)&&Array.isArray(a)?!Go(i,a):i!==a)return!1}}return!0}var dr=t=>dn(t)&&!Object.keys(t).length,HE=t=>t.type==="file",$s=t=>typeof t=="function",Pg=t=>{if(!zE)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},Z2=t=>t.type==="select-multiple",qE=t=>t.type==="radio",Mte=t=>qE(t)||Pf(t),m_=t=>Pg(t)&&t.isConnected;function $te(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=cn(t)?r++:t[e[r++]];return t}function jte(t){for(const e in t)if(t.hasOwnProperty(e)&&!cn(t[e]))return!1;return!0}function Tn(t,e){const n=Array.isArray(e)?e:WE(e)?[e]:K2(e),r=n.length===1?t:$te(t,n),s=n.length-1,i=n[s];return r&&delete r[i],s!==0&&(dn(r)&&dr(r)||Array.isArray(r)&&jte(r))&&Tn(t,n.slice(0,-1)),t}var J2=t=>{for(const e in t)if($s(t[e]))return!0;return!1};function Rg(t,e={}){const n=Array.isArray(t);if(dn(t)||n)for(const r in t)Array.isArray(t[r])||dn(t[r])&&!J2(t[r])?(e[r]=Array.isArray(t[r])?[]:{},Rg(t[r],e[r])):fr(t[r])||(e[r]=!0);return e}function e$(t,e,n){const r=Array.isArray(t);if(dn(t)||r)for(const s in t)Array.isArray(t[s])||dn(t[s])&&!J2(t[s])?cn(e)||Hb(n[s])?n[s]=Array.isArray(t[s])?Rg(t[s],[]):{...Rg(t[s])}:e$(t[s],fr(e)?{}:e[s],n[s]):n[s]=!Go(t[s],e[s]);return n}var eh=(t,e)=>e$(t,e,Rg(e));const zR={value:!1,isValid:!1},WR={value:!0,isValid:!0};var t$=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!cn(t[0].attributes.value)?cn(t[0].value)||t[0].value===""?WR:{value:t[0].value,isValid:!0}:WR:zR}return zR},n$=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>cn(t)?t:e?t===""?NaN:t&&+t:n&&ci(t)?new Date(t):r?r(t):t;const HR={isValid:!1,value:null};var r$=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,HR):HR;function qR(t){const e=t.ref;return HE(e)?e.files:qE(e)?r$(t.refs).value:Z2(e)?[...e.selectedOptions].map(({value:n})=>n):Pf(e)?t$(t.refs).value:n$(cn(e.value)?t.ref.value:e.value,t)}var Fte=(t,e,n,r)=>{const s={};for(const i of t){const a=Ae(e,i);a&&Rt(s,i,a._f)}return{criteriaMode:n,names:[...t],fields:s,shouldUseNativeValidation:r}},kg=t=>t instanceof RegExp,th=t=>cn(t)?t:kg(t)?t.source:dn(t)?kg(t.value)?t.value.source:t.value:t,KR=t=>({isOnSubmit:!t||t===Ms.onSubmit,isOnBlur:t===Ms.onBlur,isOnChange:t===Ms.onChange,isOnAll:t===Ms.all,isOnTouch:t===Ms.onTouched});const GR="AsyncFunction";var Bte=t=>!!t&&!!t.validate&&!!($s(t.validate)&&t.validate.constructor.name===GR||dn(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===GR)),Ute=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),QR=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const Sh=(t,e,n,r)=>{for(const s of n||Object.keys(t)){const i=Ae(t,s);if(i){const{_f:a,...l}=i;if(a){if(a.refs&&a.refs[0]&&e(a.refs[0],s)&&!r)return!0;if(a.ref&&e(a.ref,a.name)&&!r)return!0;if(Sh(l,e))break}else if(dn(l)&&Sh(l,e))break}}};function YR(t,e,n){const r=Ae(t,n);if(r||WE(n))return{error:r,name:n};const s=n.split(".");for(;s.length;){const i=s.join("."),a=Ae(e,i),l=Ae(t,i);if(a&&!Array.isArray(a)&&n!==i)return{name:n};if(l&&l.type)return{name:i,error:l};s.pop()}return{name:n}}var zte=(t,e,n,r)=>{n(t);const{name:s,...i}=t;return dr(i)||Object.keys(i).length>=Object.keys(e).length||Object.keys(i).find(a=>e[a]===(!r||Ms.all))},Wte=(t,e,n)=>!t||!e||t===e||Th(t).some(r=>r&&(n?r===e:r.startsWith(e)||e.startsWith(r))),Hte=(t,e,n,r,s)=>s.isOnAll?!1:!n&&s.isOnTouch?!(e||t):(n?r.isOnBlur:s.isOnBlur)?!t:(n?r.isOnChange:s.isOnChange)?t:!0,qte=(t,e)=>!Dy(Ae(t,e)).length&&Tn(t,e),Kte=(t,e,n)=>{const r=Th(Ae(t,n));return Rt(r,"root",e[n]),Rt(t,n,r),t},$m=t=>ci(t);function XR(t,e,n="validate"){if($m(t)||Array.isArray(t)&&t.every($m)||Wr(t)&&!t)return{type:n,message:$m(t)?t:"",ref:e}}var jc=t=>dn(t)&&!kg(t)?t:{value:t,message:""},ZR=async(t,e,n,r,s,i)=>{const{ref:a,refs:l,required:u,maxLength:d,minLength:f,min:g,max:y,pattern:x,validate:I,name:E,valueAsNumber:S,mount:k}=t._f,A=Ae(n,E);if(!k||e.has(E))return{};const N=l?l[0]:a,B=$=>{s&&N.reportValidity&&(N.setCustomValidity(Wr($)?"":$||""),N.reportValidity())},j={},G=qE(a),O=Pf(a),P=G||O,D=(S||HE(a))&&cn(a.value)&&cn(A)||Pg(a)&&a.value===""||A===""||Array.isArray(A)&&!A.length,M=X2.bind(null,E,r,j),F=($,V,ne,ve=Ui.maxLength,de=Ui.minLength)=>{const me=$?V:ne;j[E]={type:$?ve:de,message:me,ref:a,...M($?ve:de,me)}};if(i?!Array.isArray(A)||!A.length:u&&(!P&&(D||fr(A))||Wr(A)&&!A||O&&!t$(l).isValid||G&&!r$(l).isValid)){const{value:$,message:V}=$m(u)?{value:!!u,message:u}:jc(u);if($&&(j[E]={type:Ui.required,message:V,ref:N,...M(Ui.required,V)},!r))return B(V),j}if(!D&&(!fr(g)||!fr(y))){let $,V;const ne=jc(y),ve=jc(g);if(!fr(A)&&!isNaN(A)){const de=a.valueAsNumber||A&&+A;fr(ne.value)||($=de>ne.value),fr(ve.value)||(V=de<ve.value)}else{const de=a.valueAsDate||new Date(A),me=ue=>new Date(new Date().toDateString()+" "+ue),Z=a.type=="time",ce=a.type=="week";ci(ne.value)&&A&&($=Z?me(A)>me(ne.value):ce?A>ne.value:de>new Date(ne.value)),ci(ve.value)&&A&&(V=Z?me(A)<me(ve.value):ce?A<ve.value:de<new Date(ve.value))}if(($||V)&&(F(!!$,ne.message,ve.message,Ui.max,Ui.min),!r))return B(j[E].message),j}if((d||f)&&!D&&(ci(A)||i&&Array.isArray(A))){const $=jc(d),V=jc(f),ne=!fr($.value)&&A.length>+$.value,ve=!fr(V.value)&&A.length<+V.value;if((ne||ve)&&(F(ne,$.message,V.message),!r))return B(j[E].message),j}if(x&&!D&&ci(A)){const{value:$,message:V}=jc(x);if(kg($)&&!A.match($)&&(j[E]={type:Ui.pattern,message:V,ref:a,...M(Ui.pattern,V)},!r))return B(V),j}if(I){if($s(I)){const $=await I(A,n),V=XR($,N);if(V&&(j[E]={...V,...M(Ui.validate,V.message)},!r))return B(V.message),j}else if(dn(I)){let $={};for(const V in I){if(!dr($)&&!r)break;const ne=XR(await I[V](A,n),N,V);ne&&($={...ne,...M(V,ne.message)},B(ne.message),r&&(j[E]=$))}if(!dr($)&&(j[E]={ref:N,...$},!r))return j}}return B(!0),j};const Gte={mode:Ms.onSubmit,reValidateMode:Ms.onChange,shouldFocusError:!0};function Qte(t={}){let e={...Gte,...t},n={submitCount:0,isDirty:!1,isLoading:$s(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1};const r={};let s=dn(e.defaultValues)||dn(e.values)?Fn(e.values||e.defaultValues)||{}:{},i=e.shouldUnregister?{}:Fn(s),a={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},u,d=0;const f={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let g={...f};const y={array:UR(),state:UR()},x=KR(e.mode),I=KR(e.reValidateMode),E=e.criteriaMode===Ms.all,S=z=>X=>{clearTimeout(d),d=setTimeout(z,X)},k=async z=>{if(!e.disabled&&(f.isValid||g.isValid||z)){const X=e.resolver?dr((await D()).errors):await F(r,!0);X!==n.isValid&&y.state.next({isValid:X})}},A=(z,X)=>{!e.disabled&&(f.isValidating||f.validatingFields||g.isValidating||g.validatingFields)&&((z||Array.from(l.mount)).forEach(oe=>{oe&&(X?Rt(n.validatingFields,oe,X):Tn(n.validatingFields,oe))}),y.state.next({validatingFields:n.validatingFields,isValidating:!dr(n.validatingFields)}))},N=(z,X=[],oe,Ie,fe=!0,W=!0)=>{if(Ie&&oe&&!e.disabled){if(a.action=!0,W&&Array.isArray(Ae(r,z))){const ae=oe(Ae(r,z),Ie.argA,Ie.argB);fe&&Rt(r,z,ae)}if(W&&Array.isArray(Ae(n.errors,z))){const ae=oe(Ae(n.errors,z),Ie.argA,Ie.argB);fe&&Rt(n.errors,z,ae),qte(n.errors,z)}if((f.touchedFields||g.touchedFields)&&W&&Array.isArray(Ae(n.touchedFields,z))){const ae=oe(Ae(n.touchedFields,z),Ie.argA,Ie.argB);fe&&Rt(n.touchedFields,z,ae)}(f.dirtyFields||g.dirtyFields)&&(n.dirtyFields=eh(s,i)),y.state.next({name:z,isDirty:V(z,X),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else Rt(i,z,X)},B=(z,X)=>{Rt(n.errors,z,X),y.state.next({errors:n.errors})},j=z=>{n.errors=z,y.state.next({errors:n.errors,isValid:!1})},G=(z,X,oe,Ie)=>{const fe=Ae(r,z);if(fe){const W=Ae(i,z,cn(oe)?Ae(s,z):oe);cn(W)||Ie&&Ie.defaultChecked||X?Rt(i,z,X?W:qR(fe._f)):de(z,W),a.mount&&k()}},O=(z,X,oe,Ie,fe)=>{let W=!1,ae=!1;const we={name:z};if(!e.disabled){if(!oe||Ie){(f.isDirty||g.isDirty)&&(ae=n.isDirty,n.isDirty=we.isDirty=V(),W=ae!==we.isDirty);const ze=Go(Ae(s,z),X);ae=!!Ae(n.dirtyFields,z),ze?Tn(n.dirtyFields,z):Rt(n.dirtyFields,z,!0),we.dirtyFields=n.dirtyFields,W=W||(f.dirtyFields||g.dirtyFields)&&ae!==!ze}if(oe){const ze=Ae(n.touchedFields,z);ze||(Rt(n.touchedFields,z,oe),we.touchedFields=n.touchedFields,W=W||(f.touchedFields||g.touchedFields)&&ze!==oe)}W&&fe&&y.state.next(we)}return W?we:{}},P=(z,X,oe,Ie)=>{const fe=Ae(n.errors,z),W=(f.isValid||g.isValid)&&Wr(X)&&n.isValid!==X;if(e.delayError&&oe?(u=S(()=>B(z,oe)),u(e.delayError)):(clearTimeout(d),u=null,oe?Rt(n.errors,z,oe):Tn(n.errors,z)),(oe?!Go(fe,oe):fe)||!dr(Ie)||W){const ae={...Ie,...W&&Wr(X)?{isValid:X}:{},errors:n.errors,name:z};n={...n,...ae},y.state.next(ae)}},D=async z=>{A(z,!0);const X=await e.resolver(i,e.context,Fte(z||l.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return A(z),X},M=async z=>{const{errors:X}=await D(z);if(z)for(const oe of z){const Ie=Ae(X,oe);Ie?Rt(n.errors,oe,Ie):Tn(n.errors,oe)}else n.errors=X;return X},F=async(z,X,oe={valid:!0})=>{for(const Ie in z){const fe=z[Ie];if(fe){const{_f:W,...ae}=fe;if(W){const we=l.array.has(W.name),ze=fe._f&&Bte(fe._f);ze&&f.validatingFields&&A([Ie],!0);const yt=await ZR(fe,l.disabled,i,E,e.shouldUseNativeValidation&&!X,we);if(ze&&f.validatingFields&&A([Ie]),yt[W.name]&&(oe.valid=!1,X))break;!X&&(Ae(yt,W.name)?we?Kte(n.errors,yt,W.name):Rt(n.errors,W.name,yt[W.name]):Tn(n.errors,W.name))}!dr(ae)&&await F(ae,X,oe)}}return oe.valid},$=()=>{for(const z of l.unMount){const X=Ae(r,z);X&&(X._f.refs?X._f.refs.every(oe=>!m_(oe)):!m_(X._f.ref))&&Ke(z)}l.unMount=new Set},V=(z,X)=>!e.disabled&&(z&&X&&Rt(i,z,X),!Go(re(),s)),ne=(z,X,oe)=>Y2(z,l,{...a.mount?i:cn(X)?s:ci(z)?{[z]:X}:X},oe,X),ve=z=>Dy(Ae(a.mount?i:s,z,e.shouldUnregister?Ae(s,z,[]):[])),de=(z,X,oe={})=>{const Ie=Ae(r,z);let fe=X;if(Ie){const W=Ie._f;W&&(!W.disabled&&Rt(i,z,n$(X,W)),fe=Pg(W.ref)&&fr(X)?"":X,Z2(W.ref)?[...W.ref.options].forEach(ae=>ae.selected=fe.includes(ae.value)):W.refs?Pf(W.ref)?W.refs.length>1?W.refs.forEach(ae=>(!ae.defaultChecked||!ae.disabled)&&(ae.checked=Array.isArray(fe)?!!fe.find(we=>we===ae.value):fe===ae.value)):W.refs[0]&&(W.refs[0].checked=!!fe):W.refs.forEach(ae=>ae.checked=ae.value===fe):HE(W.ref)?W.ref.value="":(W.ref.value=fe,W.ref.type||y.state.next({name:z,values:Fn(i)})))}(oe.shouldDirty||oe.shouldTouch)&&O(z,fe,oe.shouldTouch,oe.shouldDirty,!0),oe.shouldValidate&&q(z)},me=(z,X,oe)=>{for(const Ie in X){const fe=X[Ie],W=`${z}.${Ie}`,ae=Ae(r,W);(l.array.has(z)||dn(fe)||ae&&!ae._f)&&!ml(fe)?me(W,fe,oe):de(W,fe,oe)}},Z=(z,X,oe={})=>{const Ie=Ae(r,z),fe=l.array.has(z),W=Fn(X);Rt(i,z,W),fe?(y.array.next({name:z,values:Fn(i)}),(f.isDirty||f.dirtyFields||g.isDirty||g.dirtyFields)&&oe.shouldDirty&&y.state.next({name:z,dirtyFields:eh(s,i),isDirty:V(z,W)})):Ie&&!Ie._f&&!fr(W)?me(z,W,oe):de(z,W,oe),QR(z,l)&&y.state.next({...n}),y.state.next({name:a.mount?z:void 0,values:Fn(i)})},ce=async z=>{a.mount=!0;const X=z.target;let oe=X.name,Ie=!0;const fe=Ae(r,oe),W=ae=>{Ie=Number.isNaN(ae)||ml(ae)&&isNaN(ae.getTime())||Go(ae,Ae(i,oe,ae))};if(fe){let ae,we;const ze=X.type?qR(fe._f):H2(z),yt=z.type===Ag.BLUR||z.type===Ag.FOCUS_OUT,Pn=!Ute(fe._f)&&!e.resolver&&!Ae(n.errors,oe)&&!fe._f.deps||Hte(yt,Ae(n.touchedFields,oe),n.isSubmitted,I,x),Ze=QR(oe,l,yt);Rt(i,oe,ze),yt?(fe._f.onBlur&&fe._f.onBlur(z),u&&u(0)):fe._f.onChange&&fe._f.onChange(z);const vr=O(oe,ze,yt),Ti=!dr(vr)||Ze;if(!yt&&y.state.next({name:oe,type:z.type,values:Fn(i)}),Pn)return(f.isValid||g.isValid)&&(e.mode==="onBlur"?yt&&k():yt||k()),Ti&&y.state.next({name:oe,...Ze?{}:vr});if(!yt&&Ze&&y.state.next({...n}),e.resolver){const{errors:Ks}=await D([oe]);if(W(ze),Ie){const Si=YR(n.errors,r,oe),Jr=YR(Ks,r,Si.name||oe);ae=Jr.error,oe=Jr.name,we=dr(Ks)}}else A([oe],!0),ae=(await ZR(fe,l.disabled,i,E,e.shouldUseNativeValidation))[oe],A([oe]),W(ze),Ie&&(ae?we=!1:(f.isValid||g.isValid)&&(we=await F(r,!0)));Ie&&(fe._f.deps&&q(fe._f.deps),P(oe,we,ae,vr))}},ue=(z,X)=>{if(Ae(n.errors,X)&&z.focus)return z.focus(),1},q=async(z,X={})=>{let oe,Ie;const fe=Th(z);if(e.resolver){const W=await M(cn(z)?z:fe);oe=dr(W),Ie=z?!fe.some(ae=>Ae(W,ae)):oe}else z?(Ie=(await Promise.all(fe.map(async W=>{const ae=Ae(r,W);return await F(ae&&ae._f?{[W]:ae}:ae)}))).every(Boolean),!(!Ie&&!n.isValid)&&k()):Ie=oe=await F(r);return y.state.next({...!ci(z)||(f.isValid||g.isValid)&&oe!==n.isValid?{}:{name:z},...e.resolver||!z?{isValid:oe}:{},errors:n.errors}),X.shouldFocus&&!Ie&&Sh(r,ue,z?fe:l.mount),Ie},re=z=>{const X={...a.mount?i:s};return cn(z)?X:ci(z)?Ae(X,z):z.map(oe=>Ae(X,oe))},Ce=(z,X)=>({invalid:!!Ae((X||n).errors,z),isDirty:!!Ae((X||n).dirtyFields,z),error:Ae((X||n).errors,z),isValidating:!!Ae(n.validatingFields,z),isTouched:!!Ae((X||n).touchedFields,z)}),Re=z=>{z&&Th(z).forEach(X=>Tn(n.errors,X)),y.state.next({errors:z?n.errors:{}})},qe=(z,X,oe)=>{const Ie=(Ae(r,z,{_f:{}})._f||{}).ref,fe=Ae(n.errors,z)||{},{ref:W,message:ae,type:we,...ze}=fe;Rt(n.errors,z,{...ze,...X,ref:Ie}),y.state.next({name:z,errors:n.errors,isValid:!1}),oe&&oe.shouldFocus&&Ie&&Ie.focus&&Ie.focus()},et=(z,X)=>$s(z)?y.state.subscribe({next:oe=>z(ne(void 0,X),oe)}):ne(z,X,!0),xe=z=>y.state.subscribe({next:X=>{Wte(z.name,X.name,z.exact)&&zte(X,z.formState||f,Zr,z.reRenderRoot)&&z.callback({values:{...i},...n,...X})}}).unsubscribe,Ve=z=>(a.mount=!0,g={...g,...z.formState},xe({...z,formState:g})),Ke=(z,X={})=>{for(const oe of z?Th(z):l.mount)l.mount.delete(oe),l.array.delete(oe),X.keepValue||(Tn(r,oe),Tn(i,oe)),!X.keepError&&Tn(n.errors,oe),!X.keepDirty&&Tn(n.dirtyFields,oe),!X.keepTouched&&Tn(n.touchedFields,oe),!X.keepIsValidating&&Tn(n.validatingFields,oe),!e.shouldUnregister&&!X.keepDefaultValue&&Tn(s,oe);y.state.next({values:Fn(i)}),y.state.next({...n,...X.keepDirty?{isDirty:V()}:{}}),!X.keepIsValid&&k()},Ge=({disabled:z,name:X})=>{(Wr(z)&&a.mount||z||l.disabled.has(X))&&(z?l.disabled.add(X):l.disabled.delete(X))},lt=(z,X={})=>{let oe=Ae(r,z);const Ie=Wr(X.disabled)||Wr(e.disabled);return Rt(r,z,{...oe||{},_f:{...oe&&oe._f?oe._f:{ref:{name:z}},name:z,mount:!0,...X}}),l.mount.add(z),oe?Ge({disabled:Wr(X.disabled)?X.disabled:e.disabled,name:z}):G(z,!0,X.value),{...Ie?{disabled:X.disabled||e.disabled}:{},...e.progressive?{required:!!X.required,min:th(X.min),max:th(X.max),minLength:th(X.minLength),maxLength:th(X.maxLength),pattern:th(X.pattern)}:{},name:z,onChange:ce,onBlur:ce,ref:fe=>{if(fe){lt(z,X),oe=Ae(r,z);const W=cn(fe.value)&&fe.querySelectorAll&&fe.querySelectorAll("input,select,textarea")[0]||fe,ae=Mte(W),we=oe._f.refs||[];if(ae?we.find(ze=>ze===W):W===oe._f.ref)return;Rt(r,z,{_f:{...oe._f,...ae?{refs:[...we.filter(m_),W,...Array.isArray(Ae(s,z))?[{}]:[]],ref:{type:W.type,name:z}}:{ref:W}}}),G(z,!1,void 0,W)}else oe=Ae(r,z,{}),oe._f&&(oe._f.mount=!1),(e.shouldUnregister||X.shouldUnregister)&&!(q2(l.array,z)&&a.action)&&l.unMount.add(z)}}},pt=()=>e.shouldFocusError&&Sh(r,ue,l.mount),Vt=z=>{Wr(z)&&(y.state.next({disabled:z}),Sh(r,(X,oe)=>{const Ie=Ae(r,oe);Ie&&(X.disabled=Ie._f.disabled||z,Array.isArray(Ie._f.refs)&&Ie._f.refs.forEach(fe=>{fe.disabled=Ie._f.disabled||z}))},0,!1))},Lt=(z,X)=>async oe=>{let Ie;oe&&(oe.preventDefault&&oe.preventDefault(),oe.persist&&oe.persist());let fe=Fn(i);if(y.state.next({isSubmitting:!0}),e.resolver){const{errors:W,values:ae}=await D();n.errors=W,fe=ae}else await F(r);if(l.disabled.size)for(const W of l.disabled)Rt(fe,W,void 0);if(Tn(n.errors,"root"),dr(n.errors)){y.state.next({errors:{}});try{await z(fe,oe)}catch(W){Ie=W}}else X&&await X({...n.errors},oe),pt(),setTimeout(pt);if(y.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:dr(n.errors)&&!Ie,submitCount:n.submitCount+1,errors:n.errors}),Ie)throw Ie},Kn=(z,X={})=>{Ae(r,z)&&(cn(X.defaultValue)?Z(z,Fn(Ae(s,z))):(Z(z,X.defaultValue),Rt(s,z,Fn(X.defaultValue))),X.keepTouched||Tn(n.touchedFields,z),X.keepDirty||(Tn(n.dirtyFields,z),n.isDirty=X.defaultValue?V(z,Fn(Ae(s,z))):V()),X.keepError||(Tn(n.errors,z),f.isValid&&k()),y.state.next({...n}))},Gn=(z,X={})=>{const oe=z?Fn(z):s,Ie=Fn(oe),fe=dr(z),W=fe?s:Ie;if(X.keepDefaultValues||(s=oe),!X.keepValues){if(X.keepDirtyValues){const ae=new Set([...l.mount,...Object.keys(eh(s,i))]);for(const we of Array.from(ae))Ae(n.dirtyFields,we)?Rt(W,we,Ae(i,we)):Z(we,Ae(W,we))}else{if(zE&&cn(z))for(const ae of l.mount){const we=Ae(r,ae);if(we&&we._f){const ze=Array.isArray(we._f.refs)?we._f.refs[0]:we._f.ref;if(Pg(ze)){const yt=ze.closest("form");if(yt){yt.reset();break}}}}for(const ae of l.mount)Z(ae,Ae(W,ae))}i=Fn(W),y.array.next({values:{...W}}),y.state.next({values:{...W}})}l={mount:X.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},a.mount=!f.isValid||!!X.keepIsValid||!!X.keepDirtyValues,a.watch=!!e.shouldUnregister,y.state.next({submitCount:X.keepSubmitCount?n.submitCount:0,isDirty:fe?!1:X.keepDirty?n.isDirty:!!(X.keepDefaultValues&&!Go(z,s)),isSubmitted:X.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:fe?{}:X.keepDirtyValues?X.keepDefaultValues&&i?eh(s,i):n.dirtyFields:X.keepDefaultValues&&z?eh(s,z):X.keepDirty?n.dirtyFields:{},touchedFields:X.keepTouched?n.touchedFields:{},errors:X.keepErrors?n.errors:{},isSubmitSuccessful:X.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},Qn=(z,X)=>Gn($s(z)?z(i):z,X),qs=(z,X={})=>{const oe=Ae(r,z),Ie=oe&&oe._f;if(Ie){const fe=Ie.refs?Ie.refs[0]:Ie.ref;fe.focus&&(fe.focus(),X.shouldSelect&&$s(fe.select)&&fe.select())}},Zr=z=>{n={...n,...z}},_n={control:{register:lt,unregister:Ke,getFieldState:Ce,handleSubmit:Lt,setError:qe,_subscribe:xe,_runSchema:D,_getWatch:ne,_getDirty:V,_setValid:k,_setFieldArray:N,_setDisabledField:Ge,_setErrors:j,_getFieldArray:ve,_reset:Gn,_resetDefaultValues:()=>$s(e.defaultValues)&&e.defaultValues().then(z=>{Qn(z,e.resetOptions),y.state.next({isLoading:!1})}),_removeUnmounted:$,_disableForm:Vt,_subjects:y,_proxyFormState:f,get _fields(){return r},get _formValues(){return i},get _state(){return a},set _state(z){a=z},get _defaultValues(){return s},get _names(){return l},set _names(z){l=z},get _formState(){return n},get _options(){return e},set _options(z){e={...e,...z}}},subscribe:Ve,trigger:q,register:lt,handleSubmit:Lt,watch:et,setValue:Z,getValues:re,reset:Qn,resetField:Kn,clearErrors:Re,unregister:Ke,setError:qe,setFocus:qs,getFieldState:Ce};return{..._n,formControl:_n}}function KE(t={}){const e=Se.useRef(void 0),n=Se.useRef(void 0),[r,s]=Se.useState({isDirty:!1,isValidating:!1,isLoading:$s(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:$s(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...t.formControl?t.formControl:Qte(t),formState:r},t.formControl&&t.defaultValues&&!$s(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions));const i=e.current.control;return i._options=t,Se.useLayoutEffect(()=>i._subscribe({formState:i._proxyFormState,callback:()=>s({...i._formState}),reRenderRoot:!0}),[i]),Se.useEffect(()=>i._disableForm(t.disabled),[i,t.disabled]),Se.useEffect(()=>{if(i._proxyFormState.isDirty){const a=i._getDirty();a!==r.isDirty&&i._subjects.state.next({isDirty:a})}},[i,r.isDirty]),Se.useEffect(()=>{t.values&&!Go(t.values,n.current)?(i._reset(t.values,i._options.resetOptions),n.current=t.values,s(a=>({...a}))):i._resetDefaultValues()},[t.values,i]),Se.useEffect(()=>{t.errors&&!dr(t.errors)&&i._setErrors(t.errors)},[t.errors,i]),Se.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),Se.useEffect(()=>{t.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[t.shouldUnregister,i]),e.current.formState=Q2(r,i),e.current}const JR=(t,e,n)=>{if(t&&"reportValidity"in t){const r=Ae(n,e);t.setCustomValidity(r&&r.message||""),t.reportValidity()}},s$=(t,e)=>{for(const n in e.fields){const r=e.fields[n];r&&r.ref&&"reportValidity"in r.ref?JR(r.ref,n,t):r.refs&&r.refs.forEach(s=>JR(s,n,t))}},Yte=(t,e)=>{e.shouldUseNativeValidation&&s$(t,e);const n={};for(const r in t){const s=Ae(e.fields,r),i=Object.assign(t[r]||{},{ref:s&&s.ref});if(Xte(e.names||Object.keys(t),r)){const a=Object.assign({},Ae(n,r));Rt(a,"root",i),Rt(n,r,a)}else Rt(n,r,i)}return n},Xte=(t,e)=>t.some(n=>n.startsWith(e+"."));var Zte=function(t,e){for(var n={};t.length;){var r=t[0],s=r.code,i=r.message,a=r.path.join(".");if(!n[a])if("unionErrors"in r){var l=r.unionErrors[0].errors[0];n[a]={message:l.message,type:l.code}}else n[a]={message:i,type:s};if("unionErrors"in r&&r.unionErrors.forEach(function(f){return f.errors.forEach(function(g){return t.push(g)})}),e){var u=n[a].types,d=u&&u[r.code];n[a]=X2(a,e,n,s,d?[].concat(d,r.message):r.message)}t.shift()}return n},GE=function(t,e,n){return n===void 0&&(n={}),function(r,s,i){try{return Promise.resolve((function(a,l){try{var u=Promise.resolve(t[n.mode==="sync"?"parse":"parseAsync"](r,e)).then(function(d){return i.shouldUseNativeValidation&&s$({},i),{errors:{},values:n.raw?r:d}})}catch(d){return l(d)}return u&&u.then?u.then(void 0,l):u})(0,function(a){if((function(l){return Array.isArray(l?.errors)})(a))return{values:{},errors:Yte(Zte(a.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw a}))}catch(a){return Promise.reject(a)}}},At;(function(t){t.assertEqual=s=>{};function e(s){}t.assertIs=e;function n(s){throw new Error}t.assertNever=n,t.arrayToEnum=s=>{const i={};for(const a of s)i[a]=a;return i},t.getValidEnumValues=s=>{const i=t.objectKeys(s).filter(l=>typeof s[s[l]]!="number"),a={};for(const l of i)a[l]=s[l];return t.objectValues(a)},t.objectValues=s=>t.objectKeys(s).map(function(i){return s[i]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const a in s)Object.prototype.hasOwnProperty.call(s,a)&&i.push(a);return i},t.find=(s,i)=>{for(const a of s)if(i(a))return a},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&Number.isFinite(s)&&Math.floor(s)===s;function r(s,i=" | "){return s.map(a=>typeof a=="string"?`'${a}'`:a).join(i)}t.joinValues=r,t.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(At||(At={}));var ek;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(ek||(ek={}));const je=At.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Ho=t=>{switch(typeof t){case"undefined":return je.undefined;case"string":return je.string;case"number":return Number.isNaN(t)?je.nan:je.number;case"boolean":return je.boolean;case"function":return je.function;case"bigint":return je.bigint;case"symbol":return je.symbol;case"object":return Array.isArray(t)?je.array:t===null?je.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?je.promise:typeof Map<"u"&&t instanceof Map?je.map:typeof Set<"u"&&t instanceof Set?je.set:typeof Date<"u"&&t instanceof Date?je.date:je.object;default:return je.unknown}},be=At.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class ro extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(i){return i.message},r={_errors:[]},s=i=>{for(const a of i.issues)if(a.code==="invalid_union")a.unionErrors.map(s);else if(a.code==="invalid_return_type")s(a.returnTypeError);else if(a.code==="invalid_arguments")s(a.argumentsError);else if(a.path.length===0)r._errors.push(n(a));else{let l=r,u=0;for(;u<a.path.length;){const d=a.path[u];u===a.path.length-1?(l[d]=l[d]||{_errors:[]},l[d]._errors.push(n(a))):l[d]=l[d]||{_errors:[]},l=l[d],u++}}};return s(this),r}static assert(e){if(!(e instanceof ro))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,At.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const s of this.issues)if(s.path.length>0){const i=s.path[0];n[i]=n[i]||[],n[i].push(e(s))}else r.push(e(s));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}ro.create=t=>new ro(t);const qb=(t,e)=>{let n;switch(t.code){case be.invalid_type:t.received===je.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case be.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,At.jsonStringifyReplacer)}`;break;case be.unrecognized_keys:n=`Unrecognized key(s) in object: ${At.joinValues(t.keys,", ")}`;break;case be.invalid_union:n="Invalid input";break;case be.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${At.joinValues(t.options)}`;break;case be.invalid_enum_value:n=`Invalid enum value. Expected ${At.joinValues(t.options)}, received '${t.received}'`;break;case be.invalid_arguments:n="Invalid function arguments";break;case be.invalid_return_type:n="Invalid function return type";break;case be.invalid_date:n="Invalid date";break;case be.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:At.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case be.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case be.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case be.custom:n="Invalid input";break;case be.invalid_intersection_types:n="Intersection results could not be merged";break;case be.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case be.not_finite:n="Number must be finite";break;default:n=e.defaultError,At.assertNever(t)}return{message:n}};let Jte=qb;function ene(){return Jte}const tne=t=>{const{data:e,path:n,errorMaps:r,issueData:s}=t,i=[...n,...s.path||[]],a={...s,path:i};if(s.message!==void 0)return{...s,path:i,message:s.message};let l="";const u=r.filter(d=>!!d).slice().reverse();for(const d of u)l=d(a,{data:e,defaultError:l}).message;return{...s,path:i,message:l}};function Ne(t,e){const n=ene(),r=tne({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===qb?void 0:qb].filter(s=>!!s)});t.common.issues.push(r)}class Xr{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const s of n){if(s.status==="aborted")return st;s.status==="dirty"&&e.dirty(),r.push(s.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const s of n){const i=await s.key,a=await s.value;r.push({key:i,value:a})}return Xr.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const s of n){const{key:i,value:a}=s;if(i.status==="aborted"||a.status==="aborted")return st;i.status==="dirty"&&e.dirty(),a.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof a.value<"u"||s.alwaysSet)&&(r[i.value]=a.value)}return{status:e.value,value:r}}}const st=Object.freeze({status:"aborted"}),dh=t=>({status:"dirty",value:t}),bs=t=>({status:"valid",value:t}),tk=t=>t.status==="aborted",nk=t=>t.status==="dirty",Vu=t=>t.status==="valid",Dg=t=>typeof Promise<"u"&&t instanceof Promise;var Ue;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e?.message})(Ue||(Ue={}));class Ea{constructor(e,n,r,s){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=s}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const rk=(t,e)=>{if(Vu(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new ro(t.common.issues);return this._error=n,this._error}}};function ft(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:s}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(a,l)=>{const{message:u}=t;return a.code==="invalid_enum_value"?{message:u??l.defaultError}:typeof l.data>"u"?{message:u??r??l.defaultError}:a.code!=="invalid_type"?{message:l.defaultError}:{message:u??n??l.defaultError}},description:s}}class St{get description(){return this._def.description}_getType(e){return Ho(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:Ho(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Xr,ctx:{common:e.parent.common,data:e.data,parsedType:Ho(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(Dg(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){const r={common:{issues:[],async:n?.async??!1,contextualErrorMap:n?.errorMap},path:n?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ho(e)},s=this._parseSync({data:e,path:r.path,parent:r});return rk(r,s)}"~validate"(e){const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ho(e)};if(!this["~standard"].async)try{const r=this._parseSync({data:e,path:[],parent:n});return Vu(r)?{value:r.value}:{issues:n.common.issues}}catch(r){r?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:n}).then(r=>Vu(r)?{value:r.value}:{issues:n.common.issues})}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n?.errorMap,async:!0},path:n?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ho(e)},s=this._parse({data:e,path:r.path,parent:r}),i=await(Dg(s)?s:Promise.resolve(s));return rk(r,i)}refine(e,n){const r=s=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(s):n;return this._refinement((s,i)=>{const a=e(s),l=()=>i.addIssue({code:be.custom,...r(s)});return typeof Promise<"u"&&a instanceof Promise?a.then(u=>u?!0:(l(),!1)):a?!0:(l(),!1)})}refinement(e,n){return this._refinement((r,s)=>e(r)?!0:(s.addIssue(typeof n=="function"?n(r,s):n),!1))}_refinement(e){return new $u({schema:this,typeName:it.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return da.create(this,this._def)}nullable(){return ju.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return pi.create(this)}promise(){return Lg.create(this,this._def)}or(e){return Og.create([this,e],this._def)}and(e){return Vg.create(this,e,this._def)}transform(e){return new $u({...ft(this._def),schema:this,typeName:it.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new Gb({...ft(this._def),innerType:this,defaultValue:n,typeName:it.ZodDefault})}brand(){return new Tne({typeName:it.ZodBranded,type:this,...ft(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new Qb({...ft(this._def),innerType:this,catchValue:n,typeName:it.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return QE.create(this,e)}readonly(){return Yb.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const nne=/^c[^\s-]{8,}$/i,rne=/^[0-9a-z]+$/,sne=/^[0-9A-HJKMNP-TV-Z]{26}$/i,ine=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,one=/^[a-z0-9_-]{21}$/i,ane=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,lne=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,cne=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,une="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let g_;const dne=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,hne=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,fne=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,pne=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,mne=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,gne=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,i$="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",yne=new RegExp(`^${i$}$`);function o$(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const n=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${n}`}function vne(t){return new RegExp(`^${o$(t)}$`)}function wne(t){let e=`${i$}T${o$(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function _ne(t,e){return!!((e==="v4"||!e)&&dne.test(t)||(e==="v6"||!e)&&fne.test(t))}function bne(t,e){if(!ane.test(t))return!1;try{const[n]=t.split(".");if(!n)return!1;const r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),s=JSON.parse(atob(r));return!(typeof s!="object"||s===null||"typ"in s&&s?.typ!=="JWT"||!s.alg||e&&s.alg!==e)}catch{return!1}}function xne(t,e){return!!((e==="v4"||!e)&&hne.test(t)||(e==="v6"||!e)&&pne.test(t))}class ea extends St{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==je.string){const i=this._getOrReturnCtx(e);return Ne(i,{code:be.invalid_type,expected:je.string,received:i.parsedType}),st}const r=new Xr;let s;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(s=this._getOrReturnCtx(e,s),Ne(s,{code:be.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="max")e.data.length>i.value&&(s=this._getOrReturnCtx(e,s),Ne(s,{code:be.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="length"){const a=e.data.length>i.value,l=e.data.length<i.value;(a||l)&&(s=this._getOrReturnCtx(e,s),a?Ne(s,{code:be.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):l&&Ne(s,{code:be.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),r.dirty())}else if(i.kind==="email")cne.test(e.data)||(s=this._getOrReturnCtx(e,s),Ne(s,{validation:"email",code:be.invalid_string,message:i.message}),r.dirty());else if(i.kind==="emoji")g_||(g_=new RegExp(une,"u")),g_.test(e.data)||(s=this._getOrReturnCtx(e,s),Ne(s,{validation:"emoji",code:be.invalid_string,message:i.message}),r.dirty());else if(i.kind==="uuid")ine.test(e.data)||(s=this._getOrReturnCtx(e,s),Ne(s,{validation:"uuid",code:be.invalid_string,message:i.message}),r.dirty());else if(i.kind==="nanoid")one.test(e.data)||(s=this._getOrReturnCtx(e,s),Ne(s,{validation:"nanoid",code:be.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid")nne.test(e.data)||(s=this._getOrReturnCtx(e,s),Ne(s,{validation:"cuid",code:be.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid2")rne.test(e.data)||(s=this._getOrReturnCtx(e,s),Ne(s,{validation:"cuid2",code:be.invalid_string,message:i.message}),r.dirty());else if(i.kind==="ulid")sne.test(e.data)||(s=this._getOrReturnCtx(e,s),Ne(s,{validation:"ulid",code:be.invalid_string,message:i.message}),r.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),Ne(s,{validation:"url",code:be.invalid_string,message:i.message}),r.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),Ne(s,{validation:"regex",code:be.invalid_string,message:i.message}),r.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(e,s),Ne(s,{code:be.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),r.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(s=this._getOrReturnCtx(e,s),Ne(s,{code:be.invalid_string,validation:{startsWith:i.value},message:i.message}),r.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(s=this._getOrReturnCtx(e,s),Ne(s,{code:be.invalid_string,validation:{endsWith:i.value},message:i.message}),r.dirty()):i.kind==="datetime"?wne(i).test(e.data)||(s=this._getOrReturnCtx(e,s),Ne(s,{code:be.invalid_string,validation:"datetime",message:i.message}),r.dirty()):i.kind==="date"?yne.test(e.data)||(s=this._getOrReturnCtx(e,s),Ne(s,{code:be.invalid_string,validation:"date",message:i.message}),r.dirty()):i.kind==="time"?vne(i).test(e.data)||(s=this._getOrReturnCtx(e,s),Ne(s,{code:be.invalid_string,validation:"time",message:i.message}),r.dirty()):i.kind==="duration"?lne.test(e.data)||(s=this._getOrReturnCtx(e,s),Ne(s,{validation:"duration",code:be.invalid_string,message:i.message}),r.dirty()):i.kind==="ip"?_ne(e.data,i.version)||(s=this._getOrReturnCtx(e,s),Ne(s,{validation:"ip",code:be.invalid_string,message:i.message}),r.dirty()):i.kind==="jwt"?bne(e.data,i.alg)||(s=this._getOrReturnCtx(e,s),Ne(s,{validation:"jwt",code:be.invalid_string,message:i.message}),r.dirty()):i.kind==="cidr"?xne(e.data,i.version)||(s=this._getOrReturnCtx(e,s),Ne(s,{validation:"cidr",code:be.invalid_string,message:i.message}),r.dirty()):i.kind==="base64"?mne.test(e.data)||(s=this._getOrReturnCtx(e,s),Ne(s,{validation:"base64",code:be.invalid_string,message:i.message}),r.dirty()):i.kind==="base64url"?gne.test(e.data)||(s=this._getOrReturnCtx(e,s),Ne(s,{validation:"base64url",code:be.invalid_string,message:i.message}),r.dirty()):At.assertNever(i);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(s=>e.test(s),{validation:n,code:be.invalid_string,...Ue.errToObj(r)})}_addCheck(e){return new ea({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Ue.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Ue.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Ue.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Ue.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...Ue.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Ue.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Ue.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Ue.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...Ue.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...Ue.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...Ue.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Ue.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...Ue.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:e?.offset??!1,local:e?.local??!1,...Ue.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof e?.precision>"u"?null:e?.precision,...Ue.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...Ue.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...Ue.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n?.position,...Ue.errToObj(n?.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...Ue.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...Ue.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...Ue.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...Ue.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...Ue.errToObj(n)})}nonempty(e){return this.min(1,Ue.errToObj(e))}trim(){return new ea({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new ea({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ea({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}ea.create=t=>new ea({checks:[],typeName:it.ZodString,coerce:t?.coerce??!1,...ft(t)});function Ene(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,s=n>r?n:r,i=Number.parseInt(t.toFixed(s).replace(".","")),a=Number.parseInt(e.toFixed(s).replace(".",""));return i%a/10**s}class Lu extends St{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==je.number){const i=this._getOrReturnCtx(e);return Ne(i,{code:be.invalid_type,expected:je.number,received:i.parsedType}),st}let r;const s=new Xr;for(const i of this._def.checks)i.kind==="int"?At.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),Ne(r,{code:be.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),Ne(r,{code:be.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),Ne(r,{code:be.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?Ene(e.data,i.value)!==0&&(r=this._getOrReturnCtx(e,r),Ne(r,{code:be.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),Ne(r,{code:be.not_finite,message:i.message}),s.dirty()):At.assertNever(i);return{status:s.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,Ue.toString(n))}gt(e,n){return this.setLimit("min",e,!1,Ue.toString(n))}lte(e,n){return this.setLimit("max",e,!0,Ue.toString(n))}lt(e,n){return this.setLimit("max",e,!1,Ue.toString(n))}setLimit(e,n,r,s){return new Lu({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:Ue.toString(s)}]})}_addCheck(e){return new Lu({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Ue.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Ue.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Ue.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Ue.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Ue.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:Ue.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:Ue.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Ue.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Ue.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&At.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}Lu.create=t=>new Lu({checks:[],typeName:it.ZodNumber,coerce:t?.coerce||!1,...ft(t)});class Zh extends St{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==je.bigint)return this._getInvalidInput(e);let r;const s=new Xr;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),Ne(r,{code:be.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),Ne(r,{code:be.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),Ne(r,{code:be.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):At.assertNever(i);return{status:s.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return Ne(n,{code:be.invalid_type,expected:je.bigint,received:n.parsedType}),st}gte(e,n){return this.setLimit("min",e,!0,Ue.toString(n))}gt(e,n){return this.setLimit("min",e,!1,Ue.toString(n))}lte(e,n){return this.setLimit("max",e,!0,Ue.toString(n))}lt(e,n){return this.setLimit("max",e,!1,Ue.toString(n))}setLimit(e,n,r,s){return new Zh({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:Ue.toString(s)}]})}_addCheck(e){return new Zh({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Ue.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Ue.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Ue.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Ue.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:Ue.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Zh.create=t=>new Zh({checks:[],typeName:it.ZodBigInt,coerce:t?.coerce??!1,...ft(t)});class sk extends St{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==je.boolean){const r=this._getOrReturnCtx(e);return Ne(r,{code:be.invalid_type,expected:je.boolean,received:r.parsedType}),st}return bs(e.data)}}sk.create=t=>new sk({typeName:it.ZodBoolean,coerce:t?.coerce||!1,...ft(t)});class Ng extends St{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==je.date){const i=this._getOrReturnCtx(e);return Ne(i,{code:be.invalid_type,expected:je.date,received:i.parsedType}),st}if(Number.isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return Ne(i,{code:be.invalid_date}),st}const r=new Xr;let s;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(s=this._getOrReturnCtx(e,s),Ne(s,{code:be.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(s=this._getOrReturnCtx(e,s),Ne(s,{code:be.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):At.assertNever(i);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Ng({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:Ue.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:Ue.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}Ng.create=t=>new Ng({checks:[],coerce:t?.coerce||!1,typeName:it.ZodDate,...ft(t)});class ik extends St{_parse(e){if(this._getType(e)!==je.symbol){const r=this._getOrReturnCtx(e);return Ne(r,{code:be.invalid_type,expected:je.symbol,received:r.parsedType}),st}return bs(e.data)}}ik.create=t=>new ik({typeName:it.ZodSymbol,...ft(t)});class ok extends St{_parse(e){if(this._getType(e)!==je.undefined){const r=this._getOrReturnCtx(e);return Ne(r,{code:be.invalid_type,expected:je.undefined,received:r.parsedType}),st}return bs(e.data)}}ok.create=t=>new ok({typeName:it.ZodUndefined,...ft(t)});class ak extends St{_parse(e){if(this._getType(e)!==je.null){const r=this._getOrReturnCtx(e);return Ne(r,{code:be.invalid_type,expected:je.null,received:r.parsedType}),st}return bs(e.data)}}ak.create=t=>new ak({typeName:it.ZodNull,...ft(t)});class lk extends St{constructor(){super(...arguments),this._any=!0}_parse(e){return bs(e.data)}}lk.create=t=>new lk({typeName:it.ZodAny,...ft(t)});class ck extends St{constructor(){super(...arguments),this._unknown=!0}_parse(e){return bs(e.data)}}ck.create=t=>new ck({typeName:it.ZodUnknown,...ft(t)});class Ta extends St{_parse(e){const n=this._getOrReturnCtx(e);return Ne(n,{code:be.invalid_type,expected:je.never,received:n.parsedType}),st}}Ta.create=t=>new Ta({typeName:it.ZodNever,...ft(t)});class uk extends St{_parse(e){if(this._getType(e)!==je.undefined){const r=this._getOrReturnCtx(e);return Ne(r,{code:be.invalid_type,expected:je.void,received:r.parsedType}),st}return bs(e.data)}}uk.create=t=>new uk({typeName:it.ZodVoid,...ft(t)});class pi extends St{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),s=this._def;if(n.parsedType!==je.array)return Ne(n,{code:be.invalid_type,expected:je.array,received:n.parsedType}),st;if(s.exactLength!==null){const a=n.data.length>s.exactLength.value,l=n.data.length<s.exactLength.value;(a||l)&&(Ne(n,{code:a?be.too_big:be.too_small,minimum:l?s.exactLength.value:void 0,maximum:a?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),r.dirty())}if(s.minLength!==null&&n.data.length<s.minLength.value&&(Ne(n,{code:be.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),r.dirty()),s.maxLength!==null&&n.data.length>s.maxLength.value&&(Ne(n,{code:be.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((a,l)=>s.type._parseAsync(new Ea(n,a,n.path,l)))).then(a=>Xr.mergeArray(r,a));const i=[...n.data].map((a,l)=>s.type._parseSync(new Ea(n,a,n.path,l)));return Xr.mergeArray(r,i)}get element(){return this._def.type}min(e,n){return new pi({...this._def,minLength:{value:e,message:Ue.toString(n)}})}max(e,n){return new pi({...this._def,maxLength:{value:e,message:Ue.toString(n)}})}length(e,n){return new pi({...this._def,exactLength:{value:e,message:Ue.toString(n)}})}nonempty(e){return this.min(1,e)}}pi.create=(t,e)=>new pi({type:t,minLength:null,maxLength:null,exactLength:null,typeName:it.ZodArray,...ft(e)});function Gc(t){if(t instanceof gn){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=da.create(Gc(r))}return new gn({...t._def,shape:()=>e})}else return t instanceof pi?new pi({...t._def,type:Gc(t.element)}):t instanceof da?da.create(Gc(t.unwrap())):t instanceof ju?ju.create(Gc(t.unwrap())):t instanceof Bl?Bl.create(t.items.map(e=>Gc(e))):t}class gn extends St{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=At.objectKeys(e);return this._cached={shape:e,keys:n},this._cached}_parse(e){if(this._getType(e)!==je.object){const d=this._getOrReturnCtx(e);return Ne(d,{code:be.invalid_type,expected:je.object,received:d.parsedType}),st}const{status:r,ctx:s}=this._processInputParams(e),{shape:i,keys:a}=this._getCached(),l=[];if(!(this._def.catchall instanceof Ta&&this._def.unknownKeys==="strip"))for(const d in s.data)a.includes(d)||l.push(d);const u=[];for(const d of a){const f=i[d],g=s.data[d];u.push({key:{status:"valid",value:d},value:f._parse(new Ea(s,g,s.path,d)),alwaysSet:d in s.data})}if(this._def.catchall instanceof Ta){const d=this._def.unknownKeys;if(d==="passthrough")for(const f of l)u.push({key:{status:"valid",value:f},value:{status:"valid",value:s.data[f]}});else if(d==="strict")l.length>0&&(Ne(s,{code:be.unrecognized_keys,keys:l}),r.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const f of l){const g=s.data[f];u.push({key:{status:"valid",value:f},value:d._parse(new Ea(s,g,s.path,f)),alwaysSet:f in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const d=[];for(const f of u){const g=await f.key,y=await f.value;d.push({key:g,value:y,alwaysSet:f.alwaysSet})}return d}).then(d=>Xr.mergeObjectSync(r,d)):Xr.mergeObjectSync(r,u)}get shape(){return this._def.shape()}strict(e){return Ue.errToObj,new gn({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{const s=this._def.errorMap?.(n,r).message??r.defaultError;return n.code==="unrecognized_keys"?{message:Ue.errToObj(e).message??s}:{message:s}}}:{}})}strip(){return new gn({...this._def,unknownKeys:"strip"})}passthrough(){return new gn({...this._def,unknownKeys:"passthrough"})}extend(e){return new gn({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new gn({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:it.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new gn({...this._def,catchall:e})}pick(e){const n={};for(const r of At.objectKeys(e))e[r]&&this.shape[r]&&(n[r]=this.shape[r]);return new gn({...this._def,shape:()=>n})}omit(e){const n={};for(const r of At.objectKeys(this.shape))e[r]||(n[r]=this.shape[r]);return new gn({...this._def,shape:()=>n})}deepPartial(){return Gc(this)}partial(e){const n={};for(const r of At.objectKeys(this.shape)){const s=this.shape[r];e&&!e[r]?n[r]=s:n[r]=s.optional()}return new gn({...this._def,shape:()=>n})}required(e){const n={};for(const r of At.objectKeys(this.shape))if(e&&!e[r])n[r]=this.shape[r];else{let i=this.shape[r];for(;i instanceof da;)i=i._def.innerType;n[r]=i}return new gn({...this._def,shape:()=>n})}keyof(){return a$(At.objectKeys(this.shape))}}gn.create=(t,e)=>new gn({shape:()=>t,unknownKeys:"strip",catchall:Ta.create(),typeName:it.ZodObject,...ft(e)});gn.strictCreate=(t,e)=>new gn({shape:()=>t,unknownKeys:"strict",catchall:Ta.create(),typeName:it.ZodObject,...ft(e)});gn.lazycreate=(t,e)=>new gn({shape:t,unknownKeys:"strip",catchall:Ta.create(),typeName:it.ZodObject,...ft(e)});class Og extends St{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function s(i){for(const l of i)if(l.result.status==="valid")return l.result;for(const l of i)if(l.result.status==="dirty")return n.common.issues.push(...l.ctx.common.issues),l.result;const a=i.map(l=>new ro(l.ctx.common.issues));return Ne(n,{code:be.invalid_union,unionErrors:a}),st}if(n.common.async)return Promise.all(r.map(async i=>{const a={...n,common:{...n.common,issues:[]},parent:null};return{result:await i._parseAsync({data:n.data,path:n.path,parent:a}),ctx:a}})).then(s);{let i;const a=[];for(const u of r){const d={...n,common:{...n.common,issues:[]},parent:null},f=u._parseSync({data:n.data,path:n.path,parent:d});if(f.status==="valid")return f;f.status==="dirty"&&!i&&(i={result:f,ctx:d}),d.common.issues.length&&a.push(d.common.issues)}if(i)return n.common.issues.push(...i.ctx.common.issues),i.result;const l=a.map(u=>new ro(u));return Ne(n,{code:be.invalid_union,unionErrors:l}),st}}get options(){return this._def.options}}Og.create=(t,e)=>new Og({options:t,typeName:it.ZodUnion,...ft(e)});function Kb(t,e){const n=Ho(t),r=Ho(e);if(t===e)return{valid:!0,data:t};if(n===je.object&&r===je.object){const s=At.objectKeys(e),i=At.objectKeys(t).filter(l=>s.indexOf(l)!==-1),a={...t,...e};for(const l of i){const u=Kb(t[l],e[l]);if(!u.valid)return{valid:!1};a[l]=u.data}return{valid:!0,data:a}}else if(n===je.array&&r===je.array){if(t.length!==e.length)return{valid:!1};const s=[];for(let i=0;i<t.length;i++){const a=t[i],l=e[i],u=Kb(a,l);if(!u.valid)return{valid:!1};s.push(u.data)}return{valid:!0,data:s}}else return n===je.date&&r===je.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Vg extends St{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=(i,a)=>{if(tk(i)||tk(a))return st;const l=Kb(i.value,a.value);return l.valid?((nk(i)||nk(a))&&n.dirty(),{status:n.value,value:l.data}):(Ne(r,{code:be.invalid_intersection_types}),st)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([i,a])=>s(i,a)):s(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Vg.create=(t,e,n)=>new Vg({left:t,right:e,typeName:it.ZodIntersection,...ft(n)});class Bl extends St{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==je.array)return Ne(r,{code:be.invalid_type,expected:je.array,received:r.parsedType}),st;if(r.data.length<this._def.items.length)return Ne(r,{code:be.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),st;!this._def.rest&&r.data.length>this._def.items.length&&(Ne(r,{code:be.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const i=[...r.data].map((a,l)=>{const u=this._def.items[l]||this._def.rest;return u?u._parse(new Ea(r,a,r.path,l)):null}).filter(a=>!!a);return r.common.async?Promise.all(i).then(a=>Xr.mergeArray(n,a)):Xr.mergeArray(n,i)}get items(){return this._def.items}rest(e){return new Bl({...this._def,rest:e})}}Bl.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Bl({items:t,typeName:it.ZodTuple,rest:null,...ft(e)})};class dk extends St{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==je.map)return Ne(r,{code:be.invalid_type,expected:je.map,received:r.parsedType}),st;const s=this._def.keyType,i=this._def.valueType,a=[...r.data.entries()].map(([l,u],d)=>({key:s._parse(new Ea(r,l,r.path,[d,"key"])),value:i._parse(new Ea(r,u,r.path,[d,"value"]))}));if(r.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const u of a){const d=await u.key,f=await u.value;if(d.status==="aborted"||f.status==="aborted")return st;(d.status==="dirty"||f.status==="dirty")&&n.dirty(),l.set(d.value,f.value)}return{status:n.value,value:l}})}else{const l=new Map;for(const u of a){const d=u.key,f=u.value;if(d.status==="aborted"||f.status==="aborted")return st;(d.status==="dirty"||f.status==="dirty")&&n.dirty(),l.set(d.value,f.value)}return{status:n.value,value:l}}}}dk.create=(t,e,n)=>new dk({valueType:e,keyType:t,typeName:it.ZodMap,...ft(n)});class Jh extends St{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==je.set)return Ne(r,{code:be.invalid_type,expected:je.set,received:r.parsedType}),st;const s=this._def;s.minSize!==null&&r.data.size<s.minSize.value&&(Ne(r,{code:be.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),n.dirty()),s.maxSize!==null&&r.data.size>s.maxSize.value&&(Ne(r,{code:be.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),n.dirty());const i=this._def.valueType;function a(u){const d=new Set;for(const f of u){if(f.status==="aborted")return st;f.status==="dirty"&&n.dirty(),d.add(f.value)}return{status:n.value,value:d}}const l=[...r.data.values()].map((u,d)=>i._parse(new Ea(r,u,r.path,d)));return r.common.async?Promise.all(l).then(u=>a(u)):a(l)}min(e,n){return new Jh({...this._def,minSize:{value:e,message:Ue.toString(n)}})}max(e,n){return new Jh({...this._def,maxSize:{value:e,message:Ue.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}Jh.create=(t,e)=>new Jh({valueType:t,minSize:null,maxSize:null,typeName:it.ZodSet,...ft(e)});class hk extends St{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}hk.create=(t,e)=>new hk({getter:t,typeName:it.ZodLazy,...ft(e)});class fk extends St{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return Ne(n,{received:n.data,code:be.invalid_literal,expected:this._def.value}),st}return{status:"valid",value:e.data}}get value(){return this._def.value}}fk.create=(t,e)=>new fk({value:t,typeName:it.ZodLiteral,...ft(e)});function a$(t,e){return new Mu({values:t,typeName:it.ZodEnum,...ft(e)})}class Mu extends St{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return Ne(n,{expected:At.joinValues(r),received:n.parsedType,code:be.invalid_type}),st}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return Ne(n,{received:n.data,code:be.invalid_enum_value,options:r}),st}return bs(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return Mu.create(e,{...this._def,...n})}exclude(e,n=this._def){return Mu.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}Mu.create=a$;class pk extends St{_parse(e){const n=At.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==je.string&&r.parsedType!==je.number){const s=At.objectValues(n);return Ne(r,{expected:At.joinValues(s),received:r.parsedType,code:be.invalid_type}),st}if(this._cache||(this._cache=new Set(At.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const s=At.objectValues(n);return Ne(r,{received:r.data,code:be.invalid_enum_value,options:s}),st}return bs(e.data)}get enum(){return this._def.values}}pk.create=(t,e)=>new pk({values:t,typeName:it.ZodNativeEnum,...ft(e)});class Lg extends St{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==je.promise&&n.common.async===!1)return Ne(n,{code:be.invalid_type,expected:je.promise,received:n.parsedType}),st;const r=n.parsedType===je.promise?n.data:Promise.resolve(n.data);return bs(r.then(s=>this._def.type.parseAsync(s,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Lg.create=(t,e)=>new Lg({type:t,typeName:it.ZodPromise,...ft(e)});class $u extends St{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===it.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=this._def.effect||null,i={addIssue:a=>{Ne(r,a),a.fatal?n.abort():n.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const a=s.transform(r.data,i);if(r.common.async)return Promise.resolve(a).then(async l=>{if(n.value==="aborted")return st;const u=await this._def.schema._parseAsync({data:l,path:r.path,parent:r});return u.status==="aborted"?st:u.status==="dirty"||n.value==="dirty"?dh(u.value):u});{if(n.value==="aborted")return st;const l=this._def.schema._parseSync({data:a,path:r.path,parent:r});return l.status==="aborted"?st:l.status==="dirty"||n.value==="dirty"?dh(l.value):l}}if(s.type==="refinement"){const a=l=>{const u=s.refinement(l,i);if(r.common.async)return Promise.resolve(u);if(u instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(r.common.async===!1){const l=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return l.status==="aborted"?st:(l.status==="dirty"&&n.dirty(),a(l.value),{status:n.value,value:l.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(l=>l.status==="aborted"?st:(l.status==="dirty"&&n.dirty(),a(l.value).then(()=>({status:n.value,value:l.value}))))}if(s.type==="transform")if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Vu(a))return st;const l=s.transform(a.value,i);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:l}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>Vu(a)?Promise.resolve(s.transform(a.value,i)).then(l=>({status:n.value,value:l})):st);At.assertNever(s)}}$u.create=(t,e,n)=>new $u({schema:t,typeName:it.ZodEffects,effect:e,...ft(n)});$u.createWithPreprocess=(t,e,n)=>new $u({schema:e,effect:{type:"preprocess",transform:t},typeName:it.ZodEffects,...ft(n)});class da extends St{_parse(e){return this._getType(e)===je.undefined?bs(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}da.create=(t,e)=>new da({innerType:t,typeName:it.ZodOptional,...ft(e)});class ju extends St{_parse(e){return this._getType(e)===je.null?bs(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}ju.create=(t,e)=>new ju({innerType:t,typeName:it.ZodNullable,...ft(e)});class Gb extends St{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===je.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}Gb.create=(t,e)=>new Gb({innerType:t,typeName:it.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...ft(e)});class Qb extends St{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},s=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Dg(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new ro(r.common.issues)},input:r.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new ro(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}Qb.create=(t,e)=>new Qb({innerType:t,typeName:it.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...ft(e)});class mk extends St{_parse(e){if(this._getType(e)!==je.nan){const r=this._getOrReturnCtx(e);return Ne(r,{code:be.invalid_type,expected:je.nan,received:r.parsedType}),st}return{status:"valid",value:e.data}}}mk.create=t=>new mk({typeName:it.ZodNaN,...ft(t)});class Tne extends St{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class QE extends St{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?st:i.status==="dirty"?(n.dirty(),dh(i.value)):this._def.out._parseAsync({data:i.value,path:r.path,parent:r})})();{const s=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?st:s.status==="dirty"?(n.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:r.path,parent:r})}}static create(e,n){return new QE({in:e,out:n,typeName:it.ZodPipeline})}}class Yb extends St{_parse(e){const n=this._def.innerType._parse(e),r=s=>(Vu(s)&&(s.value=Object.freeze(s.value)),s);return Dg(n)?n.then(s=>r(s)):r(n)}unwrap(){return this._def.innerType}}Yb.create=(t,e)=>new Yb({innerType:t,typeName:it.ZodReadonly,...ft(e)});var it;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(it||(it={}));const YE=ea.create,l$=Lu.create;Ta.create;pi.create;const XE=gn.create;Og.create;Vg.create;Bl.create;Mu.create;Lg.create;da.create;ju.create;const Sne=XE({name:YE().min(1,"Nome  obrigatrio."),score:l$().int().optional()}),Ine=XE({name:YE().min(1,"Nome  obrigatrio."),points:l$().int()}),yi=T.forwardRef(({className:t,type:e,...n},r)=>v.jsx("input",{type:e,className:tt("flex h-9 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));yi.displayName="Input";var Cne="Label",c$=T.forwardRef((t,e)=>v.jsx(Je.label,{...t,ref:e,onMouseDown:n=>{n.target.closest("button, input, select, textarea")||(t.onMouseDown?.(n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));c$.displayName=Cne;var u$=c$;const Ane=R0("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Mg=T.forwardRef(({className:t,...e},n)=>v.jsx(u$,{ref:n,className:tt(Ane(),t),...e}));Mg.displayName=u$.displayName;const ZE=Dte,d$=T.createContext({}),ef=({...t})=>v.jsx(d$.Provider,{value:{name:t.name},children:v.jsx(Lte,{...t})}),Oy=()=>{const t=T.useContext(d$),e=T.useContext(h$),{getFieldState:n,formState:r}=Ny(),s=n(t.name,r);if(!t)throw new Error("useFormField should be used within <FormField>");const{id:i}=e;return{id:i,name:t.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...s}},h$=T.createContext({}),Fu=T.forwardRef(({className:t,...e},n)=>{const r=T.useId();return v.jsx(h$.Provider,{value:{id:r},children:v.jsx("div",{ref:n,className:tt("space-y-2",t),...e})})});Fu.displayName="FormItem";const Bu=T.forwardRef(({className:t,...e},n)=>{const{error:r,formItemId:s}=Oy();return v.jsx(Mg,{ref:n,className:tt(r&&"text-destructive",t),htmlFor:s,...e})});Bu.displayName="FormLabel";const Uu=T.forwardRef(({...t},e)=>{const{error:n,formItemId:r,formDescriptionId:s,formMessageId:i}=Oy();return v.jsx(uD,{ref:e,id:r,"aria-describedby":n?`${s} ${i}`:`${s}`,"aria-invalid":!!n,...t})});Uu.displayName="FormControl";const Pne=T.forwardRef(({className:t,...e},n)=>{const{formDescriptionId:r}=Oy();return v.jsx("p",{ref:n,id:r,className:tt("text-sm text-muted-foreground",t),...e})});Pne.displayName="FormDescription";const zu=T.forwardRef(({className:t,children:e,...n},r)=>{const{error:s,formMessageId:i}=Oy(),a=s?String(s?.message??""):e;return a?v.jsx("p",{ref:r,id:i,className:tt("text-sm font-medium text-destructive",t),...n,children:a}):null});zu.displayName="FormMessage";function Rne(){const[t,e]=T.useState(!1),{toast:n}=Ku(),r=yQ(),s=KE({resolver:GE(Sne),defaultValues:{name:"",score:0}}),i=l=>{r.mutate(l,{onSuccess:()=>{e(!1),s.reset(),n({title:"Jogador criado",description:`${l.name} foi adicionado  liga.`})},onError:()=>{n({variant:"destructive",title:"Erro",description:"No foi possvel cadastrar o jogador. Tente novamente."})}})},a=l=>{e(l),l||s.reset()};return v.jsxs(_l,{open:t,onOpenChange:a,children:[v.jsx($E,{asChild:!0,children:v.jsxs(wt,{className:"gap-2 bg-primary hover:bg-primary/90 text-primary-foreground font-semibold shadow-lg shadow-primary/20 transition-all hover:-translate-y-0.5",children:[v.jsx(D0,{className:"w-4 h-4"}),"Adicionar Jogador"]})}),v.jsxs(aa,{className:"sm:max-w-[425px]",children:[v.jsxs(la,{children:[v.jsx(ca,{children:"Adicionar Novo Jogador"}),v.jsx(ua,{children:"Cadastre um novo jogador na liga."})]}),v.jsx(ZE,{...s,children:v.jsxs("form",{onSubmit:s.handleSubmit(i),className:"space-y-4",children:[v.jsx(ef,{control:s.control,name:"name",render:({field:l})=>v.jsxs(Fu,{children:[v.jsx(Bu,{children:"Nome do Jogador"}),v.jsx(Uu,{children:v.jsx(yi,{placeholder:"ex: Neymar Jr",...l})}),v.jsx(zu,{})]})}),v.jsx(ef,{control:s.control,name:"score",render:({field:l})=>v.jsxs(Fu,{children:[v.jsx(Bu,{children:"Pontuao Inicial"}),v.jsx(Uu,{children:v.jsx(yi,{type:"number",placeholder:"0",...l,onChange:u=>l.onChange(parseInt(u.target.value)||0)})}),v.jsx(zu,{})]})}),v.jsx(bl,{className:"pt-4",children:v.jsx(wt,{type:"submit",disabled:r.isPending,children:r.isPending?"Cadastrando...":"Cadastrar Jogador"})})]})})]})]})}function kne(){const[t,e]=T.useState(!1),{toast:n}=Ku(),r=_Q(),s=KE({resolver:GE(Ine),defaultValues:{name:"",points:0}}),i=a=>{r.mutate(a,{onSuccess:()=>{e(!1),s.reset(),n({title:"Regra criada",description:`${a.name} (${a.points>0?"+":""}${a.points} pts) adicionada.`})},onError:()=>{n({variant:"destructive",title:"Erro",description:"No foi possvel criar a regra."})}})};return v.jsxs(_l,{open:t,onOpenChange:e,children:[v.jsx($E,{asChild:!0,children:v.jsxs(wt,{variant:"outline",className:"gap-2 border-dashed border-2 hover:border-primary hover:text-primary",children:[v.jsx(D0,{className:"w-4 h-4"}),"Adicionar Regra"]})}),v.jsxs(aa,{className:"sm:max-w-[425px]",children:[v.jsxs(la,{children:[v.jsx(ca,{children:"Nova Regra de Pontuao"}),v.jsx(ua,{children:"Determine como os eventos da partida afetam a pontuao."})]}),v.jsx(ZE,{...s,children:v.jsxs("form",{onSubmit:s.handleSubmit(i),className:"space-y-4",children:[v.jsx(ef,{control:s.control,name:"name",render:({field:a})=>v.jsxs(Fu,{children:[v.jsx(Bu,{children:"Nome da Regra"}),v.jsx(Uu,{children:v.jsx(yi,{placeholder:"ex: Defesa Difcil",...a})}),v.jsx(zu,{})]})}),v.jsx(ef,{control:s.control,name:"points",render:({field:a})=>v.jsxs(Fu,{children:[v.jsx(Bu,{children:"Pontos"}),v.jsx(Uu,{children:v.jsx(yi,{type:"number",placeholder:"5",...a,onChange:l=>a.onChange(Number.parseInt(l.target.value)||0)})}),v.jsx("div",{className:"text-xs text-muted-foreground",children:"Use nmeros negativos para penalidades (ex: -5)."}),v.jsx(zu,{})]})}),v.jsx(bl,{className:"pt-4",children:v.jsx(wt,{type:"submit",disabled:r.isPending,children:r.isPending?"Criando...":"Criar Regra"})})]})})]})]})}const Dne=XE({name:YE().min(1,"Nome  obrigatrio.")});function Nne({player:t}){const[e,n]=T.useState(!1),{toast:r}=Ku(),s=wQ(),i=KE({resolver:GE(Dne),defaultValues:{name:t.name},values:{name:t.name}}),a=l=>{s.mutate({id:t.id,name:l.name.trim()},{onSuccess:()=>{n(!1),r({title:"Jogador atualizado",description:"Nome atualizado com sucesso."})},onError:()=>{r({title:"Erro",description:"No foi possvel atualizar o jogador. Tente novamente.",variant:"destructive"})}})};return v.jsxs(_l,{open:e,onOpenChange:n,children:[v.jsx($E,{asChild:!0,children:v.jsx(wt,{variant:"ghost",size:"icon",className:"h-8 w-8 text-muted-foreground hover:text-primary hover:bg-primary/10",children:v.jsx(H_,{className:"w-4 h-4"})})}),v.jsxs(aa,{className:"sm:max-w-[425px]",children:[v.jsxs(la,{children:[v.jsx(ca,{children:"Editar Jogador"}),v.jsx(ua,{children:"Atualize o nome do jogador."})]}),v.jsx(ZE,{...i,children:v.jsxs("form",{onSubmit:i.handleSubmit(a),className:"space-y-4",children:[v.jsx(ef,{control:i.control,name:"name",render:({field:l})=>v.jsxs(Fu,{children:[v.jsx(Bu,{children:"Nome"}),v.jsx(Uu,{children:v.jsx(yi,{placeholder:"ex: Maciel Sousa",...l})}),v.jsx(zu,{})]})}),v.jsx(bl,{className:"pt-2",children:v.jsx(wt,{type:"submit",disabled:s.isPending,children:s.isPending?"Salvando...":"Salvar"})})]})})]})]})}function f$(t){const e=T.useRef({value:t,previous:t});return T.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var JE="Checkbox",[One]=Ws(JE),[Vne,Lne]=One(JE),p$=T.forwardRef((t,e)=>{const{__scopeCheckbox:n,name:r,checked:s,defaultChecked:i,required:a,disabled:l,value:u="on",onCheckedChange:d,form:f,...g}=t,[y,x]=T.useState(null),I=Tt(e,B=>x(B)),E=T.useRef(!1),S=y?f||!!y.closest("form"):!0,[k=!1,A]=Al({prop:s,defaultProp:i,onChange:d}),N=T.useRef(k);return T.useEffect(()=>{const B=y?.form;if(B){const j=()=>A(N.current);return B.addEventListener("reset",j),()=>B.removeEventListener("reset",j)}},[y,A]),v.jsxs(Vne,{scope:n,state:k,disabled:l,children:[v.jsx(Je.button,{type:"button",role:"checkbox","aria-checked":ha(k)?"mixed":k,"aria-required":a,"data-state":y$(k),"data-disabled":l?"":void 0,disabled:l,value:u,...g,ref:I,onKeyDown:We(t.onKeyDown,B=>{B.key==="Enter"&&B.preventDefault()}),onClick:We(t.onClick,B=>{A(j=>ha(j)?!0:!j),S&&(E.current=B.isPropagationStopped(),E.current||B.stopPropagation())})}),S&&v.jsx(Mne,{control:y,bubbles:!E.current,name:r,value:u,checked:k,required:a,disabled:l,form:f,style:{transform:"translateX(-100%)"},defaultChecked:ha(i)?!1:i})]})});p$.displayName=JE;var m$="CheckboxIndicator",g$=T.forwardRef((t,e)=>{const{__scopeCheckbox:n,forceMount:r,...s}=t,i=Lne(m$,n);return v.jsx(_s,{present:r||ha(i.state)||i.state===!0,children:v.jsx(Je.span,{"data-state":y$(i.state),"data-disabled":i.disabled?"":void 0,...s,ref:e,style:{pointerEvents:"none",...t.style}})})});g$.displayName=m$;var Mne=t=>{const{control:e,checked:n,bubbles:r=!0,defaultChecked:s,...i}=t,a=T.useRef(null),l=f$(n),u=dN(e);T.useEffect(()=>{const f=a.current,g=window.HTMLInputElement.prototype,x=Object.getOwnPropertyDescriptor(g,"checked").set;if(l!==n&&x){const I=new Event("click",{bubbles:r});f.indeterminate=ha(n),x.call(f,ha(n)?!1:n),f.dispatchEvent(I)}},[l,n,r]);const d=T.useRef(ha(n)?!1:n);return v.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s??d.current,...i,tabIndex:-1,ref:a,style:{...t.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function ha(t){return t==="indeterminate"}function y$(t){return ha(t)?"indeterminate":t?"checked":"unchecked"}var v$=p$,$ne=g$;const w$=T.forwardRef(({className:t,...e},n)=>v.jsx(v$,{ref:n,className:tt("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:v.jsx($ne,{className:tt("flex items-center justify-center text-current"),children:v.jsx(k0,{className:"h-4 w-4"})})}));w$.displayName=v$.displayName;function Xb(t,[e,n]){return Math.min(n,Math.max(e,t))}function jne(t,e){return T.useReducer((n,r)=>e[n][r]??n,t)}var eT="ScrollArea",[_$]=Ws(eT),[Fne,xs]=_$(eT),b$=T.forwardRef((t,e)=>{const{__scopeScrollArea:n,type:r="hover",dir:s,scrollHideDelay:i=600,...a}=t,[l,u]=T.useState(null),[d,f]=T.useState(null),[g,y]=T.useState(null),[x,I]=T.useState(null),[E,S]=T.useState(null),[k,A]=T.useState(0),[N,B]=T.useState(0),[j,G]=T.useState(!1),[O,P]=T.useState(!1),D=Tt(e,F=>u(F)),M=Ry(s);return v.jsx(Fne,{scope:n,type:r,dir:M,scrollHideDelay:i,scrollArea:l,viewport:d,onViewportChange:f,content:g,onContentChange:y,scrollbarX:x,onScrollbarXChange:I,scrollbarXEnabled:j,onScrollbarXEnabledChange:G,scrollbarY:E,onScrollbarYChange:S,scrollbarYEnabled:O,onScrollbarYEnabledChange:P,onCornerWidthChange:A,onCornerHeightChange:B,children:v.jsx(Je.div,{dir:M,...a,ref:D,style:{position:"relative","--radix-scroll-area-corner-width":k+"px","--radix-scroll-area-corner-height":N+"px",...t.style}})})});b$.displayName=eT;var x$="ScrollAreaViewport",E$=T.forwardRef((t,e)=>{const{__scopeScrollArea:n,children:r,nonce:s,...i}=t,a=xs(x$,n),l=T.useRef(null),u=Tt(e,l,a.onViewportChange);return v.jsxs(v.Fragment,{children:[v.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),v.jsx(Je.div,{"data-radix-scroll-area-viewport":"",...i,ref:u,style:{overflowX:a.scrollbarXEnabled?"scroll":"hidden",overflowY:a.scrollbarYEnabled?"scroll":"hidden",...t.style},children:v.jsx("div",{ref:a.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});E$.displayName=x$;var Ei="ScrollAreaScrollbar",tT=T.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=xs(Ei,t.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:a}=s,l=t.orientation==="horizontal";return T.useEffect(()=>(l?i(!0):a(!0),()=>{l?i(!1):a(!1)}),[l,i,a]),s.type==="hover"?v.jsx(Bne,{...r,ref:e,forceMount:n}):s.type==="scroll"?v.jsx(Une,{...r,ref:e,forceMount:n}):s.type==="auto"?v.jsx(T$,{...r,ref:e,forceMount:n}):s.type==="always"?v.jsx(nT,{...r,ref:e}):null});tT.displayName=Ei;var Bne=T.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=xs(Ei,t.__scopeScrollArea),[i,a]=T.useState(!1);return T.useEffect(()=>{const l=s.scrollArea;let u=0;if(l){const d=()=>{window.clearTimeout(u),a(!0)},f=()=>{u=window.setTimeout(()=>a(!1),s.scrollHideDelay)};return l.addEventListener("pointerenter",d),l.addEventListener("pointerleave",f),()=>{window.clearTimeout(u),l.removeEventListener("pointerenter",d),l.removeEventListener("pointerleave",f)}}},[s.scrollArea,s.scrollHideDelay]),v.jsx(_s,{present:n||i,children:v.jsx(T$,{"data-state":i?"visible":"hidden",...r,ref:e})})}),Une=T.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=xs(Ei,t.__scopeScrollArea),i=t.orientation==="horizontal",a=Ly(()=>u("SCROLL_END"),100),[l,u]=jne("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return T.useEffect(()=>{if(l==="idle"){const d=window.setTimeout(()=>u("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(d)}},[l,s.scrollHideDelay,u]),T.useEffect(()=>{const d=s.viewport,f=i?"scrollLeft":"scrollTop";if(d){let g=d[f];const y=()=>{const x=d[f];g!==x&&(u("SCROLL"),a()),g=x};return d.addEventListener("scroll",y),()=>d.removeEventListener("scroll",y)}},[s.viewport,i,u,a]),v.jsx(_s,{present:n||l!=="hidden",children:v.jsx(nT,{"data-state":l==="hidden"?"hidden":"visible",...r,ref:e,onPointerEnter:We(t.onPointerEnter,()=>u("POINTER_ENTER")),onPointerLeave:We(t.onPointerLeave,()=>u("POINTER_LEAVE"))})})}),T$=T.forwardRef((t,e)=>{const n=xs(Ei,t.__scopeScrollArea),{forceMount:r,...s}=t,[i,a]=T.useState(!1),l=t.orientation==="horizontal",u=Ly(()=>{if(n.viewport){const d=n.viewport.offsetWidth<n.viewport.scrollWidth,f=n.viewport.offsetHeight<n.viewport.scrollHeight;a(l?d:f)}},10);return Wu(n.viewport,u),Wu(n.content,u),v.jsx(_s,{present:r||i,children:v.jsx(nT,{"data-state":i?"visible":"hidden",...s,ref:e})})}),nT=T.forwardRef((t,e)=>{const{orientation:n="vertical",...r}=t,s=xs(Ei,t.__scopeScrollArea),i=T.useRef(null),a=T.useRef(0),[l,u]=T.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),d=P$(l.viewport,l.content),f={...r,sizes:l,onSizesChange:u,hasThumb:d>0&&d<1,onThumbChange:y=>i.current=y,onThumbPointerUp:()=>a.current=0,onThumbPointerDown:y=>a.current=y};function g(y,x){return Gne(y,a.current,l,x)}return n==="horizontal"?v.jsx(zne,{...f,ref:e,onThumbPositionChange:()=>{if(s.viewport&&i.current){const y=s.viewport.scrollLeft,x=gk(y,l,s.dir);i.current.style.transform=`translate3d(${x}px, 0, 0)`}},onWheelScroll:y=>{s.viewport&&(s.viewport.scrollLeft=y)},onDragScroll:y=>{s.viewport&&(s.viewport.scrollLeft=g(y,s.dir))}}):n==="vertical"?v.jsx(Wne,{...f,ref:e,onThumbPositionChange:()=>{if(s.viewport&&i.current){const y=s.viewport.scrollTop,x=gk(y,l);i.current.style.transform=`translate3d(0, ${x}px, 0)`}},onWheelScroll:y=>{s.viewport&&(s.viewport.scrollTop=y)},onDragScroll:y=>{s.viewport&&(s.viewport.scrollTop=g(y))}}):null}),zne=T.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...s}=t,i=xs(Ei,t.__scopeScrollArea),[a,l]=T.useState(),u=T.useRef(null),d=Tt(e,u,i.onScrollbarXChange);return T.useEffect(()=>{u.current&&l(getComputedStyle(u.current))},[u]),v.jsx(I$,{"data-orientation":"horizontal",...s,ref:d,sizes:n,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Vy(n)+"px",...t.style},onThumbPointerDown:f=>t.onThumbPointerDown(f.x),onDragScroll:f=>t.onDragScroll(f.x),onWheelScroll:(f,g)=>{if(i.viewport){const y=i.viewport.scrollLeft+f.deltaX;t.onWheelScroll(y),k$(y,g)&&f.preventDefault()}},onResize:()=>{u.current&&i.viewport&&a&&r({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:u.current.clientWidth,paddingStart:jg(a.paddingLeft),paddingEnd:jg(a.paddingRight)}})}})}),Wne=T.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...s}=t,i=xs(Ei,t.__scopeScrollArea),[a,l]=T.useState(),u=T.useRef(null),d=Tt(e,u,i.onScrollbarYChange);return T.useEffect(()=>{u.current&&l(getComputedStyle(u.current))},[u]),v.jsx(I$,{"data-orientation":"vertical",...s,ref:d,sizes:n,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Vy(n)+"px",...t.style},onThumbPointerDown:f=>t.onThumbPointerDown(f.y),onDragScroll:f=>t.onDragScroll(f.y),onWheelScroll:(f,g)=>{if(i.viewport){const y=i.viewport.scrollTop+f.deltaY;t.onWheelScroll(y),k$(y,g)&&f.preventDefault()}},onResize:()=>{u.current&&i.viewport&&a&&r({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:u.current.clientHeight,paddingStart:jg(a.paddingTop),paddingEnd:jg(a.paddingBottom)}})}})}),[Hne,S$]=_$(Ei),I$=T.forwardRef((t,e)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:s,onThumbChange:i,onThumbPointerUp:a,onThumbPointerDown:l,onThumbPositionChange:u,onDragScroll:d,onWheelScroll:f,onResize:g,...y}=t,x=xs(Ei,n),[I,E]=T.useState(null),S=Tt(e,D=>E(D)),k=T.useRef(null),A=T.useRef(""),N=x.viewport,B=r.content-r.viewport,j=sn(f),G=sn(u),O=Ly(g,10);function P(D){if(k.current){const M=D.clientX-k.current.left,F=D.clientY-k.current.top;d({x:M,y:F})}}return T.useEffect(()=>{const D=M=>{const F=M.target;I?.contains(F)&&j(M,B)};return document.addEventListener("wheel",D,{passive:!1}),()=>document.removeEventListener("wheel",D,{passive:!1})},[N,I,B,j]),T.useEffect(G,[r,G]),Wu(I,O),Wu(x.content,O),v.jsx(Hne,{scope:n,scrollbar:I,hasThumb:s,onThumbChange:sn(i),onThumbPointerUp:sn(a),onThumbPositionChange:G,onThumbPointerDown:sn(l),children:v.jsx(Je.div,{...y,ref:S,style:{position:"absolute",...y.style},onPointerDown:We(t.onPointerDown,D=>{D.button===0&&(D.target.setPointerCapture(D.pointerId),k.current=I.getBoundingClientRect(),A.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",x.viewport&&(x.viewport.style.scrollBehavior="auto"),P(D))}),onPointerMove:We(t.onPointerMove,P),onPointerUp:We(t.onPointerUp,D=>{const M=D.target;M.hasPointerCapture(D.pointerId)&&M.releasePointerCapture(D.pointerId),document.body.style.webkitUserSelect=A.current,x.viewport&&(x.viewport.style.scrollBehavior=""),k.current=null})})})}),$g="ScrollAreaThumb",C$=T.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=S$($g,t.__scopeScrollArea);return v.jsx(_s,{present:n||s.hasThumb,children:v.jsx(qne,{ref:e,...r})})}),qne=T.forwardRef((t,e)=>{const{__scopeScrollArea:n,style:r,...s}=t,i=xs($g,n),a=S$($g,n),{onThumbPositionChange:l}=a,u=Tt(e,g=>a.onThumbChange(g)),d=T.useRef(void 0),f=Ly(()=>{d.current&&(d.current(),d.current=void 0)},100);return T.useEffect(()=>{const g=i.viewport;if(g){const y=()=>{if(f(),!d.current){const x=Qne(g,l);d.current=x,l()}};return l(),g.addEventListener("scroll",y),()=>g.removeEventListener("scroll",y)}},[i.viewport,f,l]),v.jsx(Je.div,{"data-state":a.hasThumb?"visible":"hidden",...s,ref:u,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:We(t.onPointerDownCapture,g=>{const x=g.target.getBoundingClientRect(),I=g.clientX-x.left,E=g.clientY-x.top;a.onThumbPointerDown({x:I,y:E})}),onPointerUp:We(t.onPointerUp,a.onThumbPointerUp)})});C$.displayName=$g;var rT="ScrollAreaCorner",A$=T.forwardRef((t,e)=>{const n=xs(rT,t.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?v.jsx(Kne,{...t,ref:e}):null});A$.displayName=rT;var Kne=T.forwardRef((t,e)=>{const{__scopeScrollArea:n,...r}=t,s=xs(rT,n),[i,a]=T.useState(0),[l,u]=T.useState(0),d=!!(i&&l);return Wu(s.scrollbarX,()=>{const f=s.scrollbarX?.offsetHeight||0;s.onCornerHeightChange(f),u(f)}),Wu(s.scrollbarY,()=>{const f=s.scrollbarY?.offsetWidth||0;s.onCornerWidthChange(f),a(f)}),d?v.jsx(Je.div,{...r,ref:e,style:{width:i,height:l,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function jg(t){return t?parseInt(t,10):0}function P$(t,e){const n=t/e;return isNaN(n)?0:n}function Vy(t){const e=P$(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,r=(t.scrollbar.size-n)*e;return Math.max(r,18)}function Gne(t,e,n,r="ltr"){const s=Vy(n),i=s/2,a=e||i,l=s-a,u=n.scrollbar.paddingStart+a,d=n.scrollbar.size-n.scrollbar.paddingEnd-l,f=n.content-n.viewport,g=r==="ltr"?[0,f]:[f*-1,0];return R$([u,d],g)(t)}function gk(t,e,n="ltr"){const r=Vy(e),s=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,i=e.scrollbar.size-s,a=e.content-e.viewport,l=i-r,u=n==="ltr"?[0,a]:[a*-1,0],d=Xb(t,u);return R$([0,a],[0,l])(d)}function R$(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function k$(t,e){return t>0&&t<e}var Qne=(t,e=()=>{})=>{let n={left:t.scrollLeft,top:t.scrollTop},r=0;return(function s(){const i={left:t.scrollLeft,top:t.scrollTop},a=n.left!==i.left,l=n.top!==i.top;(a||l)&&e(),n=i,r=window.requestAnimationFrame(s)})(),()=>window.cancelAnimationFrame(r)};function Ly(t,e){const n=sn(t),r=T.useRef(0);return T.useEffect(()=>()=>window.clearTimeout(r.current),[]),T.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,e)},[n,e])}function Wu(t,e){const n=sn(e);yn(()=>{let r=0;if(t){const s=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return s.observe(t),()=>{window.cancelAnimationFrame(r),s.unobserve(t)}}},[t,n])}var D$=b$,Yne=E$,Xne=A$;const N$=T.forwardRef(({className:t,children:e,...n},r)=>v.jsxs(D$,{ref:r,className:tt("relative overflow-hidden",t),...n,children:[v.jsx(Yne,{className:"h-full w-full rounded-[inherit]",children:e}),v.jsx(O$,{}),v.jsx(Xne,{})]}));N$.displayName=D$.displayName;const O$=T.forwardRef(({className:t,orientation:e="vertical",...n},r)=>v.jsx(tT,{ref:r,orientation:e,className:tt("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...n,children:v.jsx(C$,{className:"relative flex-1 rounded-full bg-border"})}));O$.displayName=tT.displayName;var Zne=[" ","Enter","ArrowUp","ArrowDown"],Jne=[" ","Enter"],Rf="Select",[My,$y,ere]=I0(Rf),[cd]=Ws(Rf,[ere,Jg]),jy=Jg(),[tre,Pa]=cd(Rf),[nre,rre]=cd(Rf),V$=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:i,value:a,defaultValue:l,onValueChange:u,dir:d,name:f,autoComplete:g,disabled:y,required:x,form:I}=t,E=jy(e),[S,k]=T.useState(null),[A,N]=T.useState(null),[B,j]=T.useState(!1),G=Ry(d),[O=!1,P]=Al({prop:r,defaultProp:s,onChange:i}),[D,M]=Al({prop:a,defaultProp:l,onChange:u}),F=T.useRef(null),$=S?I||!!S.closest("form"):!0,[V,ne]=T.useState(new Set),ve=Array.from(V).map(de=>de.props.value).join(";");return v.jsx(wW,{...E,children:v.jsxs(tre,{required:x,scope:e,trigger:S,onTriggerChange:k,valueNode:A,onValueNodeChange:N,valueNodeHasChildren:B,onValueNodeHasChildrenChange:j,contentId:na(),value:D,onValueChange:M,open:O,onOpenChange:P,dir:G,triggerPointerDownPosRef:F,disabled:y,children:[v.jsx(My.Provider,{scope:e,children:v.jsx(nre,{scope:t.__scopeSelect,onNativeOptionAdd:T.useCallback(de=>{ne(me=>new Set(me).add(de))},[]),onNativeOptionRemove:T.useCallback(de=>{ne(me=>{const Z=new Set(me);return Z.delete(de),Z})},[]),children:n})}),$?v.jsxs(oj,{"aria-hidden":!0,required:x,tabIndex:-1,name:f,autoComplete:g,value:D,onChange:de=>M(de.target.value),disabled:y,form:I,children:[D===void 0?v.jsx("option",{value:""}):null,Array.from(V)]},ve):null]})})};V$.displayName=Rf;var L$="SelectTrigger",M$=T.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,i=jy(n),a=Pa(L$,n),l=a.disabled||r,u=Tt(e,a.onTriggerChange),d=$y(n),f=T.useRef("touch"),[g,y,x]=aj(E=>{const S=d().filter(N=>!N.disabled),k=S.find(N=>N.value===a.value),A=lj(S,E,k);A!==void 0&&a.onValueChange(A.value)}),I=E=>{l||(a.onOpenChange(!0),x()),E&&(a.triggerPointerDownPosRef.current={x:Math.round(E.pageX),y:Math.round(E.pageY)})};return v.jsx(bN,{asChild:!0,...i,children:v.jsx(Je.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":ij(a.value)?"":void 0,...s,ref:u,onClick:We(s.onClick,E=>{E.currentTarget.focus(),f.current!=="mouse"&&I(E)}),onPointerDown:We(s.onPointerDown,E=>{f.current=E.pointerType;const S=E.target;S.hasPointerCapture(E.pointerId)&&S.releasePointerCapture(E.pointerId),E.button===0&&E.ctrlKey===!1&&E.pointerType==="mouse"&&(I(E),E.preventDefault())}),onKeyDown:We(s.onKeyDown,E=>{const S=g.current!=="";!(E.ctrlKey||E.altKey||E.metaKey)&&E.key.length===1&&y(E.key),!(S&&E.key===" ")&&Zne.includes(E.key)&&(I(),E.preventDefault())})})})});M$.displayName=L$;var $$="SelectValue",j$=T.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:a="",...l}=t,u=Pa($$,n),{onValueNodeHasChildrenChange:d}=u,f=i!==void 0,g=Tt(e,u.onValueNodeChange);return yn(()=>{d(f)},[d,f]),v.jsx(Je.span,{...l,ref:g,style:{pointerEvents:"none"},children:ij(u.value)?v.jsx(v.Fragment,{children:a}):i})});j$.displayName=$$;var sre="SelectIcon",F$=T.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return v.jsx(Je.span,{"aria-hidden":!0,...s,ref:e,children:r||""})});F$.displayName=sre;var ire="SelectPortal",B$=t=>v.jsx(Kg,{asChild:!0,...t});B$.displayName=ire;var Ul="SelectContent",U$=T.forwardRef((t,e)=>{const n=Pa(Ul,t.__scopeSelect),[r,s]=T.useState();if(yn(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?zl.createPortal(v.jsx(z$,{scope:t.__scopeSelect,children:v.jsx(My.Slot,{scope:t.__scopeSelect,children:v.jsx("div",{children:t.children})})}),i):null}return v.jsx(W$,{...t,ref:e})});U$.displayName=Ul;var Vs=10,[z$,Ra]=cd(Ul),ore="SelectContentImpl",are=mu("SelectContent.RemoveScroll"),W$=T.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:a,side:l,sideOffset:u,align:d,alignOffset:f,arrowPadding:g,collisionBoundary:y,collisionPadding:x,sticky:I,hideWhenDetached:E,avoidCollisions:S,...k}=t,A=Pa(Ul,n),[N,B]=T.useState(null),[j,G]=T.useState(null),O=Tt(e,xe=>B(xe)),[P,D]=T.useState(null),[M,F]=T.useState(null),$=$y(n),[V,ne]=T.useState(!1),ve=T.useRef(!1);T.useEffect(()=>{if(N)return n2(N)},[N]),GM();const de=T.useCallback(xe=>{const[Ve,...Ke]=$().map(pt=>pt.ref.current),[Ge]=Ke.slice(-1),lt=document.activeElement;for(const pt of xe)if(pt===lt||(pt?.scrollIntoView({block:"nearest"}),pt===Ve&&j&&(j.scrollTop=0),pt===Ge&&j&&(j.scrollTop=j.scrollHeight),pt?.focus(),document.activeElement!==lt))return},[$,j]),me=T.useCallback(()=>de([P,N]),[de,P,N]);T.useEffect(()=>{V&&me()},[V,me]);const{onOpenChange:Z,triggerPointerDownPosRef:ce}=A;T.useEffect(()=>{if(N){let xe={x:0,y:0};const Ve=Ge=>{xe={x:Math.abs(Math.round(Ge.pageX)-(ce.current?.x??0)),y:Math.abs(Math.round(Ge.pageY)-(ce.current?.y??0))}},Ke=Ge=>{xe.x<=10&&xe.y<=10?Ge.preventDefault():N.contains(Ge.target)||Z(!1),document.removeEventListener("pointermove",Ve),ce.current=null};return ce.current!==null&&(document.addEventListener("pointermove",Ve),document.addEventListener("pointerup",Ke,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Ve),document.removeEventListener("pointerup",Ke,{capture:!0})}}},[N,Z,ce]),T.useEffect(()=>{const xe=()=>Z(!1);return window.addEventListener("blur",xe),window.addEventListener("resize",xe),()=>{window.removeEventListener("blur",xe),window.removeEventListener("resize",xe)}},[Z]);const[ue,q]=aj(xe=>{const Ve=$().filter(lt=>!lt.disabled),Ke=Ve.find(lt=>lt.ref.current===document.activeElement),Ge=lj(Ve,xe,Ke);Ge&&setTimeout(()=>Ge.ref.current.focus())}),re=T.useCallback((xe,Ve,Ke)=>{const Ge=!ve.current&&!Ke;(A.value!==void 0&&A.value===Ve||Ge)&&(D(xe),Ge&&(ve.current=!0))},[A.value]),Ce=T.useCallback(()=>N?.focus(),[N]),Re=T.useCallback((xe,Ve,Ke)=>{const Ge=!ve.current&&!Ke;(A.value!==void 0&&A.value===Ve||Ge)&&F(xe)},[A.value]),qe=r==="popper"?Zb:H$,et=qe===Zb?{side:l,sideOffset:u,align:d,alignOffset:f,arrowPadding:g,collisionBoundary:y,collisionPadding:x,sticky:I,hideWhenDetached:E,avoidCollisions:S}:{};return v.jsx(z$,{scope:n,content:N,viewport:j,onViewportChange:G,itemRefCallback:re,selectedItem:P,onItemLeave:Ce,itemTextRefCallback:Re,focusSelectedItem:me,selectedItemText:M,position:r,isPositioned:V,searchRef:ue,children:v.jsx(NE,{as:are,allowPinchZoom:!0,children:v.jsx(DE,{asChild:!0,trapped:A.open,onMountAutoFocus:xe=>{xe.preventDefault()},onUnmountAutoFocus:We(s,xe=>{A.trigger?.focus({preventScroll:!0}),xe.preventDefault()}),children:v.jsx(sf,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:xe=>xe.preventDefault(),onDismiss:()=>A.onOpenChange(!1),children:v.jsx(qe,{role:"listbox",id:A.contentId,"data-state":A.open?"open":"closed",dir:A.dir,onContextMenu:xe=>xe.preventDefault(),...k,...et,onPlaced:()=>ne(!0),ref:O,style:{display:"flex",flexDirection:"column",outline:"none",...k.style},onKeyDown:We(k.onKeyDown,xe=>{const Ve=xe.ctrlKey||xe.altKey||xe.metaKey;if(xe.key==="Tab"&&xe.preventDefault(),!Ve&&xe.key.length===1&&q(xe.key),["ArrowUp","ArrowDown","Home","End"].includes(xe.key)){let Ge=$().filter(lt=>!lt.disabled).map(lt=>lt.ref.current);if(["ArrowUp","End"].includes(xe.key)&&(Ge=Ge.slice().reverse()),["ArrowUp","ArrowDown"].includes(xe.key)){const lt=xe.target,pt=Ge.indexOf(lt);Ge=Ge.slice(pt+1)}setTimeout(()=>de(Ge)),xe.preventDefault()}})})})})})})});W$.displayName=ore;var lre="SelectItemAlignedPosition",H$=T.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,i=Pa(Ul,n),a=Ra(Ul,n),[l,u]=T.useState(null),[d,f]=T.useState(null),g=Tt(e,O=>f(O)),y=$y(n),x=T.useRef(!1),I=T.useRef(!0),{viewport:E,selectedItem:S,selectedItemText:k,focusSelectedItem:A}=a,N=T.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&d&&E&&S&&k){const O=i.trigger.getBoundingClientRect(),P=d.getBoundingClientRect(),D=i.valueNode.getBoundingClientRect(),M=k.getBoundingClientRect();if(i.dir!=="rtl"){const lt=M.left-P.left,pt=D.left-lt,Vt=O.left-pt,Lt=O.width+Vt,Kn=Math.max(Lt,P.width),Gn=window.innerWidth-Vs,Qn=Xb(pt,[Vs,Math.max(Vs,Gn-Kn)]);l.style.minWidth=Lt+"px",l.style.left=Qn+"px"}else{const lt=P.right-M.right,pt=window.innerWidth-D.right-lt,Vt=window.innerWidth-O.right-pt,Lt=O.width+Vt,Kn=Math.max(Lt,P.width),Gn=window.innerWidth-Vs,Qn=Xb(pt,[Vs,Math.max(Vs,Gn-Kn)]);l.style.minWidth=Lt+"px",l.style.right=Qn+"px"}const F=y(),$=window.innerHeight-Vs*2,V=E.scrollHeight,ne=window.getComputedStyle(d),ve=parseInt(ne.borderTopWidth,10),de=parseInt(ne.paddingTop,10),me=parseInt(ne.borderBottomWidth,10),Z=parseInt(ne.paddingBottom,10),ce=ve+de+V+Z+me,ue=Math.min(S.offsetHeight*5,ce),q=window.getComputedStyle(E),re=parseInt(q.paddingTop,10),Ce=parseInt(q.paddingBottom,10),Re=O.top+O.height/2-Vs,qe=$-Re,et=S.offsetHeight/2,xe=S.offsetTop+et,Ve=ve+de+xe,Ke=ce-Ve;if(Ve<=Re){const lt=F.length>0&&S===F[F.length-1].ref.current;l.style.bottom="0px";const pt=d.clientHeight-E.offsetTop-E.offsetHeight,Vt=Math.max(qe,et+(lt?Ce:0)+pt+me),Lt=Ve+Vt;l.style.height=Lt+"px"}else{const lt=F.length>0&&S===F[0].ref.current;l.style.top="0px";const Vt=Math.max(Re,ve+E.offsetTop+(lt?re:0)+et)+Ke;l.style.height=Vt+"px",E.scrollTop=Ve-Re+E.offsetTop}l.style.margin=`${Vs}px 0`,l.style.minHeight=ue+"px",l.style.maxHeight=$+"px",r?.(),requestAnimationFrame(()=>x.current=!0)}},[y,i.trigger,i.valueNode,l,d,E,S,k,i.dir,r]);yn(()=>N(),[N]);const[B,j]=T.useState();yn(()=>{d&&j(window.getComputedStyle(d).zIndex)},[d]);const G=T.useCallback(O=>{O&&I.current===!0&&(N(),A?.(),I.current=!1)},[N,A]);return v.jsx(ure,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:x,onScrollButtonChange:G,children:v.jsx("div",{ref:u,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:B},children:v.jsx(Je.div,{...s,ref:g,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});H$.displayName=lre;var cre="SelectPopperPosition",Zb=T.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=Vs,...i}=t,a=jy(n);return v.jsx(xN,{...a,...i,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Zb.displayName=cre;var[ure,sT]=cd(Ul,{}),Jb="SelectViewport",q$=T.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,i=Ra(Jb,n),a=sT(Jb,n),l=Tt(e,i.onViewportChange),u=T.useRef(0);return v.jsxs(v.Fragment,{children:[v.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),v.jsx(My.Slot,{scope:n,children:v.jsx(Je.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:We(s.onScroll,d=>{const f=d.currentTarget,{contentWrapper:g,shouldExpandOnScrollRef:y}=a;if(y?.current&&g){const x=Math.abs(u.current-f.scrollTop);if(x>0){const I=window.innerHeight-Vs*2,E=parseFloat(g.style.minHeight),S=parseFloat(g.style.height),k=Math.max(E,S);if(k<I){const A=k+x,N=Math.min(I,A),B=A-N;g.style.height=N+"px",g.style.bottom==="0px"&&(f.scrollTop=B>0?B:0,g.style.justifyContent="flex-end")}}}u.current=f.scrollTop})})})]})});q$.displayName=Jb;var K$="SelectGroup",[dre,hre]=cd(K$),fre=T.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=na();return v.jsx(dre,{scope:n,id:s,children:v.jsx(Je.div,{role:"group","aria-labelledby":s,...r,ref:e})})});fre.displayName=K$;var G$="SelectLabel",Q$=T.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=hre(G$,n);return v.jsx(Je.div,{id:s.id,...r,ref:e})});Q$.displayName=G$;var Fg="SelectItem",[pre,Y$]=cd(Fg),X$=T.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...a}=t,l=Pa(Fg,n),u=Ra(Fg,n),d=l.value===r,[f,g]=T.useState(i??""),[y,x]=T.useState(!1),I=Tt(e,A=>u.itemRefCallback?.(A,r,s)),E=na(),S=T.useRef("touch"),k=()=>{s||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return v.jsx(pre,{scope:n,value:r,disabled:s,textId:E,isSelected:d,onItemTextChange:T.useCallback(A=>{g(N=>N||(A?.textContent??"").trim())},[]),children:v.jsx(My.ItemSlot,{scope:n,value:r,disabled:s,textValue:f,children:v.jsx(Je.div,{role:"option","aria-labelledby":E,"data-highlighted":y?"":void 0,"aria-selected":d&&y,"data-state":d?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...a,ref:I,onFocus:We(a.onFocus,()=>x(!0)),onBlur:We(a.onBlur,()=>x(!1)),onClick:We(a.onClick,()=>{S.current!=="mouse"&&k()}),onPointerUp:We(a.onPointerUp,()=>{S.current==="mouse"&&k()}),onPointerDown:We(a.onPointerDown,A=>{S.current=A.pointerType}),onPointerMove:We(a.onPointerMove,A=>{S.current=A.pointerType,s?u.onItemLeave?.():S.current==="mouse"&&A.currentTarget.focus({preventScroll:!0})}),onPointerLeave:We(a.onPointerLeave,A=>{A.currentTarget===document.activeElement&&u.onItemLeave?.()}),onKeyDown:We(a.onKeyDown,A=>{u.searchRef?.current!==""&&A.key===" "||(Jne.includes(A.key)&&k(),A.key===" "&&A.preventDefault())})})})})});X$.displayName=Fg;var hh="SelectItemText",Z$=T.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...i}=t,a=Pa(hh,n),l=Ra(hh,n),u=Y$(hh,n),d=rre(hh,n),[f,g]=T.useState(null),y=Tt(e,k=>g(k),u.onItemTextChange,k=>l.itemTextRefCallback?.(k,u.value,u.disabled)),x=f?.textContent,I=T.useMemo(()=>v.jsx("option",{value:u.value,disabled:u.disabled,children:x},u.value),[u.disabled,u.value,x]),{onNativeOptionAdd:E,onNativeOptionRemove:S}=d;return yn(()=>(E(I),()=>S(I)),[E,S,I]),v.jsxs(v.Fragment,{children:[v.jsx(Je.span,{id:u.textId,...i,ref:y}),u.isSelected&&a.valueNode&&!a.valueNodeHasChildren?zl.createPortal(i.children,a.valueNode):null]})});Z$.displayName=hh;var J$="SelectItemIndicator",ej=T.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return Y$(J$,n).isSelected?v.jsx(Je.span,{"aria-hidden":!0,...r,ref:e}):null});ej.displayName=J$;var e0="SelectScrollUpButton",tj=T.forwardRef((t,e)=>{const n=Ra(e0,t.__scopeSelect),r=sT(e0,t.__scopeSelect),[s,i]=T.useState(!1),a=Tt(e,r.onScrollButtonChange);return yn(()=>{if(n.viewport&&n.isPositioned){let l=function(){const d=u.scrollTop>0;i(d)};const u=n.viewport;return l(),u.addEventListener("scroll",l),()=>u.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?v.jsx(rj,{...t,ref:a,onAutoScroll:()=>{const{viewport:l,selectedItem:u}=n;l&&u&&(l.scrollTop=l.scrollTop-u.offsetHeight)}}):null});tj.displayName=e0;var t0="SelectScrollDownButton",nj=T.forwardRef((t,e)=>{const n=Ra(t0,t.__scopeSelect),r=sT(t0,t.__scopeSelect),[s,i]=T.useState(!1),a=Tt(e,r.onScrollButtonChange);return yn(()=>{if(n.viewport&&n.isPositioned){let l=function(){const d=u.scrollHeight-u.clientHeight,f=Math.ceil(u.scrollTop)<d;i(f)};const u=n.viewport;return l(),u.addEventListener("scroll",l),()=>u.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?v.jsx(rj,{...t,ref:a,onAutoScroll:()=>{const{viewport:l,selectedItem:u}=n;l&&u&&(l.scrollTop=l.scrollTop+u.offsetHeight)}}):null});nj.displayName=t0;var rj=T.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,i=Ra("SelectScrollButton",n),a=T.useRef(null),l=$y(n),u=T.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return T.useEffect(()=>()=>u(),[u]),yn(()=>{l().find(f=>f.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[l]),v.jsx(Je.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:We(s.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(r,50))}),onPointerMove:We(s.onPointerMove,()=>{i.onItemLeave?.(),a.current===null&&(a.current=window.setInterval(r,50))}),onPointerLeave:We(s.onPointerLeave,()=>{u()})})}),mre="SelectSeparator",sj=T.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return v.jsx(Je.div,{"aria-hidden":!0,...r,ref:e})});sj.displayName=mre;var n0="SelectArrow",gre=T.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=jy(n),i=Pa(n0,n),a=Ra(n0,n);return i.open&&a.position==="popper"?v.jsx(EN,{...s,...r,ref:e}):null});gre.displayName=n0;function ij(t){return t===""||t===void 0}var oj=T.forwardRef((t,e)=>{const{value:n,...r}=t,s=T.useRef(null),i=Tt(e,s),a=f$(n);return T.useEffect(()=>{const l=s.current,u=window.HTMLSelectElement.prototype,f=Object.getOwnPropertyDescriptor(u,"value").set;if(a!==n&&f){const g=new Event("change",{bubbles:!0});f.call(l,n),l.dispatchEvent(g)}},[a,n]),v.jsx(of,{asChild:!0,children:v.jsx("select",{...r,ref:i,defaultValue:n})})});oj.displayName="BubbleSelect";function aj(t){const e=sn(t),n=T.useRef(""),r=T.useRef(0),s=T.useCallback(a=>{const l=n.current+a;e(l),(function u(d){n.current=d,window.clearTimeout(r.current),d!==""&&(r.current=window.setTimeout(()=>u(""),1e3))})(l)},[e]),i=T.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return T.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function lj(t,e,n){const s=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let a=yre(t,Math.max(i,0));s.length===1&&(a=a.filter(d=>d!==n));const u=a.find(d=>d.textValue.toLowerCase().startsWith(s.toLowerCase()));return u!==n?u:void 0}function yre(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var vre=V$,cj=M$,wre=j$,_re=F$,bre=B$,uj=U$,xre=q$,dj=Q$,hj=X$,Ere=Z$,Tre=ej,fj=tj,pj=nj,mj=sj;const Sre=vre,Ire=wre,gj=T.forwardRef(({className:t,children:e,...n},r)=>v.jsxs(cj,{ref:r,className:tt("flex h-9 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,v.jsx(_re,{asChild:!0,children:v.jsx($D,{className:"h-4 w-4 opacity-50"})})]}));gj.displayName=cj.displayName;const yj=T.forwardRef(({className:t,...e},n)=>v.jsx(fj,{ref:n,className:tt("flex cursor-default items-center justify-center py-1",t),...e,children:v.jsx(x9,{className:"h-4 w-4"})}));yj.displayName=fj.displayName;const vj=T.forwardRef(({className:t,...e},n)=>v.jsx(pj,{ref:n,className:tt("flex cursor-default items-center justify-center py-1",t),...e,children:v.jsx($D,{className:"h-4 w-4"})}));vj.displayName=pj.displayName;const wj=T.forwardRef(({className:t,children:e,position:n="popper",...r},s)=>v.jsx(bre,{children:v.jsxs(uj,{ref:s,className:tt("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin] safe-area-overlay",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[v.jsx(yj,{}),v.jsx(xre,{className:tt("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),v.jsx(vj,{})]})}));wj.displayName=uj.displayName;const Cre=T.forwardRef(({className:t,...e},n)=>v.jsx(dj,{ref:n,className:tt("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));Cre.displayName=dj.displayName;const _j=T.forwardRef(({className:t,children:e,...n},r)=>v.jsxs(hj,{ref:r,className:tt("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[v.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:v.jsx(Tre,{children:v.jsx(k0,{className:"h-4 w-4"})})}),v.jsx(Ere,{children:e})]}));_j.displayName=hj.displayName;const Are=T.forwardRef(({className:t,...e},n)=>v.jsx(mj,{ref:n,className:tt("-mx-1 my-1 h-px bg-muted",t),...e}));Are.displayName=mj.displayName;function Pre(){const{data:t}=xy(),{data:e}=Gx(),{data:n}=Qx(),r=gQ(),s=xQ(),i=TQ(),a=SQ(),l=EQ(),{toast:u}=Ku(),[d,f]=T.useState(""),[g,y]=T.useState(""),[x,I]=T.useState({}),[E,S]=T.useState(!1),[k,A]=T.useState(!1),[N,B]=T.useState(""),[j,G]=T.useState([]),[O,P]=T.useState(!1),[D,M]=T.useState(null),[F,$]=T.useState(""),V=d||n?.currentSessionId||null,ne=n?.isFinalized??!1,ve=!!V&&!ne,de=!!n?.currentSessionId||!!t?.some(W=>W.scoreDay!==0)||ne,{data:me,isLoading:Z}=Yx(V??null),ce=me?.participants??[],ue=T.useMemo(()=>new Set(ce),[ce]),q=T.useMemo(()=>{const W=t??[];if(!V)return[];if(ce.length===0)return[];const ae=new Map(ce.map((we,ze)=>[we,ze]));return W.filter(we=>ae.has(we.id)).slice().sort((we,ze)=>(ae.get(we.id)??0)-(ae.get(ze.id)??0))},[t,ce,V]),re=T.useMemo(()=>t?.find(W=>W.id===g)??null,[t,g]),Ce=T.useMemo(()=>!g||ce.length===0?!1:ue.has(g),[g,ue,ce.length]),Re=T.useMemo(()=>(e??[]).reduce((ae,we)=>{const ze=x[we.id]??0;return ae+ze*we.points},0),[e,x]),qe=(re?.scoreDay??0)+Re,et=(re?.score??0)+Re,xe=(W,ae)=>{I(we=>{const ze=Math.max(0,ae);if(ze===0){const{[W]:yt,...Pn}=we;return Pn}return{...we,[W]:ze}})},Ve=()=>I({}),Ke=()=>{const W=ce.length>0?ce:n?.lastParticipants??[],ae=new Set((t??[]).map(ze=>ze.id)),we=Array.from(new Set(W)).filter(ze=>ae.has(ze));G(we),B(""),A(!0)},Ge=T.useMemo(()=>new Set(j),[j]),lt=T.useMemo(()=>{const W=(t??[]).slice().sort((we,ze)=>we.name.localeCompare(ze.name,"pt-BR")),ae=N.trim().toLowerCase();return ae?W.filter(we=>we.name.toLowerCase().includes(ae)):W},[t,N]),pt=(W,ae)=>{G(we=>{const ze=new Set(we);return ae?ze.add(W):ze.delete(W),Array.from(ze)})},Vt=async()=>{if(V)try{const W=await r.mutateAsync({sessionId:V,participants:j});A(!1);const ae=new Set(W.participants);g&&!ae.has(g)&&(y(""),Ve()),u({title:"Participantes definidos",description:`${W.participants.length} jogador(es) selecionado(s) para o dia.`})}catch(W){u({title:"Erro",description:W instanceof Error?W.message:"No foi possvel salvar os participantes. Tente novamente.",variant:"destructive"})}},Lt=T.useMemo(()=>{const W=(t??[]).map(Ze=>({...Ze,scoreBefore:Ze.score,scoreAfter:Ze.score-Ze.scoreDay,scoreDayBefore:Ze.scoreDay,bestBefore:Ze.best,badBefore:Ze.bad,bestAfter:Ze.best,badAfter:Ze.bad,isBest:!1,isBad:!1,hasChanges:Ze.scoreDay!==0}));if(W.length===0)return{items:[],bestCount:0,badCount:0};const ae=ne&&ce.length>0?W.filter(Ze=>ue.has(Ze.id)):W;if(ae.length===0)return{items:W.filter(Ze=>Ze.hasChanges),bestCount:0,badCount:0};let we=ae[0].scoreDayBefore,ze=ae[0].scoreDayBefore;for(const Ze of ae)Ze.scoreDayBefore>we&&(we=Ze.scoreDayBefore),Ze.scoreDayBefore<ze&&(ze=Ze.scoreDayBefore);let yt=0,Pn=0;if(ne)for(const Ze of W){const vr=ce.length>0?ue.has(Ze.id):!0;vr&&Ze.scoreDayBefore===we&&Ze.bestBefore>0&&(Ze.isBest=!0,Ze.bestAfter=Math.max(0,Ze.bestBefore-1),Ze.hasChanges=!0,yt+=1),vr&&Ze.scoreDayBefore===ze&&Ze.badBefore>0&&(Ze.isBad=!0,Ze.badAfter=Math.max(0,Ze.badBefore-1),Ze.hasChanges=!0,Pn+=1)}return{items:W.filter(Ze=>Ze.hasChanges),bestCount:yt,badCount:Pn}},[t,ne,ce.length,ue]),Kn=async()=>{try{const W=await s.mutateAsync();f(W.sessionId),y(""),Ve(),u({title:"Pontuao iniciada",description:"A pontuao do dia foi zerada para todos os jogadores."}),Ke()}catch{u({title:"Erro",description:"No foi possvel iniciar a pontuao. Tente novamente.",variant:"destructive"})}},Gn=async()=>{if(!ve||!g)return;if(ce.length===0){u({title:"Defina os participantes",description:"Selecione quem jogou hoje antes de aplicar pontuao.",variant:"destructive"}),Ke();return}if(!Ce){u({title:"Jogador fora do dia",description:"Selecione um jogador que esteja na lista de participantes.",variant:"destructive"});return}if(!V){u({title:"Sesso no encontrada",description:"Clique em iniciar pontuao para criar uma sesso do dia.",variant:"destructive"});return}const W=(e??[]).map(ae=>{const we=x[ae.id]??0;return we?{categoryId:ae.id,categoryName:ae.name,points:ae.points,count:we,totalPoints:ae.points*we}:null}).filter(ae=>ae!==null);if(W.length===0){u({title:"Nada para aplicar",description:"Ajuste alguma regra antes de aplicar a pontuao.",variant:"destructive"});return}try{await i.mutateAsync({playerId:g,delta:Re,sessionId:V,items:W}),Ve(),u({title:"Pontuao aplicada",description:`${re?.name??"Jogador"} recebeu ${Re>0?"+":""}${Re} pts no dia.`})}catch{u({title:"Erro",description:"No foi possvel aplicar a pontuao. Tente novamente.",variant:"destructive"})}},Qn=async()=>{try{if(!V){u({title:"Sesso no encontrada",description:"Clique em iniciar pontuao para criar uma sesso do dia.",variant:"destructive"});return}if(ce.length===0){u({title:"Defina os participantes",description:"Selecione quem jogou hoje antes de finalizar a pontuao.",variant:"destructive"}),Ke();return}const W=await a.mutateAsync();f(""),y(""),Ve(),u({title:"Pontuao finalizada",description:`Melhor(es): ${W.bestUpdated} | Pancada(s): ${W.badUpdated}`})}catch(W){u({title:"Erro",description:W instanceof Error?W.message:"No foi possvel finalizar a pontuao. Tente novamente.",variant:"destructive"})}},qs=async()=>{try{const W=await l.mutateAsync();S(!1),f(""),y(""),Ve(),u({title:"Pontuao revertida",description:W.isFinalized?`Dia revertido. Best revertidos: ${W.bestReverted}, Bad revertidos: ${W.badReverted}.`:"Dia revertido. Voc pode iniciar a pontuao novamente."})}catch{u({title:"Erro",description:"No foi possvel reverter a pontuao. Tente novamente.",variant:"destructive"})}},Zr=O?g:null,yr=O?V??null:null,{data:_n,isLoading:z}=lL(Zr,yr),X=IQ(),oe=CQ(),Ie=T.useMemo(()=>(_n??[]).slice().sort((ae,we)=>(we.createdAt??"").localeCompare(ae.createdAt??"")),[_n]),fe=T.useMemo(()=>(_n??[]).reduce((W,ae)=>W+(ae.totalPoints??0),0),[_n]);return v.jsxs(Qo,{className:"border-primary/10 shadow-lg bg-gradient-to-br from-card to-secondary/5",children:[v.jsx(H0,{children:v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("div",{className:"p-2 rounded-lg bg-primary/10 text-primary",children:v.jsx(UD,{className:"w-5 h-5"})}),v.jsxs("div",{children:[v.jsx(q0,{children:"Atualizar Pontuao"}),v.jsx(K0,{children:"Registre os eventos da partida na hora"})]})]})}),v.jsxs(Yo,{className:"space-y-5",children:[v.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[v.jsx(wt,{className:"h-12 font-bold bg-secondary hover:bg-secondary/90 shadow-lg shadow-secondary/20",onClick:Kn,disabled:s.isPending,children:s.isPending?"Iniciando...":"Iniciar Pontuao"}),v.jsxs(wt,{variant:"outline",className:"h-12 font-bold",onClick:Ke,disabled:!V||Z,children:[v.jsx(K_,{className:"h-4 w-4 mr-2"}),Z?"Carregando...":`Participantes (${ce.length})`]}),v.jsx(wt,{variant:"outline",className:"h-12 font-bold",onClick:Qn,disabled:a.isPending||!V||ne,children:a.isPending?"Finalizando...":"Finalizar Pontuao"}),v.jsx(wt,{variant:"destructive",className:"h-12 font-bold",onClick:()=>S(!0),disabled:l.isPending||!de,children:l.isPending?"Revertendo...":"Reverter Pontuao"})]}),ne&&v.jsx("div",{className:"text-sm text-muted-foreground",children:"Pontuao finalizada. Inicie uma nova pontuao para continuar."}),v.jsxs("div",{className:"space-y-2",children:[v.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Selecione o jogador"}),v.jsxs(Sre,{value:g,onValueChange:W=>{y(W),Ve()},disabled:!ve||Z||ce.length===0,children:[v.jsx(gj,{className:"h-12 bg-background",children:v.jsx(Ire,{placeholder:ve?Z?"Carregando participantes...":ce.length===0?"Defina os participantes do dia":"Escolha um jogador...":"Clique em Iniciar Pontuao"})}),v.jsx(wj,{children:q.map(W=>v.jsx(_j,{value:W.id,children:W.name},W.id))})]})]}),v.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[v.jsxs("div",{className:"rounded-xl border bg-background p-4",children:[v.jsx("div",{className:"text-xs uppercase font-bold text-muted-foreground tracking-wider",children:"Pontuao do Dia"}),v.jsx("div",{className:"text-2xl font-display font-bold text-primary tabular-nums",children:ve&&re?qe:""})]}),v.jsxs("div",{className:"rounded-xl border bg-background p-4",children:[v.jsx("div",{className:"text-xs uppercase font-bold text-muted-foreground tracking-wider",children:"Pontuao Total"}),v.jsx("div",{className:"text-2xl font-display font-bold text-primary tabular-nums",children:ve&&re?et:""})]})]}),v.jsxs("div",{className:"space-y-3",children:[v.jsx("div",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wider",children:"Regras"}),v.jsx("div",{className:"space-y-2",children:(e??[]).slice().sort((W,ae)=>ae.points-W.points).map(W=>{const ae=x[W.id]??0,we=!ve||!g;return v.jsxs("div",{className:"flex items-center justify-between gap-3 rounded-xl border bg-background p-3",children:[v.jsxs("div",{className:"min-w-0",children:[v.jsx("div",{className:"text-sm",children:W.name}),v.jsxs("div",{className:"text-xs text-muted-foreground",children:[W.points>0?"+":"",W.points," pts"]})]}),v.jsxs("div",{className:"flex items-center gap-1",children:[v.jsx(wt,{variant:"outline",size:"icon",className:"h-9 w-9",disabled:we||ae===0,onClick:()=>xe(W.id,ae-1),children:v.jsx(C9,{className:"h-4 w-4"})}),v.jsx("div",{className:"w-10 text-center font-bold tabular-nums",children:ae}),v.jsx(wt,{variant:"outline",size:"icon",className:"h-9 w-9",disabled:we,onClick:()=>xe(W.id,ae+1),children:v.jsx(D0,{className:"h-4 w-4"})})]})]},W.id)})})]}),v.jsx(wt,{className:"w-full h-12 text-lg font-bold bg-primary hover:bg-primary/90 shadow-lg shadow-primary/20",disabled:!ve||!g||i.isPending||ce.length===0||!Ce,onClick:Gn,children:i.isPending?"Aplicando...":`Aplicar Pontuao (${Re>0?"+":""}${Re} pts)`}),v.jsxs(wt,{variant:"outline",className:"w-full h-12 font-bold",disabled:!ve||!g||!Ce,onClick:()=>P(!0),children:[v.jsx(H_,{className:"h-4 w-4 mr-2"}),"Corrigir/editar eventos do dia"]})]}),v.jsx(_l,{open:k,onOpenChange:A,children:v.jsxs(aa,{className:"max-w-2xl w-full max-h-[80vh] overflow-y-auto safe-area-overlay",children:[v.jsxs(la,{children:[v.jsx(ca,{children:"Quem jogou hoje?"}),v.jsx(ua,{children:"Selecione os participantes do dia. S eles aparecem no ranking do dia e entram em best/bad."})]}),V?t?v.jsxs("div",{className:"space-y-3",children:[ne&&v.jsxs("div",{className:"rounded-lg border bg-muted/30 p-3 text-sm",children:[v.jsx("div",{className:"font-semibold",children:"Dia finalizado"}),v.jsx("div",{className:"text-muted-foreground",children:"A lista de participantes fica travada aps finalizar (apenas visualizao)."})]}),v.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[v.jsx(yi,{placeholder:"Buscar jogador...",value:N,onChange:W=>B(W.target.value),disabled:ne}),v.jsx(wt,{variant:"outline",onClick:()=>G((t??[]).map(W=>W.id)),disabled:ne,children:"Selecionar todos"}),v.jsx(wt,{variant:"outline",onClick:()=>G([]),disabled:ne,children:"Limpar"}),v.jsx(wt,{variant:"outline",onClick:()=>{const W=new Set((t??[]).map(we=>we.id)),ae=Array.from(new Set(n?.lastParticipants??[])).filter(we=>W.has(we));G(ae)},disabled:ne||!n?.lastParticipants||n.lastParticipants.length===0,children:"Repetir ltimo"})]}),v.jsxs("div",{className:"text-sm text-muted-foreground",children:["Selecionados: ",v.jsx("span",{className:"font-semibold",children:j.length})]}),v.jsx(N$,{className:"h-[45vh] rounded-lg border bg-background",children:v.jsx("div",{className:"p-2 space-y-1",children:lt.map(W=>{const ae=Ge.has(W.id);return v.jsxs("div",{className:"flex items-center justify-between rounded-md px-2 py-2 hover:bg-muted/40",children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx(w$,{checked:ae,onCheckedChange:we=>pt(W.id,we===!0),disabled:ne}),v.jsx("div",{className:"text-sm font-medium",children:W.name})]}),v.jsxs("div",{className:"text-xs text-muted-foreground tabular-nums",children:["scoreDay: ",W.scoreDay]})]},W.id)})})})]}):v.jsx("div",{className:"text-sm text-muted-foreground",children:"Carregando jogadores..."}):v.jsx("div",{className:"text-sm text-muted-foreground",children:"Inicie a pontuao para criar uma sesso do dia."}),v.jsxs(bl,{className:"gap-2",children:[v.jsx(wt,{variant:"outline",onClick:()=>A(!1),children:"Cancelar"}),v.jsx(wt,{onClick:Vt,disabled:!V||ne||r.isPending||j.length===0,children:r.isPending?"Salvando...":"Salvar participantes"})]})]})}),v.jsx(_l,{open:O,onOpenChange:P,children:v.jsxs(aa,{className:"max-w-2xl w-full max-h-[80vh] overflow-y-auto safe-area-overlay",children:[v.jsxs(la,{children:[v.jsx(ca,{children:"Histrico do dia"}),v.jsx(ua,{children:"Edite/remova eventos para corrigir a pontuao do dia (auditvel). Isso tambm ajusta a pontuao total."})]}),!V||!re?v.jsx("div",{className:"text-sm text-muted-foreground",children:"Selecione uma sesso e um jogador."}):ne?v.jsxs("div",{className:"rounded-lg border bg-muted/30 p-3 text-sm",children:[v.jsx("div",{className:"font-semibold",children:"Dia finalizado"}),v.jsx("div",{className:"text-muted-foreground",children:"Para manter coerncia de best/bad, edies de eventos ficam bloqueadas aps finalizar."})]}):z?v.jsx("div",{className:"text-sm text-muted-foreground",children:"Carregando eventos..."}):v.jsxs("div",{className:"space-y-3",children:[v.jsxs("div",{className:"rounded-lg border bg-muted/30 p-3 text-sm",children:[v.jsx("div",{className:"text-xs uppercase text-muted-foreground",children:"Resumo"}),v.jsxs("div",{children:["Jogador: ",v.jsx("span",{className:"font-semibold",children:re.name})]}),v.jsxs("div",{children:["Total (eventos):"," ",v.jsxs("span",{className:"font-semibold",children:[fe>0?"+":"",fe," pts"]})]})]}),Ie.length===0?v.jsx("div",{className:"text-sm text-muted-foreground",children:"Nenhum evento registrado para este jogador."}):v.jsx("div",{className:"space-y-2",children:Ie.map(W=>{const ae=D===W.id;return v.jsxs("div",{className:"rounded-lg border bg-card p-3 text-sm",children:[v.jsxs("div",{className:"flex items-start justify-between gap-3",children:[v.jsxs("div",{className:"min-w-0",children:[v.jsx("div",{className:"font-semibold truncate",children:W.categoryName}),v.jsx("div",{className:"text-xs text-muted-foreground",children:W.createdAt?new Date(W.createdAt).toLocaleString("pt-BR"):""})]}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx(wt,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>{M(W.id),$(String(W.count))},disabled:oe.isPending||X.isPending,children:v.jsx(H_,{className:"h-4 w-4"})}),v.jsx(wt,{variant:"ghost",size:"icon",className:"h-8 w-8 text-muted-foreground hover:text-destructive hover:bg-destructive/10",onClick:()=>{!V||!g||confirm("Deseja remover este evento?")&&X.mutate({sessionId:V,playerId:g,eventId:W.id},{onSuccess:()=>{u({title:"Evento removido",description:"Pontuao recalculada."})},onError:we=>{u({title:"Erro",description:we instanceof Error?we.message:"No foi possvel remover o evento.",variant:"destructive"})}})},disabled:oe.isPending||X.isPending,children:v.jsx(q_,{className:"h-4 w-4"})})]})]}),v.jsxs("div",{className:"mt-2 grid grid-cols-1 sm:grid-cols-[1fr_auto] gap-2 items-center",children:[v.jsxs("div",{className:"text-xs text-muted-foreground",children:["pontos: ",W.points>0?"+":"",W.points]}),v.jsx("div",{className:"flex items-center justify-between sm:justify-end gap-2",children:ae?v.jsxs(v.Fragment,{children:[v.jsx(yi,{type:"number",min:0,className:"h-9 w-24",value:F,onChange:we=>$(we.target.value)}),v.jsx(wt,{variant:"outline",size:"icon",className:"h-9 w-9",onClick:async()=>{if(!V||!g)return;const we=Number.parseInt(F||"0",10)||0;try{await oe.mutateAsync({sessionId:V,playerId:g,eventId:W.id,count:we}),M(null),$(""),u({title:"Evento atualizado",description:"Contagem atualizada e pontuao recalculada."})}catch(ze){u({title:"Erro",description:ze instanceof Error?ze.message:"No foi possvel atualizar o evento.",variant:"destructive"})}},disabled:oe.isPending||X.isPending,children:v.jsx(k0,{className:"h-4 w-4"})}),v.jsx(wt,{variant:"outline",size:"icon",className:"h-9 w-9",onClick:()=>{M(null),$("")},children:v.jsx(N0,{className:"h-4 w-4"})})]}):v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:"text-xs text-muted-foreground",children:["count: ",W.count]}),v.jsxs("div",{className:"font-bold tabular-nums",children:[W.totalPoints>0?"+":"",W.totalPoints]})]})})]})]},W.id)})})]}),v.jsx(bl,{className:"gap-2",children:v.jsx(wt,{variant:"outline",onClick:()=>P(!1),children:"Fechar"})})]})}),v.jsx(_l,{open:E,onOpenChange:S,children:v.jsxs(aa,{className:"max-w-2xl w-full max-h-[80vh] overflow-y-auto safe-area-overlay",children:[v.jsxs(la,{children:[v.jsx(ca,{children:"Reverter pontuao do dia"}),v.jsx(ua,{children:"Essa ao desfaz a pontuao do dia, zera o `scoreDay` e apaga o histrico. Depois voc poder iniciar a pontuao novamente."})]}),!t||t.length===0?v.jsx("div",{className:"text-sm text-muted-foreground",children:"Nenhum jogador encontrado."}):Lt.items.length===0?v.jsx("div",{className:"text-sm text-muted-foreground",children:"No h alteraes para reverter (pontuao do dia j est zerada)."}):v.jsxs("div",{className:"space-y-3",children:[ne&&v.jsxs("div",{className:"rounded-lg border bg-muted/30 p-3 text-sm",children:[v.jsx("div",{className:"font-semibold",children:"Ateno"}),v.jsx("div",{className:"text-muted-foreground",children:"Como a pontuao j foi finalizada, esta reverso tambm vai desfazer `best` e `bad` (considerando empates)."})]}),v.jsxs("div",{className:"rounded-lg border bg-muted/30 p-3 text-sm",children:[v.jsx("div",{className:"text-xs uppercase text-muted-foreground",children:"Resumo"}),v.jsxs("div",{children:["Jogadores afetados: ",v.jsx("span",{className:"font-semibold",children:Lt.items.length})]}),ne&&v.jsxs("div",{children:["Best revertidos: ",v.jsx("span",{className:"font-semibold",children:Lt.bestCount})," | Bad revertidos:"," ",v.jsx("span",{className:"font-semibold",children:Lt.badCount})]})]}),v.jsx("div",{className:"space-y-2",children:Lt.items.slice().sort((W,ae)=>Math.abs(ae.scoreDayBefore)-Math.abs(W.scoreDayBefore)).map(W=>v.jsxs("div",{className:"rounded-lg border bg-card p-3 text-sm",children:[v.jsx("div",{className:"font-semibold",children:W.name}),v.jsxs("div",{className:"text-xs text-muted-foreground",children:["score: ",W.scoreBefore,"  ",W.scoreAfter," | scoreDay: ",W.scoreDayBefore,"  0"]}),ne&&(W.isBest||W.isBad)&&v.jsxs("div",{className:"text-xs text-muted-foreground",children:[W.isBest&&v.jsxs("span",{className:"mr-3",children:["best: ",W.bestBefore,"  ",W.bestAfter]}),W.isBad&&v.jsxs("span",{children:["bad: ",W.badBefore,"  ",W.badAfter]})]})]},W.id))})]}),v.jsxs(bl,{className:"gap-2",children:[v.jsx(wt,{variant:"outline",onClick:()=>S(!1),children:"Cancelar"}),v.jsx(wt,{variant:"destructive",onClick:qs,disabled:l.isPending||!de||!t||t.length===0,children:l.isPending?"Revertendo...":"Confirmar reverso"})]})]})})]})}const bj=yf(qn,"admins");function yk(t){return t?typeof t=="string"?t:typeof t=="number"?new Date(t).toISOString():t instanceof Date?t.toISOString():typeof t=="object"&&t&&"toDate"in t?t.toDate().toISOString():null:null}function Rre(t){return Wl({queryKey:["admin-status"],enabled:t,queryFn:async()=>{const e=vg.currentUser;if(!e)return{uid:"",isAdmin:!1};const n=await bf(sr(bj,e.uid));return{uid:e.uid,isAdmin:n.exists()}}})}function kre(t){return Wl({queryKey:["admin-users"],enabled:t,queryFn:async()=>({users:(await Ca(bj)).docs.map(r=>{const s=r.data();return{uid:r.id,email:s.email||r.id,createdAt:yk(s.createdAt),lastSignInAt:yk(s.lastSignInAt)}})})})}function Dre(){const[,t]=q1(),{isAuthenticated:e,isLoading:n,logout:r,isLoggingOut:s}=UE(),{data:i,isLoading:a}=Rre(e),l=i?.isAdmin??!1,{data:u,isLoading:d}=kre(l),f=T.useMemo(()=>(u?.users??[]).map(D=>({...D,createdLabel:vk(D.createdAt),lastSignInLabel:vk(D.lastSignInAt)})),[u?.users]);T.useEffect(()=>{!n&&!e&&t("/login")},[e,n,t]);const{data:g}=xy(),{data:y}=Gx(),{data:x}=Qx(),{data:I,isLoading:E}=Yx(x?.currentSessionId??null),S=vQ(),k=bQ(),A=!!x?.currentSessionId&&!(x?.isFinalized??!1),N=I?.participants??[],B=T.useMemo(()=>{if(!A)return[];if(N.length===0)return[];const P=new Set(N);return(g??[]).filter(D=>P.has(D.id)).slice().sort((D,M)=>M.scoreDay!==D.scoreDay?M.scoreDay-D.scoreDay:D.name.localeCompare(M.name))},[g,A,N]),j=B.slice(0,2),G=B.length<=2?[]:B.slice(-2),O=async()=>{await r(),t("/login")};return n||a||!e?v.jsx("div",{className:"page-scroll flex items-center justify-center safe-area-top safe-area-bottom",children:v.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):l?v.jsxs("div",{className:"page-scroll bg-background safe-area-bottom",children:[v.jsx("header",{className:"bg-card border-b border-border shadow-sm sticky top-0 z-10 safe-area-top",children:v.jsxs("div",{className:"max-w-4xl mx-auto px-4 h-16 flex items-center justify-between gap-4",children:[v.jsxs("div",{className:"flex items-center gap-4",children:[v.jsx(Q1,{href:"/",children:v.jsx(wt,{variant:"ghost",size:"icon",className:"-ml-2 hover:bg-muted",children:v.jsx(b9,{className:"w-5 h-5"})})}),v.jsx("h1",{className:"text-xl font-bold font-display",children:"Painel Administrativo"})]}),v.jsx("div",{className:"flex items-center gap-4",children:v.jsxs(wt,{variant:"outline",size:"sm",onClick:O,disabled:s,children:[v.jsx(I9,{className:"w-4 h-4 mr-2"}),s?"Saindo...":"Sair"]})})]})}),v.jsx("main",{className:"max-w-4xl mx-auto px-4 py-8",children:v.jsxs(z2,{defaultValue:"score",className:"space-y-6",children:[v.jsxs(BE,{className:"grid w-full grid-cols-4 h-12 bg-muted/50 p-1 rounded-xl",children:[v.jsxs(Zo,{value:"players",className:"rounded-lg data-[state=active]:bg-white data-[state=active]:shadow-sm",children:[v.jsx(K_,{className:"w-4 h-4 mr-2"}),"Jogadores"]}),v.jsxs(Zo,{value:"categories",className:"rounded-lg data-[state=active]:bg-white data-[state=active]:shadow-sm",children:[v.jsx(T9,{className:"w-4 h-4 mr-2"}),"Regras"]}),v.jsxs(Zo,{value:"score",className:"rounded-lg data-[state=active]:bg-white data-[state=active]:shadow-sm",children:[v.jsx(UD,{className:"w-4 h-4 mr-2"}),"Aes"]}),v.jsxs(Zo,{value:"users",className:"rounded-lg data-[state=active]:bg-white data-[state=active]:shadow-sm",children:[v.jsx(K_,{className:"w-4 h-4 mr-2"}),"Usurios"]})]}),v.jsxs(Jo,{value:"players",className:"space-y-6",children:[v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{children:[v.jsx("h2",{className:"text-lg font-bold",children:"Gerenciar Jogadores"}),v.jsx("p",{className:"text-sm text-muted-foreground",children:"Adicione ou remova jogadores da liga."})]}),v.jsx(Rne,{})]}),v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:g?.map(P=>v.jsxs("div",{className:"flex items-center p-3 rounded-xl border border-border bg-card hover:border-primary/50 transition-colors",children:[v.jsx(RE,{className:"h-10 w-10 border mr-3",children:v.jsx(kE,{children:GD(P.name)})}),v.jsxs("div",{className:"flex-1 min-w-0 mr-4",children:[v.jsx("h3",{className:"font-semibold text-sm truncate",children:P.name}),v.jsxs("p",{className:"text-xs text-muted-foreground",children:["Pontuao: ",P.score]})]}),v.jsx(Nne,{player:P}),v.jsx(wt,{variant:"ghost",size:"icon",className:"h-8 w-8 text-muted-foreground hover:text-destructive hover:bg-destructive/10",onClick:()=>{confirm(`Deseja excluir ${P.name}?`)&&S.mutate(P.id)},children:v.jsx(q_,{className:"w-4 h-4"})})]},P.id))})]}),v.jsxs(Jo,{value:"categories",className:"space-y-6",children:[v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{children:[v.jsx("h2",{className:"text-lg font-bold",children:"Regras de Pontuao"}),v.jsx("p",{className:"text-sm text-muted-foreground",children:"Defina os pontos associados aos eventos da partida."})]}),v.jsx(kne,{})]}),v.jsx(Qo,{className:"border-none shadow-none bg-transparent",children:v.jsx(Yo,{className:"p-0 grid grid-cols-1 sm:grid-cols-2 gap-3",children:y?.slice().sort((P,D)=>D.points-P.points).map(P=>v.jsxs("div",{className:"flex items-center justify-between p-4 rounded-xl border bg-card",children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsxs("div",{className:`
                        w-10 h-10 rounded-full flex items-center justify-center font-bold text-sm
                        ${P.points>0?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400":"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400"}
                      `,children:[P.points>0?"+":"",P.points]}),v.jsx("span",{className:"font-medium",children:P.name})]}),v.jsx(wt,{variant:"ghost",size:"icon",className:"h-8 w-8 text-muted-foreground hover:text-destructive hover:bg-destructive/10",onClick:()=>{confirm(`Deseja excluir a categoria ${P.name}?`)&&k.mutate(P.id)},children:v.jsx(q_,{className:"w-4 h-4"})})]},P.id))})})]}),v.jsxs(Jo,{value:"score",className:"space-y-6",children:[v.jsx(Pre,{}),v.jsxs("div",{className:"mt-8",children:[v.jsx("h3",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wider mb-4",children:"Ranking do Dia (em andamento)"}),A?E?v.jsx("div",{className:"text-sm text-muted-foreground",children:"Carregando participantes..."}):N.length===0?v.jsx("div",{className:"text-sm text-muted-foreground",children:"Defina os participantes do dia para ver o ranking em andamento."}):B.length===0?v.jsx("div",{className:"text-sm text-muted-foreground",children:"Nenhum participante encontrado."}):v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[v.jsxs("div",{className:"space-y-2",children:[v.jsx("div",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:"Top"}),j.map((P,D)=>v.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-muted/30",children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsxs("span",{className:"text-xs font-bold text-muted-foreground w-8",children:["#",D+1]}),v.jsx("span",{className:"font-medium text-sm",children:P.name})]}),v.jsxs("span",{className:"font-bold text-sm tabular-nums",children:[P.scoreDay," pts"]})]},P.id))]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx("div",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:"Fundo"}),G.length===0?v.jsx("div",{className:"text-sm text-muted-foreground",children:"Ranking com 2 jogadores (sem penltimo/ltimo separados)."}):G.map((P,D)=>{const M=B.length-(G.length-D)+1;return v.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-muted/30",children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsxs("span",{className:"text-xs font-bold text-muted-foreground w-8",children:["#",M]}),v.jsx("span",{className:"font-medium text-sm",children:P.name})]}),v.jsxs("span",{className:"font-bold text-sm tabular-nums",children:[P.scoreDay," pts"]})]},P.id)})]})]}):v.jsx("div",{className:"text-sm text-muted-foreground",children:"Inicie a pontuao do dia para ver o ranking em andamento."})]})]}),v.jsx(Jo,{value:"users",className:"space-y-6",children:v.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[1fr_2fr] gap-6",children:[v.jsx(Qo,{children:v.jsxs(Yo,{className:"p-6 space-y-4",children:[v.jsxs("div",{children:[v.jsx("h2",{className:"text-lg font-bold",children:"Cadastro manual"}),v.jsx("p",{className:"text-sm text-muted-foreground",children:"A criao de admins  feita manualmente no Firebase."})]}),v.jsxs("div",{className:"text-sm text-muted-foreground space-y-2",children:[v.jsx("p",{children:"1) Firebase Console  Authentication  Users  Add user."}),v.jsx("p",{children:"2) Copie o UID do usurio criado."}),v.jsx("p",{children:"3) Firestore  coleo `admins`  doc com ID = UID."}),v.jsx("p",{children:"4) Campos sugeridos: `email` e `createdAt`."})]})]})}),v.jsx(Qo,{children:v.jsxs(Yo,{className:"p-6 space-y-4",children:[v.jsxs("div",{children:[v.jsx("h2",{className:"text-lg font-bold",children:"Usurios administradores"}),v.jsx("p",{className:"text-sm text-muted-foreground",children:"Gerencie quem tem permisso para acessar o painel."})]}),d?v.jsx("div",{className:"text-sm text-muted-foreground",children:"Carregando usurios..."}):f.length===0?v.jsx("div",{className:"text-sm text-muted-foreground",children:"Nenhum usurio encontrado."}):v.jsx("div",{className:"space-y-3",children:f.map(P=>v.jsxs("div",{className:"rounded-lg border p-3",children:[v.jsx("div",{className:"font-medium",children:P.email}),v.jsxs("div",{className:"text-xs text-muted-foreground",children:["Criado em: ",P.createdLabel]}),v.jsxs("div",{className:"text-xs text-muted-foreground",children:["ltimo acesso: ",P.lastSignInLabel]})]},P.uid))})]})})]})})]})})]}):v.jsx("div",{className:"page-scroll flex items-center justify-center bg-background p-6 safe-area-top safe-area-bottom",children:v.jsx(Qo,{className:"max-w-md w-full",children:v.jsxs(Yo,{className:"p-6 text-center space-y-4",children:[v.jsx("div",{className:"text-lg font-semibold",children:"Acesso restrito"}),v.jsx("p",{className:"text-sm text-muted-foreground",children:"Seu usurio no possui permisso de administrador."}),v.jsx(wt,{onClick:O,disabled:s,children:s?"Saindo...":"Sair"})]})})})}function vk(t){if(!t)return"";const e=new Date(t);return Number.isNaN(e.getTime())?"":e.toLocaleString("pt-BR")}function Nre(){const[,t]=q1(),{toast:e}=Ku(),{isAuthenticated:n,isLoading:r}=UE(),[s,i]=T.useState(""),[a,l]=T.useState(""),[u,d]=T.useState(!1);T.useEffect(()=>{!r&&n&&t("/admin")},[n,r,t]);const f=async g=>{if(g.preventDefault(),!s||!a){e({title:"Erro no login",description:"Por favor, preencha todos os campos.",variant:"destructive"});return}d(!0);try{await Q7(vg,s,a),e({title:"Login realizado",description:"Bem-vindo ao painel administrativo!"}),t("/admin")}catch(y){if(y instanceof xi){if(y.code==="auth/user-not-found"){e({title:"Usurio no encontrado",description:"Solicite o cadastro com um administrador.",variant:"destructive"});return}if(y.code==="auth/wrong-password"||y.code==="auth/invalid-credential"){e({title:"Senha incorreta",description:"Tente novamente.",variant:"destructive"});return}}e({title:"Erro no login",description:"No foi possvel autenticar. Tente novamente.",variant:"destructive"})}finally{d(!1)}};return v.jsx("div",{className:"page-scroll flex items-center justify-center bg-muted/30 p-4 safe-area-top safe-area-bottom",children:v.jsxs(Qo,{className:"w-full max-w-md border-2 shadow-xl",children:[v.jsxs(H0,{className:"text-center space-y-2",children:[v.jsx("div",{className:"mx-auto w-12 h-12 rounded-full bg-primary/10 flex items-center justify-center mb-2",children:v.jsx(FD,{className:"w-6 h-6 text-primary"})}),v.jsx(q0,{className:"text-2xl font-bold",children:"Login Administrativo"}),v.jsx(K0,{children:"Entre com suas credenciais para gerenciar a liga"})]}),v.jsx(Yo,{children:v.jsxs("form",{onSubmit:f,className:"space-y-4",children:[v.jsxs("div",{className:"space-y-2",children:[v.jsx(Mg,{htmlFor:"email",children:"Email"}),v.jsxs("div",{className:"relative",children:[v.jsx(P9,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),v.jsx(yi,{id:"email",type:"email",placeholder:"admin@exemplo.com",className:"pl-10",value:s,onChange:g=>i(g.target.value),required:!0})]})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(Mg,{htmlFor:"password",children:"Senha"}),v.jsxs("div",{className:"relative",children:[v.jsx(S9,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),v.jsx(yi,{id:"password",type:"password",className:"pl-10",value:a,onChange:g=>l(g.target.value),required:!0})]})]}),v.jsxs(wt,{type:"submit",className:"w-full h-11 text-lg font-semibold gap-2 mt-2",disabled:u,children:[v.jsx(jD,{className:"w-5 h-5"}),u?"Entrando...":"Entrar"]}),v.jsx(wt,{type:"button",variant:"ghost",className:"w-full",onClick:()=>t("/"),children:"Voltar ao Ranking"})]})})]})})}const Ore=()=>{if(typeof window>"u")return"/";const[,t]=window.location.pathname.split("/");return t?`/${t}/`:"/"};function Vre(){return v.jsxs(W3,{children:[v.jsx(Xp,{path:"/",component:Pte}),v.jsx(Xp,{path:"/admin",component:Dre}),v.jsx(Xp,{path:"/login",component:Nre}),v.jsx(Xp,{component:FW})]})}function Lre(){const t=Ore();return v.jsx(O1,{children:v.jsx(u5,{client:T5,children:v.jsx(MW,{children:v.jsxs(G1,{base:t,children:[v.jsx(Vre,{}),v.jsx(d6,{})]})})})})}x3();NF.createRoot(document.getElementById("root")).render(v.jsx(Lre,{}));export{rU as K,Fk as a,Mre as b,jre as c,mw as d,$re as e,A_ as f,Sn as g,Uk as h,z4 as i,Bre as j,Fre as p,GF as r,i0 as w};
